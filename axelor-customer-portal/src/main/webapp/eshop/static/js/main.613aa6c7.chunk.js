(this["webpackJsonpaxelor-eshop"]=this["webpackJsonpaxelor-eshop"]||[]).push([[0],{128:function(e){e.exports=JSON.parse('{"Add a credit card":"Add a credit card","Add a product":"Add a product","Add to cart":"Add to cart","Address":"Address","Addresses":"Addresses","All prices are tax free":"All prices are tax free","All prices include taxes":"All prices include taxes","CVC":"CVC","Cancel":"Cancel","Card number":"Card number","City":"City","Complement":"Complement","Confirm deletion":"Confirm deletion","Confirm order content":"Are you sure to order ?","Confirm order":"Confirm order","Confirm order using default card ?":"Confirm order using default card ?","Confirm quotation request":"Confirm quotation request","Confirm":"Confirm","Continue checkout":"Continue checkout","Continue shopping":"Continue shopping","Country":"Country","Credit card":"Credit card","Delivery address":"Delivery address","Discount":"Discount","EShops":"EShops","Error creating order. Please try again":"Error creating order. Please try again","Error requesting quotation. Please try again":"Error requesting quotation. Please try again","Error":"Error","Eshop not processing checkout":"Eshop not processing checkout","Eshop":"Eshop","Expiry":"Expiry","Invoicing address":"Invoicing address","Invalid expiry":"Invalid expiry","Invalid cvc":"Invalid CVC","Invalid card number":"Invalid card number","More":"More","Name":"Name","New address":"New address","No record found":"No record found","One or multiple items have changed in your cart":"One or multiple items have changed in your cart","Order summary":"Order summary","Paybox":"Paybox","Payment Cards":"Payment Cards","Pay using card":"Pay using card","Products":"Products","Quantity":"Quantity","Request quotation":"Request quotation","Required":"Required","Save":"Save","Search":"Search","Thank you for shopping":"Thank you for shopping","Total discount":"Total discount","Total tax":"Total tax","Total without tax":"Total without tax","Total":"Total","Unavailable":"Unavailable","Your payment could not be completed":"Your payment could not be completed","Your payment has been successfully completed":"Your payment has been successfully completed","Zip code":"Zip code"}')},129:function(e){e.exports=JSON.parse('{"Add a credit card":"Ajouter une carte de cr\xe9dit","Add a product":"Ajouter un produit","Add to cart":"Ajouter au panier","Address":"Address","Addresses":"Adresses","All prices are tax free":"Tous les prix sont en HT","All prices include taxes":"Tous les prix sont en TTC","CVC":"CVC","Cancel":"Annuler","Card number":"Num\xe9ro de carte","City":"Ville","Complement":"Compl\xe9ment","Confirm deletion":"Confirmation de la suppression","Confirm order content":"\xcates-vous s\xfbr(e) de commander ?","Confirm order":"Confirmer la commande","Confirm order using default card ?":"Confirmer la commande en utilisant la carte par d\xe9faut?","Confirm quotation request":"Confirmer la demande de devis","Confirm":"Confirmer","Continue checkout":"Continuer la commande","Continue shopping":"Continuer vos achats","Country":"Pays","Credit card":"Carte de cr\xe9dit","Delivery address":"Adresse de livraison","Discount":"Remise","EShops":"EShops","Error creating order. Please try again":"Erreur lors de la cr\xe9ation de la commande. Veuillez r\xe9essayer","Error requesting quotation. Please try again":"Erreur lors de la demande de devis. Veuillez r\xe9essayer","Error":"Erreur","Eshop not processing checkout":"Eshop ne traite pas le paiement","Eshop":"Eshop","Expiry":"Expiration","Invoicing address":"Adresse de facturation","Invalid expiry":"Expiration invalide","Invalid cvc":"CVC invalide","Invalid card number":"Num\xe9ro de carte invalide","More":"Plus","Name":"Nom","New address":"Nouvelle adresse","No record found":"Aucun enregistrement trouv\xe9","One or multiple items have changed in your cart":"Un ou plusieurs articles ont chang\xe9 dans votre panier","Order summary":"R\xe9capitulatif de la commande","Paybox":"Paybox","Payment Cards":"Cartes de paiement","Pay using card":"Payer par carte","Products":"Produits","Quantity":"Quantit\xe9","Request quotation":"Demande de devis","Required":"Requis","Save":"Enregistrer","Search":"Rechercher","Thank you for shopping":"Merci pour vos achats","Total discount":"Remise","Total tax":"Taxes","Total without tax":"Montant total HT","Total":"Total","Unavailable":"Indisponible","Your payment could not be completed":"Votre paiement n\'a pas pu aboutir","Your payment has been successfully completed":"Votre paiement a \xe9t\xe9 effectu\xe9 avec succ\xe8s","Zip code":"Code postal"}')},172:function(e,t,a){e.exports=a(214)},213:function(e,t,a){},214:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),o=a.n(c),i=a(285),l=a(44),s=a(15),u=a(8),d=a(6),m=a(27),p=a(120),f=a(264),h=a(37);function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return JSON.parse(localStorage.getItem(e))||t}catch(a){return t}}function g(e,t){localStorage.setItem(e,JSON.stringify(t))}var v=r.a.createContext();function y(){return Object(n.useContext)(v)}var C=function(e){var t=e.children,a=Object(n.useState)({cart:{},config:{},checkoutAddresses:{}}),c=Object(d.a)(a,2),o=c[0],i=o.cart,l=o.config,s=o.checkoutAddresses,p=c[1],f=Object(n.useCallback)((function(e){p((function(t){return Object(u.a)({},t,{cart:e})}))}),[]),h=Object(n.useCallback)((function(e){p((function(t){return Object(u.a)({},t,{checkoutAddresses:e})}))}),[]),y=Object(n.useCallback)((function(e){return p((function(t){return Object(u.a)({},t,{config:e})}))}),[]),C=Object(n.useCallback)((function(){f({})}),[f]),E=Object(n.useCallback)((function(e,t){p((function(a){return Object(u.a)({},a,{cart:Object(u.a)({},a.cart,Object(m.a)({},e,t))})}))}),[]),O=Object(n.useCallback)((function(e){p((function(t){return Object(u.a)({},t,{checkoutAddresses:Object(u.a)({},t.checkoutAddresses,Object(m.a)({},"invoicing",e))})}))}),[]),j=Object(n.useCallback)((function(e){p((function(t){return Object(u.a)({},t,{checkoutAddresses:Object(u.a)({},t.checkoutAddresses,Object(m.a)({},"delivery",e))})}))}),[]),k=Object(n.useCallback)((function(e){p((function(t){var a=Object(u.a)({},t.cart);return delete a[e],Object(u.a)({},t,{cart:a})}))}),[]);Object(n.useEffect)((function(){var e=b("cart"),t=b("address");e&&Object.keys(e).length>0?f(e):f({}),t&&Object.keys(t).length>0?h(t):h({})}),[f,h]),Object(n.useEffect)((function(){i&&function(e){g("cart",e)}(i)}),[i]),Object(n.useEffect)((function(){s&&Object.keys(s).length&&g("address",s)}),[s]);var P=Object(n.useMemo)((function(){return{cart:i,checkoutAddresses:s,config:l,setCart:f,clearCart:C,setConfig:y,setItem:E,clearItem:k,setInvoicingAddress:O,setDeliveryAddress:j}}),[i,s,l,f,C,y,E,k,O,j]);return r.a.createElement(v.Provider,{value:P},t)},E=a(265),O=Object(f.a)((function(e){return{root:{height:"inherit",width:"inherit",position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},top:{color:"#eef3fd"},bottom:{color:e.palette.secondary.main,animationDuration:"250ms",position:"absolute"}}}));var j=function(e){var t=O();return r.a.createElement("div",{className:t.root},r.a.createElement(E.a,Object.assign({variant:"determinate",value:100,className:t.top,size:24,thickness:4},e)),r.a.createElement(E.a,Object.assign({variant:"indeterminate",disableShrink:!0,className:t.bottom,size:24,thickness:4},e)))},k=a(25),P=a(2),x=Object(f.a)((function(e){return{divider:{borderColor:e.palette.secondary.main}}}));var w=function(e){var t=e.className,a=Object(k.a)(e,["className"]),n=x();return r.a.createElement("hr",Object.assign({className:Object(P.a)(n.divider,t)},a))},N=a(69),A=Object(f.a)((function(e){return{row:{display:"flex",marginBottom:e.spacing(.5),justifyContent:"space-between"}}}));function S(e){var t=e.total,a=e.totalLabel,n=e.totalWithoutTax,c=e.totalDiscount,o=e.totalWithoutTaxLabel,i=e.totalTax,l=e.totalTaxLabel,s=e.totalDiscountLabel,u=e.divider,d=e.className,m=A();return r.a.createElement("div",{className:d},u&&r.a.createElement(w,null),r.a.createElement("div",{className:m.row},r.a.createElement(N.a,null,o),r.a.createElement(N.a,null,n)),r.a.createElement("div",{className:m.row},r.a.createElement(N.a,null,s),r.a.createElement(N.a,null,c)),r.a.createElement("div",{className:m.row},r.a.createElement(N.a,null,l),r.a.createElement(N.a,null,i)),u&&r.a.createElement(w,null),r.a.createElement("div",{className:m.row},r.a.createElement(N.a,null,r.a.createElement("b",null,a)),r.a.createElement(N.a,null,r.a.createElement("b",null,t))))}S.defaultProps={divider:!0,total:"0.00",totalTax:"0.00",totalWithoutTax:"0.00",totalDiscount:"0.00",totalLabel:"Total",totalTaxLabel:"Total Tax",totalWithoutTaxLabel:"Total Without Tax",totalDiscountLabel:"Total Discount"};var I=S,T=a(275),D=a(274),B=a(276),q=a(157),R=a(124),L=a(61),F=a.n(L),M=a(96),z=a(4),W=Object(z.a)((function(){return{root:{position:"relative",width:"100%",overflow:"hidden",backgroundColor:"#ffffff",borderRadius:4},elevation1:{boxShadow:"0px 0px 30px rgba(0,0,0,0.15)"}}}))(M.a),_=a(64),Q=a(286),U=a(13),H=Object(f.a)((function(e){return{root:{border:"1px solid #E2E2E1",overflow:"hidden",borderRadius:4,backgroundColor:"white",transition:e.transitions.create(["border-color","box-shadow"]),"&$disabled":{backgroundColor:"#FCFCFB"},"&:hover":{backgroundColor:"#FFFFFF"},"&$focused":{backgroundColor:"#FFFFFF",boxShadow:"".concat(Object(U.c)(e.palette.secondary.main,.25)," 0 0 0 1px"),borderColor:e.palette.secondary.main}},disabled:{},focused:{}}})),V=Object(f.a)((function(e){return{root:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%","&$filled":{transition:e.transitions.create(["color"]),"&$focused":{color:e.palette.secondary.main}}},error:{},asterisk:{},focused:{},filled:{}}})),Y=r.a.forwardRef((function(e,t){var a=e.error,n=e.readOnly,c=e.InputProps,o=Object(k.a)(e,["error","readOnly","InputProps"]),i=H(),l=V();return r.a.createElement(Q.a,Object.assign({margin:"dense",ref:t,variant:"filled",fullWidth:!0},o,{InputLabelProps:{shrink:!0,classes:l},InputProps:Object(u.a)({readOnly:n,disableUnderline:!0,classes:i},c||{}),error:Boolean(a),helperText:a}))})),X=a(287),G=a(268),J=a(267),Z=a(24),$=Object(f.a)((function(){return{root:{"&:focus":{backgroundColor:"white"}}}})),K=Object(f.a)((function(){return{paper:{maxHeight:300}}})),ee=Object(f.a)((function(e){return{root:{"&$selected":{color:e.palette.secondary.main,backgroundColor:e.palette.secondary.light},"&:hover":{color:e.palette.secondary.main,backgroundColor:e.palette.secondary.light}},selected:{}}})),te=Object(f.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center"},paper:{width:"90%",maxWidth:400}}}));function ae(e){var t=e.options,a=e.onLoadMore,c=e.showLoadingOption,o=e.onOpen,i=e.onClose,l=Object(k.a)(e,["options","onLoadMore","showLoadingOption","onOpen","onClose"]),s=Object(n.useRef)(),m=Object(n.useState)(null),p=Object(d.a)(m,2),f=p[0],h=p[1],b=Object(Z.a)(),g=Object(J.a)(b.breakpoints.down("sm")),v=$(),y=K(),C=ee(),E=te(),O=Object(n.useCallback)((function(e){if(a){var t,n=null===s||void 0===s||null===(t=s.current)||void 0===t?void 0:t.getBoundingClientRect(),r=n.top,c=n.left;h({top:r,left:c})}o&&o(e)}),[a,o]),P=Object(n.useCallback)((function(e){a&&h(null),i&&i(e)}),[a,i]);return r.a.createElement(Y,Object.assign({select:!0,ref:s,SelectProps:{classes:v,MenuProps:Object(u.a)({classes:y},g?{anchorReference:"none",PopoverClasses:E,BackdropProps:{invisible:!1}}:Object(u.a)({},f?{anchorReference:"anchorPosition",anchorPosition:f}:{}),{onScroll:function(e){var t=e.target;t.scrollTop===t.scrollHeight-t.clientHeight&&a&&a()}}),onOpen:O,onClose:P}},l),t.map((function(e){return r.a.createElement(G.a,{key:e.value,value:e.value,classes:C},e.label)})),c&&r.a.createElement(G.a,{disabled:!0},r.a.createElement(X.a,{width:"100%"},r.a.createElement(j,null))))}ae.defaultProps={options:[]};var ne=ae,re=Object(f.a)((function(){return{input:{"&[type=number]":{MozAppearance:"textfield","&::-webkit-outer-spin-button, &::-webkit-inner-spin-button":{WebkitAppearance:"none",margin:0}}}}})),ce=function(e){var t=e.maxItems,a=e.moreLabel,n=e.name,c=e.onChange,o=e.value,i=Object(k.a)(e,["maxItems","moreLabel","name","onChange","value"]),l=r.a.useState(o>t),s=Object(d.a)(l,2),u=s[0],m=s[1],p=r.a.useRef(),f=re();r.a.useEffect((function(){u&&p.current.focus()}),[u]);var h=r.a.useCallback((function(){m(!0)}),[]),b=r.a.useCallback((function(e){"more"===e.target.value?(h(),c({target:{value:t,name:n}})):(c(e),u||document.activeElement&&document.activeElement.blur&&document.activeElement.blur())}),[h,u,c,t,n]);return u?r.a.createElement(Y,Object.assign({ref:p,inputProps:{className:f.input},onChange:b,name:n,value:o},i,{type:"number",min:1})):r.a.createElement(ne,Object.assign({name:n,options:[].concat(Object(_.a)(Object(_.a)(Array(t).keys()).map((function(e){return{value:e+1,label:e+1}}))),[{value:"more",label:a}]),onChange:b,value:o},i))};ce.defaultProps={maxItems:10,moreLabel:"More"};var oe,ie=ce,le=a(270),se=a(271),ue=a(272),de=a(273),me=a(153),pe=a(154),fe=a(57),he=a(269),be=a(289),ge=a(125),ve=a(126),ye=a(128),Ce=a(129),Ee=a(130),Oe=a.n(Ee),je=a(92),ke=a(93),Pe=a(131),xe=a.n(Pe),we={};function Ne(e){var t=document.cookie||"";return t!==oe&&(oe=t,we=t.split("; ").reduce((function(e,t){var a=t.split("=");return e[a[0]]=a[1],e}),{})),we[e]}var Ae=function(){function e(t,a){Object(je.a)(this,e),this.http=t,this.entity=a}return Object(ke.a)(e,[{key:"insert",value:function(e){return this.http.put("/ws/rest/"+this.entity,e)}},{key:"update",value:function(e){return this.http.post("/ws/rest/"+this.entity,e)}},{key:"delete",value:function(e){return this.http.delete("/ws/rest/"+this.entity+"/"+e)}},{key:"deleteAll",value:function(e){return this.http.post("/ws/rest/".concat(this.entity,"/removeAll"),{records:e.map((function(e){return{id:e.id,version:e.version}}))})}},{key:"fetch",value:function(e,t){return this.http.post("/ws/rest/"+this.entity+"/"+e+"/fetch",t)}},{key:"copy",value:function(e,t){return this.http.get("/ws/rest/"+this.entity+"/"+e+"/copy",t)}},{key:"details",value:function(e,t){return this.http.get("/ws/rest/"+this.entity+"/"+e+"/details?name="+t)}},{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post("/ws"+(this.entity?"/rest/".concat(this.entity):"")+"/search",e)}}]),e}(),Se=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.baseURL,n=void 0===a?"/":a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(je.a)(this,e),this.instance=xe.a.create({baseURL:n}),this.interceptor=r}return Object(ke.a)(e,[{key:"catchError",value:function(e){console.log("catch error",e),this.callback?this.callback(e):"".concat(e).includes("401")}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,r=a.headers,c=void 0===r?{}:r,o=a.token,i=void 0===o||o,l=a.withCredentials,s=void 0===l||l,d=Object(u.a)({},i?{"X-CSRF-Token":Ne("CSRF-TOKEN")}:{},{},n||Object.assign({},{accept:"application/json","x-requested-with":"XMLHttpRequest"},c,Object.keys(t).length?{"content-type":"application/json"}:{})),m=Object.assign({url:e,method:"POST",headers:d,data:"application/json"===d["content-type"]?JSON.stringify(t):t},a,{withCredentials:s});return"GET"!==m.method&&"HEAD"!==m.method||!m.data||delete m.data,this.instance(m)}},{key:"intercept",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=Object.assign({method:a,withCredentials:!0},c),i=function(){return t.request(e,n,o,r)},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e5;return new Promise((function(t,a){setTimeout((function(){a(new Error("Request failed Timeout"))}),e)}))};return Promise.race([l(),i().then((function(e){return 401===e.status?t.catchError({logout:!0}):e.data}))]).catch(this.catchError.bind(this))}},{key:"get",value:function(e,t,a){return this.intercept(e,"GET",{},t,a)}},{key:"post",value:function(e,t,a){return this.intercept(e,"POST",t,a)}},{key:"patch",value:function(e,t,a){return this.intercept(e,"PATCH",t,a)}},{key:"put",value:function(e,t,a){return this.intercept(e,"PUT",t,a)}},{key:"delete",value:function(e,t){return this.intercept(e,"DELETE",{},t)}},{key:"head",value:function(e,t){return this.intercept(e,"HEAD",{},t)}},{key:"action",value:function(e,t){return this.intercept("/ws/action"+e,"POST",t)}},{key:"rest",value:function(e){return new Ae(this,e)}},{key:"login",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object.assign({},this.config||{},t);return this.request("/callback",{username:a.username,password:a.password},{token:!1}).then((function(t){var n=null;if(void 0===t)throw new Error("Failed To Connect !!");return t&&401===t.status?n=!1:t&&200===t.status&&(n=!0,e.config=a),n})).catch(this.catchError.bind(this))}},{key:"logout",value:function(){return this.get("/logout")}},{key:"info",value:function(){return this.get("/ws/app/info")}},{key:"checkInfo",value:function(){return this.request("/ws/app/info",{},{method:"GET"}).then((function(e){return e.data})).then((function(e){return{appUser:e,app:{name:e["application.name"],version:e["application.version"],description:e["application.description"]},user:{id:e["user.id"],code:e["user.login"],name:e["user.name"],language:e["user.lang"]||"en",email:e["user.login"],theme:e["user.theme"]||""}}}))}},{key:"upload",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(c,o){var i=new XMLHttpRequest,l="/ws/files/upload",s=function(){return a["X-File-Id"]?e.intercept((function(){return e.delete("".concat(l,"/").concat(a["X-File-Id"]))})):Promise.resolve(!0)};i.open("POST",l,!0),Object.keys(a).forEach((function(e){i.setRequestHeader(e,a[e])})),i.withCredentials=!0,i.overrideMimeType("application/octet-stream"),i.setRequestHeader("Content-Type","application/octet-stream"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("X-CSRF-Token",Ne("CSRF-TOKEN")),i.onload=function(){n(100)},r.abort=function(){return i.abort(),s()},i.onreadystatechange=function(){if(4===i.readyState)switch(i.status){case 401:throw this.callbackInterceptor(),new Error("Unauthorized !!");case 200:try{var e=JSON.parse(i.responseText);c(e)}catch(t){c(i.responseText)}break;default:s(),o({status:i.status})}},i.upload.onprogress=function(e){var t=a["X-File-Size"],c=parseFloat(a["X-File-Offset"])+e.loaded,o=Math.round(c/t*100);r.progress=o>95?"95%":o+"%",r.transfer=function(e,t){var a=function(e){return e>1e9?parseFloat(e/1e9).toFixed(2)+" GB":e>1e6?parseFloat(e/1e6).toFixed(2)+" MB":e>=1e3?parseFloat(e/1e3).toFixed(2)+" KB":e+" B"};return a(e||0)+"/"+a(t)}(c,t),r.loaded=c===t,e.lengthComputable&&n(e.loaded/e.total*100,r)},i.send(t)}))}}]),e}())({baseURL:"../"});function Ie(e){return"./".concat(Se.instance.defaults.baseURL,"ws/portal/metafile/").concat(e)}function Te(e){if(e&&0===e.status)return e;throw new Error(e&&e.message)}function De(e){return function(e){var t=e._pictures&&e._pictures.length;e.images=t?e._pictures.map(Ie):[]}(e),function(e){var t=e&&e._currency&&e._currency.symbol;t&&(e._previousPrice?(e._displayPrice=t+e._previousPrice,e._displayDiscountPrice=t+e._price):e._displayPrice=t+e._price)}(e),function(e){e._discount&&e._discount.includes("%")&&(e._displayDiscountPercentage=e._discount)}(e),function(e){"service"===e.productTypeSelect||Number(e._realQty)||(e.unavailable=!0)}(e),e}function Be(){return{data:[],total:0}}function qe(){return{}}function Re(){return[]}function Le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.data=e.data||t,e}function Fe(e){var t=e.address,a=e.addressComplement,n=e.zipCode,r=e.countryName,c=e.cityName;return"".concat(t||""," ").concat(a||""," ").concat(c||""," ").concat(n||""," ").concat(r||"")}function Me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number.parseFloat(e).toFixed(t)}function ze(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return a?e+" "+t:e+t}function We(e){return e&&e.currency&&e.currency.symbol}function _e(e){return function(e){var t=We(e);if(!t)return e;var a=function(e){return ze(e,t)};return Object.assign(e,{total:a(e.total),totalTax:a(e.totalTax),totalWithoutTax:a(e.totalWithoutTax),totalDiscount:a(e.totalDiscount)})}(function(e){var t=We(e),a=Ke(e.mainInvoicingAddress),n=Ke(e.deliveryAddress);return a.displayAddress=Fe(a),n.displayAddress=Fe(n),{id:e.id,date:e.checkoutDate,total:e.inTaxTotal||"0.00",totalTax:e.taxTotal||"0.00",totalWithoutTax:e.exTaxTotal||"0.00",totalDiscount:e._discountTotal||"0.00",currency:e.currency,invoicingAddress:a,deliveryAddress:n,lines:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return{id:e.id,name:e.productName,qty:Me(e.qty),unitPrice:t?ze(Me(e.price),t):Me(e.price),vat:e.taxLine&&e.taxLine.value?ze(Me(100*e.taxLine.value),"%"):"",discount:t?ze(Me(e._discountTotal||"0.00"),t):"0.00",total:t?ze(Me(e.inTaxTotal),t):Me(e.inTaxTotal),productId:e.product&&e.product.id,productTypeSelect:e.product&&e.product.productTypeSelect}}))}(e.saleOrderLineList),itemsChanged:e.itemsChanged,original:{total:e.inTaxTotal},paymentModes:e.paymentModes||[]}}(e))}function Qe(e){return e.itemsChanged&&(e.lines=e.lines.filter((function(e){return"service"!==e.productTypeSelect&&"0.00"!==e.qty}))),e}function Ue(e){return e&&e.data}function He(e,t){return e.data&&(e.data=t(e.data)),e}function Ve(e){return Object.assign({},e,{displayAddress:Fe(e)})}function Ye(e){return He(e,(function(e){return e.map(De)}))}function Xe(e){return He(e,(function(e){return e.map(tt)}))}function Ge(e){return He(e,(function(e){return e.map(Ke)}))}function Je(e){return He(e,(function(e){return e.map(Ve)}))}function Ze(e,t){return t?e+"?"+function(e){return Oe.a.stringify(e)}(t):e}function $e(e){return{addressL4:e.address,addressL2:e.addressComplement,zip:e.zipCode,cityId:e.city,id:e.id,addressL7CountryId:e.country}}function Ke(e){var t=e.city,a=e.addressL7Country;return{address:e.addressL4,addressComplement:e.addressL2,zipCode:e.zip,city:e.cityId||t&&t.id,id:e.id,country:e.addressL7CountryId||a&&a.id,cityName:t&&t.name||"",countryName:a&&a.name||""}}function et(e){var t=e.deliveryAddress,a=e.invoicingAddress,n=e.cart;return{deliveryAddressId:t.id,mainInvoicingAddressId:a.id,cart:Object.keys(n).reduce((function(e,t){return e.push({productId:Number(t),quantity:n[t]}),e}),[])}}function tt(e){var t=e.expiry,a=void 0===t?"":t,n=e.brand,r=a.slice(0,a.length-2),c=a.slice(a.length-2),o="".concat(r,"/").concat(c),i=e.cardNumber,l=void 0===i?"":i,s=(l=String(l))&&l.slice(l.length-4);return Object(u.a)({},e,{expiryDisplay:o,last4:s,brand:n||""})}var at={fetchProducts:function(e){var t=Ze("/ws/portal/products",e);return Se.get(t).then(Te).then(Le).then(Ye).catch(Be)},fetchProduct:function(e){var t="/ws/portal/products/".concat(e);return Se.get(t).then(Te).then((function(e){return Le(e,{})})).then(Ue).then(De).catch(qe)},fetchCategories:function(){return Se.get("/ws/portal/categories").then(Te).then(Le).then(Ue).catch(Re)},fetchCategoryProducts:function(e,t){var a=Ze("/ws/portal/categories/".concat(e,"/products"),t);return Se.get(a).then(Te).then(Le).then(Ye).catch(Be)},fetchAddresses:function(){return Se.get("/ws/portal/addresses").then(Te).then(Le).then(Ge).then(Je).catch(Be)},fetchAddress:function(e){var t="/ws/portal/addresses/".concat(e);return Se.get(t).then(Te).then(Ue).then(Ke)},addAddress:function(e){return Se.post("/ws/portal/addresses",$e(e)).then(Te).then(Ue)},deleteAddress:function(e){var t="/ws/portal/addresses/".concat(e);return Se.delete(t)},updateAddress:function(e,t){var a="/ws/portal/addresses/".concat(e);return Se.post(a,$e(t)).then(Te).then(Ue)},fetchCities:function(e,t){var a=Ze(e?"/ws/portal/countries/".concat(e,"/cities"):"/ws/portal/cities",t);return Se.get(a).then(Te)},fetchCountries:function(){return Se.get("/ws/portal/countries").then(Te).then(Le).then(Ue).catch(Re)},checkCart:function(e){var t={cart:Object.keys(e).map((function(t){return{productId:Number(t),quantity:e[t]}}))};return Se.post("/ws/portal/cart/check-cart",t).then(Te).then(Ue).then(_e).then(Qe).catch(qe)},checkoutPaypal:function(e){var t=e.paypalPaymentData,a=e.orderData,n=t.id,r=et(a);return Se.post("/ws/portal/cart/checkout/paypal",{paypalOrderId:n,orderData:r}).then(Te).then(Ue)},checkoutPaybox:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,a=e.orderData,n="/ws/portal/cart/checkout/paybox",r=et(a),c={orderData:r,successURL:t+"/success",failureURL:t+"/failure"};return Se.post(n,c).then(Te).then(Ue)},checkoutPaymentCard:function(e){var t=e.cardId,a={orderData:et(e.orderData)};return t&&(a.cardId=t),Se.post("/ws/portal/cart/checkout/stripe",a).then(Te).then(Ue)},checkoutQuotation:function(e){var t={orderData:et(e.orderData)};return Se.post("/ws/portal/cart/checkout/quotation",t).then(Te).then(Ue)},fetchPaymentCards:function(){return Se.get("/ws/portal/payment-cards").then(Te).then(Le).then(Xe).catch(Be)},fetchPaymentCard:function(e){var t="/ws/portal/payment-cards/".concat(e);return Se.get(t).then(Te).then(Ue).then(tt)},addPaymentCard:function(e){return Se.post("/ws/portal/payment-cards",e).then(Te)},updatePaymentCard:function(e,t){var a="/ws/portal/payment-cards/".concat(e);return Se.post(a,t).then(Te)},deletePaymentCard:function(e){var t="/ws/portal/payment-cards/".concat(e);return Se.delete(t).then((function(e){if(-1===e.status)throw new Error(e&&e.message)}))},fetchPaymentCardConfiguration:function(){return Se.get("/ws/portal/config/is-card-active").then(Te).then(Ue).then((function(e){return{isPaymentCardActivated:e.isStripeActivated}}))},fetchDefaultPaymentCard:function(){return Se.get("/ws/portal/payment-cards/default").then(Te).then(Ue)},updateDefaultPaymentCard:function(e){var t="/ws/portal/payment-cards/default/".concat(e);return Se.post(t).then(Te)},fetchPaypalMerchantId:function(){return Se.get("/ws/portal/config/merchant-id").then(Te).then(Ue).catch(qe)},fetchTranslations:function(e){return Se.post("/ws/portal/translate",e).then((function(e){e&&0===e.status||(e.data=[]);var t=e.data;return Array.isArray(t)?t.reduce((function(e,t){return e[t.key]=t.message,e}),{}):{}})).catch((function(){return{}}))},fetchConfiguration:function(){return Se.get("/ws/portal/config").then(Te).then(Ue).then((function(e){return{isQuotationRequestActive:e.isQuotationRequestActive}})).catch((function(){return{isQuotationRequestActive:!1}}))},fetchInfo:function(){return Se.checkInfo()}},nt={en:ye,fr:Ce},rt=pe.a.createInstance(),ct=navigator.language.includes("fr")?"fr":"en";rt.use(fe.e).use(ve.a).use(ge.a).init({lng:ct,fallbackLng:"en",interpolation:{escapeValue:!1},backend:{request:function(e,t,a,n){var r=function(e){return Object(me.a)(/\/locales\/([0-9A-Z_a-z]+)\/translation.json/gm,{lang:1}).exec(e).groups.lang||"en"}(t),c=nt[r]||nt.en;at.fetchTranslations({keys:Object.keys(c),lang:r}).then((function(e){var t=JSON.stringify(Object.assign({},c,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,a){var n=e[a];return n&&(t[a]=n),t}),{})}(e)));n(null,{status:!0,data:t})}))}},keySeparator:!1});var ot=function(e){var t=e.children;return r.a.createElement(he.a,{i18n:rt},t)},it=be.a;function lt(e){var t=it().t,a=e.open,n=e.onClose,c=e.onConfirm,o=e.onCancel,i=e.children,l=e.title;return r.a.createElement(le.a,{open:a,onClose:n},r.a.createElement(se.a,null,l),r.a.createElement(ue.a,null,i),r.a.createElement(de.a,null,r.a.createElement(D.a,{variant:"outlined",onClick:o||n},t("Cancel")),r.a.createElement(D.a,{onClick:c},t("Confirm"))))}lt.defaultProps={title:"Confirmation Dialog",open:!1,onClose:function(){},onConfirm:function(){}};var st=lt;function ut(e){var t=e.ButtonProps,a=e.DialogProps,n=e.onConfirm,c=r.a.useState(!1),o=Object(d.a)(c,2),i=o[0],l=o[1],s=r.a.useCallback((function(){l(!0)}),[]),u=r.a.useCallback((function(){l(!1)}),[]),m=r.a.useCallback((function(){u(),n&&n()}),[n,u]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{className:t.className,variant:t.variant,onClick:s,disabled:t.disabled},t.label),r.a.createElement(st,{open:i,onClose:u,onConfirm:m,title:a.title,children:a.children}))}ut.defaultProps={ButtonProps:{},DialogProps:{}};var dt=ut;function mt(e){var t=e.disabled,a=e.onClick,n=it().t;return r.a.createElement(dt,{ButtonProps:{disabled:t,label:n("Request quotation")},DialogProps:{title:n("Request quotation"),children:n("Confirm quotation request")},onConfirm:a})}function pt(e){var t=e.disabled,a=e.onClick,n=it().t;return r.a.createElement(dt,{ButtonProps:{disabled:t,label:n("Confirm order")},DialogProps:{title:n("Confirm order"),children:n("Confirm order content")},onConfirm:a})}mt.defaultProps={disabled:!1,onClick:function(){}},pt.defaultProps={disabled:!1,onClick:function(){}};var ft=Object(f.a)({button:{width:150}});function ht(e){var t=e.disabled,a=e.onClick,n=it().t,c=ft();return r.a.createElement(D.a,{className:c.button,disabled:t,onClick:a,variant:"outlined"},n("Paybox"))}function bt(e){var t=e.disabled,a=e.onClick,n=it().t;return r.a.createElement(dt,{ButtonProps:{disabled:t,label:n("Pay using card")},DialogProps:{title:n("Pay using card"),children:n("Confirm order content")},onConfirm:a})}ht.defaultProps={disabled:!1,onClick:function(){}},bt.defaultProps={showButton:!1,disabled:!1,onClick:function(){}};var gt=Object(f.a)((function(e){return{paper:{padding:e.spacing(2)},actionWrapper:{display:"flex",alignItems:"center",flexDirection:"column",marginTop:e.spacing(2)},actionTitle:{marginBottom:e.spacing()},action:{marginBottom:e.spacing()}}}));function vt(e){var t=e.total,a=e.totalTax,n=e.totalDiscount,c=e.totalWithoutTax,o=e.message,i=e.PaypalButtonProps,l=e.PayboxButtonProps,s=e.RequestQuotationButtonProps,u=e.PaymentCardButtonProps,d=e.ConfirmOrderButtonProps,m=it().t,p=gt();return r.a.createElement(W,{className:p.paper},r.a.createElement(N.a,{variant:"h5"},m("Order summary")),r.a.createElement(I,{total:t,totalTax:a,totalDiscount:n,totalWithoutTax:c,totalLabel:m("Total"),totalTaxLabel:m("Total tax"),totalWithoutTaxLabel:m("Total without tax"),totalDiscountLabel:m("Total discount")}),r.a.createElement("div",{className:p.actionWrapper},s.showButton&&r.a.createElement("div",{className:p.action},r.a.createElement(mt,s)),d.showButton&&r.a.createElement("div",{className:p.action},r.a.createElement(pt,d)),u.showButton&&r.a.createElement("div",{className:p.action},r.a.createElement(bt,u)),l.showButton&&r.a.createElement("div",{className:p.action},r.a.createElement(ht,l)),i.showButton&&r.a.createElement("div",{className:p.action},r.a.createElement(R.PayPalButton,Object.assign({style:{color:"blue",shape:"pill",height:36}},i))),o&&r.a.createElement("div",{className:p.action},r.a.createElement(N.a,null,o))))}vt.defaultProps={message:"",PaypalButtonProps:{},PayboxButtonProps:{},RequestQuotationButtonProps:{},PaymentCardButtonProps:{},ConfirmOrderButtonProps:{}};var yt=Object(f.a)((function(e){return{container:{marginBottom:e.spacing(4)},header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing()},headerAction:{fontSize:"0.7rem"},select:{marginBottom:e.spacing()}}}));function Ct(e){var t=e.deliveryAddresses,a=e.invoicingAddresses,n=e.invoicingAddress,c=e.deliveryAddress,o=e.onNewAddress,i=e.onDeliveryAddressChange,l=e.onInvoicingAddressChange,s=it().t,u=yt();return r.a.createElement("div",{className:u.container},r.a.createElement("div",{className:u.header},r.a.createElement(N.a,{variant:"h5"},s("Addresses")),r.a.createElement(D.a,{className:u.headerAction,onClick:o},s("New address"))),r.a.createElement(w,null),r.a.createElement(T.a,{container:!0,spacing:4},r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(ne,{label:s("Invoicing address"),name:"invoicingAddress",value:n.id||"",options:a,className:u.select,onChange:l,required:!0}),r.a.createElement(N.a,{variant:"body2"},n.displayAddress)),r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(ne,{label:s("Delivery address"),name:"deliveryAddress",value:c.id||"",options:t,className:u.select,onChange:i,required:!0}),r.a.createElement(N.a,{variant:"body2"},c.displayAddress))))}function Et(e){var t=e.value,a=e.onChange,n=e.line,c=Object(k.a)(e,["value","onChange","line"]),o=r.a.useState(Number(t)),i=Object(d.a)(o,2),l=i[0],s=i[1];r.a.useEffect((function(){if(n.overrideInput)s(Number(t));else if(l){var e=Number(l);e>0&&e!==Number(t)&&a(n.productId,Number(l))}}),[l,t,n,a]);var u=r.a.useCallback((function(e){var t=e.target.value;s(t)}),[]),m=r.a.useCallback((function(e){var t=e.target.value;a(n.productId,Number(t))}),[n,a]);return r.a.createElement(ie,Object.assign({},c,{value:l,onBlur:m,onChange:u}))}Ct.defaultProps={deliveryAddress:{},deliveryAddresses:[],invoicingAddress:{},invoicingAddresses:[],onNewAddress:function(){},onDeliveryAddressChange:function(){},onInvoicingAddressChange:function(){}};var Ot=Object(f.a)((function(e){return{container:{marginBottom:e.spacing(3)},header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing()},headerAction:{fontSize:"0.7rem"},price:{color:e.palette.secondary.main}}}));function jt(e){var t=e.lines,a=e.onNewProduct,n=e.onProductQuantityChange,c=e.onProductDelete,o=it().t,i=Ot();return r.a.createElement("div",{className:i.container},r.a.createElement("div",{className:i.header},r.a.createElement(N.a,{variant:"h5"},"".concat(o("Products")," (").concat(t?t.length:0,")")),r.a.createElement(D.a,{className:i.headerAction,onClick:a},o("Add a product"))),r.a.createElement(w,null),r.a.createElement(T.a,{container:!0,spacing:2},t.map((function(e,t){return r.a.createElement(T.a,{item:!0,xs:12,key:e.productId},r.a.createElement(T.a,{container:!0,alignItems:"center",spacing:2},r.a.createElement(T.a,{item:!0,xs:3},r.a.createElement(Et,{label:o("Quantity"),moreLabel:o("More"),name:"qty",min:1,value:Number(e.qty),line:e,onChange:n})),r.a.createElement(T.a,{item:!0,xs:5,zeroMinWidth:!0},r.a.createElement(N.a,{noWrap:!0},e.name)),r.a.createElement(T.a,{item:!0,xs:2,zeroMinWidth:!0,align:"right"},r.a.createElement(N.a,{className:i.price,noWrap:!0},e.total)),r.a.createElement(T.a,{item:!0,xs:2,align:"right"},r.a.createElement(B.a,{onClick:function(t){return c(t,e)}},r.a.createElement(F.a,null)))))})),r.a.createElement(T.a,{item:!0,xs:12,md:6})))}jt.defaultProps={lines:[],onNewProduct:function(){},onProductDelete:function(){},onProductQuantityChange:function(){}};var kt=Object(f.a)((function(e){return{container:Object(m.a)({padding:e.spacing(4)},e.breakpoints.down("sm"),{padding:e.spacing()}),backdrop:{zIndex:e.zIndex.appBar+1}}}));function Pt(e){var t=e.total,a=e.totalTax,n=e.totalDiscount,c=e.totalWithoutTax,o=e.productLines,i=e.deliveryAddress,l=e.deliveryAddresses,s=e.invoicingAddress,u=e.invoicingAddresses,m=e.checkingOut,p=e.summaryMessage,f=e.PaypalButtonProps,h=e.PayboxButtonProps,b=e.RequestQuotationButtonProps,g=e.PaymentCardButtonProps,v=e.ConfirmOrderButtonProps,y=e.onNewAddress,C=e.onNewProduct,E=e.onProductDelete,O=e.onProductQuantityChange,k=e.onDeliveryAddressChange,P=e.onInvoicingAddressChange,x=it().t,w=kt(),A=r.a.useState({open:!1,line:null}),S=Object(d.a)(A,2),I=S[0],D=S[1],B=I.open,R=I.line,L=r.a.useCallback((function(){D({open:!1,line:null})}),[]),F=r.a.useCallback((function(e,t){D({open:!0,line:t})}),[]),M=r.a.useCallback((function(e){E(R.productId),L()}),[E,L,R]);return r.a.createElement("div",{className:w.container},r.a.createElement(T.a,{container:!0,spacing:4},r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(Ct,{deliveryAddress:i,deliveryAddresses:l,invoicingAddress:s,invoicingAddresses:u,onNewAddress:y,onDeliveryAddressChange:k,onInvoicingAddressChange:P}),r.a.createElement(jt,{lines:o,onNewProduct:C,onProductQuantityChange:O,onProductDelete:F})),r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(vt,{total:t,totalTax:a,totalDiscount:n,totalWithoutTax:c,message:p,PaypalButtonProps:f,PayboxButtonProps:h,RequestQuotationButtonProps:b,PaymentCardButtonProps:g,ConfirmOrderButtonProps:v})),r.a.createElement(st,{open:B,title:x("Confirm deletion"),onClose:L,onConfirm:M},r.a.createElement(N.a,null,R&&R.name))),r.a.createElement(q.a,{className:w.backdrop,open:m},r.a.createElement(j,null)))}Pt.defaultProps={productLines:[],deliveryAddress:{},deliveryAddresses:[],invoicingAddress:{},invoicingAddresses:[],summaryMessage:"",PaypalButtonProps:{},PayboxButtonProps:{},RequestQuotationButtonProps:{},PaymentCardButtonProps:{},ConfirmOrderButtonProps:{},onNewAddress:function(){},onNewProduct:function(){},onProductDelete:function(){},onProductQuantityChange:function(){},onDeliveryAddressChange:function(){},onInvoicingAddressChange:function(){}};var xt=Pt,wt="success",Nt="failure",At=Object(f.a)((function(e){return{paper:{padding:e.spacing(),minHeight:e.spacing(30),display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},button:{marginTop:e.spacing(2)},success:{color:e.palette.success.main},failure:{color:e.palette.error.main}}}));function St(e){var t=e.match,a=e.onSuccessRedirect,c=e.onFailureRedirect,o=e.onSuccessMount,i=t.params.messageType,l=void 0===i?wt:i,s=it().t,u=At(),d=e.successMessage,m=void 0===d?s("Your payment has been successfully completed"):d,p=e.successButtonLabel,f=void 0===p?s("Continue shopping"):p,h=e.failureMessage,b=void 0===h?s("Your payment could not be completed"):h,g=e.failureButtonLabel,v=void 0===g?s("Continue checkout"):g,y=null;switch(l){case wt:y=r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{variant:"h5",className:u.success},m),r.a.createElement(D.a,{onClick:a,className:u.button},f));break;case Nt:y=r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{variant:"h5",className:u.failure},b),r.a.createElement(D.a,{onClick:c,className:u.button},v));break;default:y=null}return Object(n.useEffect)((function(){l===wt&&o&&o()}),[l,o]),r.a.createElement(W,{className:u.paper},y)}St.defaultProps={onFailureRedirect:function(){},onSuccessRedirect:function(){}};var It=St;var Tt=function(e){var t=e.match,a=e.history,c=e.onRedirectToOrder,o=e.onRedirectToQuotation,i=e.onRedirectToCheckoutMessage,l=t.url,s=it().t,u=Object(h.b)().enqueueSnackbar,m=y(),p=m.cart,f=m.setItem,b=m.clearItem,g=m.clearCart,v=m.setCart,C=m.checkoutAddresses,E=m.setInvoicingAddress,O=m.setDeliveryAddress,k=Object(n.useState)(!0),P=Object(d.a)(k,2),x=P[0],w=P[1],N=Object(n.useState)(!1),A=Object(d.a)(N,2),S=A[0],I=A[1],T=Object(n.useState)({}),D=Object(d.a)(T,2),B=D[0],q=D[1],R=Object(n.useState)([]),L=Object(d.a)(R,2),F=L[0],M=L[1],z=Object(n.useState)([]),W=Object(d.a)(z,2),_=W[0],Q=W[1],U=Object(n.useState)({}),H=Object(d.a)(U,2),V=H[0],Y=H[1],X=Object(n.useState)({}),G=Object(d.a)(X,2),J=G[0],Z=G[1],$=Object(n.useState)(),K=Object(d.a)($,2),ee=K[0],te=K[1],ae=Object(n.useState)(!1),ne=Object(d.a)(ae,2),re=ne[0],ce=ne[1],oe=Object(n.useState)(!1),ie=Object(d.a)(oe,2),le=ie[0],se=ie[1];Object(n.useEffect)((function(){at.fetchAddresses().then((function(e){if(e.data&&e.data.length){var t=e.data.map((function(e){return Object.assign(e,{value:e.id,label:"".concat(e.address||""," ").concat(e.addressComplement||"")})}));M(t),Q(t)}}))}),[]);var ue=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.find((function(t){return t.id.toString()===e.toString()}))}),[]);Object(n.useEffect)((function(){var e=function(e,t,a){e.length&&a(t&&ue(t,e)||e[0])};e(F,C.delivery,Y),e(_,C.invoicing,Z)}),[F,_,C,O,E,ue]),Object(n.useEffect)((function(){at.fetchPaypalMerchantId().then((function(e){te(e.merchantId)}))}),[]),Object(n.useEffect)((function(){at.fetchConfiguration().then((function(e){e.isQuotationRequestActive&&ce(!0)}))}),[]);var de=Object(n.useCallback)((function(){at.checkCart(p).then((function(e){var t=e.itemsChanged,a=e.lines,n=(void 0===a?[]:a).find((function(e){return"service"!==e.productTypeSelect&&0===Number(e.qty)}));if(t||n){var r=e.lines.reduce((function(e,t){return Number(t.qty)&&(e[t.productId]=Number(t.qty)),e}),{});v(r),e.lines=e.lines.map((function(e){var t=e.productId,a=e.qty,n=p[t];return Number(a)<Number(n)&&(e.overrideInput=!0),e})),u(s("One or multiple items have changed in your cart"),{variant:"error"})}q(e)})),w(!1)}),[p,v,s,u]);Object(n.useEffect)((function(){de()}),[de]);var me=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=t.find((function(t){return t.id===e}));n&&a(n)}),[]),pe=Object(n.useCallback)((function(e){var t=e.target.value;me(t,F,(function(e){Y(e),O(t)}))}),[F,me,O]),fe=Object(n.useCallback)((function(e){var t=e.target.value;me(t,_,(function(e){Z(e),E(t)}))}),[_,me,E]),he=Object(n.useCallback)((function(){a.replace("/eshop")}),[a]),be=Object(n.useCallback)((function(){he()}),[he]),ge=Object(n.useCallback)((function(){a.push({pathname:"/eshop/address/new",state:{fromUrl:l}})}),[a,l]),ve=Object(n.useCallback)((function(e,t){f(e,t)}),[f]),ye=Object(n.useCallback)((function(e){b(e)}),[b]),Ce=Object(n.useCallback)((function(e,t){g(),u(s("Thank you for shopping"),{variant:"success"}),t&&c&&e&&e.id?o(e):c&&e&&e.id?c(e):he()}),[g,c,o,he,s,u]),Ee=Object(n.useCallback)((function(e){I(!0),at.checkoutPaypal({paypalPaymentData:e,orderData:{deliveryAddress:V,invoicingAddress:J,cart:p}}).then((function(e){I(!1),Ce(e)})).catch((function(){I(!1),u(s("Error"),{variant:"error"})}))}),[V,J,p,Ce,s,u]),Oe=Object(n.useCallback)((function(){I(!0),at.checkoutPaymentCard({cardId:"",orderData:{deliveryAddress:V,invoicingAddress:J,cart:p}}).then((function(e){I(!1),i(wt)})).catch((function(e){var t=e.message,a=void 0===t?s("Your payment could not be completed"):t;I(!1),u(a,{variant:"error"})}))}),[s,V,J,p,u,i]),je=Object(n.useCallback)((function(){I(!0),at.checkoutPaybox({orderData:{deliveryAddress:V,invoicingAddress:J,cart:p}}).then((function(e){if(!e||!e.url)throw new Error("Checkout Error.");var t=document.createElement("a");t.href=e.url,t.click()})).catch((function(e){var t=e.message,a=void 0===t?s("Your payment could not be completed"):t;I(!1),u(a,{variant:"error"})}))}),[s,V,J,p,u]),ke=Object(n.useCallback)((function(){I(!0),at.checkoutQuotation({orderData:{deliveryAddress:V,invoicingAddress:J,cart:p}}).then((function(e){I(!1),Ce(e,!0)})).catch((function(e){var t=e.message,a=void 0===t?s("Error requesting quotation. Please try again"):t;I(!1),u(a,{variant:"error"})}))}),[s,V,J,p,u,Ce]),Pe=!(B&&B.lines&&B.lines.length),xe=B.paymentModes,we=void 0===xe?[]:xe,Ne=!we.includes("paypal"),Ae=!we.includes("paybox"),Se=!we.includes("stripe"),Ie=B.original,Te=(Ie=void 0===Ie?{}:Ie).total,De=void 0===Te?"0.00":Te,Be=B.currency,qe=(Be=void 0===Be?{}:Be).code,Re=void 0===qe?"EUR":qe,Le="ASy1XUfHggv3ks14uZrSWfIvqzj-L10aqlEANsGXhW1dBeHWCFYSCuw-yFIeUhik8GrUHpzQSq-Lr7lM",Fe=Object(n.useCallback)((function(){se(!0)}),[]),Me=Object(n.useMemo)((function(){return{showButton:ee&&!Pe&&!Ne&&le,amount:De,onSuccess:Ee,options:{clientId:Le,merchantId:ee,currency:Re,disableFunding:"card"}}}),[Ee,De,Le,ee,Pe,Re,Ne,le]),ze=Boolean(we&&we.length),We=ze?"":s("Eshop not processing checkout"),_e=Object(n.useMemo)((function(){return{showButton:!le,disabled:Pe||!ze,onClick:Fe}}),[le,Fe,Pe,ze]),Qe=Object(n.useMemo)((function(){return{showButton:!Se&&le,disabled:Pe,onClick:Oe}}),[Pe,Oe,Se,le]),Ue=Object(n.useMemo)((function(){return{showButton:!Ae&&le,disabled:Pe,onClick:je}}),[Pe,je,Ae,le]),He=Object(n.useMemo)((function(){return{showButton:re&&!le,disabled:Pe,onClick:ke}}),[re,Pe,ke,le]);return x?r.a.createElement(j,null):r.a.createElement(xt,{total:B.total,totalTax:B.totalTax,totalDiscount:B.totalDiscount,totalWithoutTax:B.totalWithoutTax,productLines:B.lines,deliveryAddress:V,deliveryAddresses:F,invoicingAddress:J,invoicingAddresses:_,checkingOut:S,summaryMessage:We,PaypalButtonProps:Me,PayboxButtonProps:Ue,PaymentCardButtonProps:Qe,ConfirmOrderButtonProps:_e,RequestQuotationButtonProps:He,onNewAddress:ge,onNewProduct:be,onProductDelete:ye,onProductQuantityChange:ve,onDeliveryAddressChange:pe,onInvoicingAddressChange:fe})},Dt=a(136),Bt=a.n(Dt),qt=a(135),Rt=(a(210),Object(f.a)((function(e){return{carousel:{"& li.slide":{backgroundColor:"transparent"}},indicator:{background:"transparent",width:10,height:10,borderRadius:"50%",display:"inline-block",border:"1px solid",borderColor:e.palette.secondary.main,margin:"0 8px",cursor:"pointer"},selected:{backgroundColor:e.palette.secondary.main},image:{height:350,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain"}}})));var Lt=function(e){var t=e.images,a=Rt(),n=r.a.useCallback((function(e,t,n,c){return t?r.a.createElement("li",{className:Object(P.a)(a.indicator,a.selected),"aria-label":"Selected: ".concat(c," ").concat(n+1),title:"Selected: ".concat(c," ").concat(n+1)}):r.a.createElement("li",{className:a.indicator,onClick:e,onKeyDown:e,value:n,key:n,role:"button",tabIndex:0,title:"".concat(c," ").concat(n+1),"aria-label":"".concat(c," ").concat(n+1)})}),[a]);return t&&t.length?r.a.createElement(qt.Carousel,{showStatus:!1,showArrows:!1,showThumbs:!1,swipeable:!0,emulateTouch:!0,renderIndicator:n,className:a.carousel},t.map((function(e,t){return r.a.createElement("div",{key:t,style:{backgroundImage:"url(".concat(e,")")},className:a.image})}))):null},Ft=Object(f.a)((function(e){return{tag:{height:60,borderRadius:4,display:"flex",alignItems:"center",padding:e.spacing(2),backgroundColor:e.palette.secondary.main,marginBottom:e.spacing(2)},tagLabel:{color:"#FFFFFF",fontWeight:"bold"},paper:{padding:e.spacing(2)},productTitle:{fontWeight:"bold"},productCategoryChip:{backgroundColor:e.palette.secondary.light,borderRadius:4,color:e.palette.secondary.main,padding:e.spacing()},productOriginalPrice:{textDecoration:"line-through",color:"#000000"},productPrice:{color:e.palette.secondary.main}}}));function Mt(e){var t=e.product,a=e.quantity,n=e.onQuantityChange,c=e.onAddProduct,o=it().t,i=Ft(),l=t.unavailable,s=t._displayDiscountPercentage,u=t._displayDiscountPrice,d=l?o("Unavailable"):s?"".concat(s," ").concat(o("Discount")):"",p=t._categories&&t._categories.length?t._categories.map((function(e){return r.a.createElement("span",{className:i.productCategoryChip,key:e.id},e.name)})):null,f=r.a.createElement(N.a,{variant:"h6",className:i.productPrice},r.a.createElement("span",{className:Object(P.a)(Object(m.a)({},i.productOriginalPrice,u))},t._displayPrice),"\xa0",u);return r.a.createElement(r.a.Fragment,null,d&&r.a.createElement("div",{className:i.tag},r.a.createElement(N.a,{className:i.tagLabel,variant:"h5"},d)),r.a.createElement(W,{className:i.paper},r.a.createElement(T.a,{container:!0,spacing:3},r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(N.a,{className:i.productTitle,variant:"h4",noWrap:!0},t.name)),r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(N.a,{dangerouslySetInnerHTML:{__html:t.description}})),r.a.createElement(T.a,{item:!0,xs:12},p),r.a.createElement(T.a,{item:!0,xs:12},f),r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(T.a,{container:!0,spacing:1,alignItems:"center"},r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(ie,{name:"quantity",label:o("Quantity"),value:a,disabled:l,moreLabel:o("More"),onChange:n})),r.a.createElement(T.a,{item:!0,xs:12,md:6,align:"center"},r.a.createElement(D.a,{disabled:l,onClick:c,startIcon:r.a.createElement(Bt.a,null)},o("Add to cart"))))))))}Mt.defaultProps={product:{},quantity:1,onQuantityChange:function(){},onAddProduct:function(){}};var zt=function(e){var t=e.match,a=void 0===t?{}:t,c=e.history,o=a.params,i=(void 0===o?{}:o).productId,l=y(),s=l.cart,u=l.setItem,m=Object(n.useState)(1),p=Object(d.a)(m,2),f=p[0],h=p[1],b=Object(n.useState)(null),g=Object(d.a)(b,2),v=g[0],C=g[1],E=Object(n.useCallback)((function(){var e=s[v.id]||0;u(v.id,e+Number(f))}),[f,v,s,u]),O=Object(n.useCallback)((function(e){return h(Number(e.target.value))}),[]);return Object(n.useEffect)((function(){at.fetchProduct(i).then((function(e){e&&e.id?C(e):c.replace("/eshop")}))}),[c,i]),v?r.a.createElement(T.a,{container:!0,spacing:1},r.a.createElement(T.a,{item:!0,xs:12,md:3},r.a.createElement(Lt,{images:v.images})),r.a.createElement(T.a,{item:!0,xs:12,md:9},r.a.createElement(Mt,{product:v,quantity:f,onAddProduct:E,onQuantityChange:O}))):null},Wt=a(31),_t=a.n(Wt),Qt=a(45),Ut=a(138),Ht=a.n(Ut),Vt=a(137),Yt=a.n(Vt),Xt=Object(f.a)((function(e){return{paper:{padding:e.spacing(.5),display:"flex",width:"fit-content",alignItems:"center"}}}));var Gt=function(e){var t=e.onNext,a=e.onPrevious,n=e.label,c=e.disableNext,o=e.disablePrevious,i=Xt();return r.a.createElement("div",{className:i.paper},r.a.createElement(N.a,null,n),"\xa0\xa0",r.a.createElement(B.a,{size:"small",onClick:a,disabled:o},r.a.createElement(Yt.a,null)),"\xa0\xa0",r.a.createElement(B.a,{size:"small",onClick:t,disabled:c},r.a.createElement(Ht.a,null)),"\xa0\xa0")},Jt=a(290),Zt=Object(f.a)((function(e){return{chip:{color:"#616161"},icon:{backgroundColor:"".concat(e.palette.secondary.main,"09")},iconSelected:{color:e.palette.secondary.main},chipSelected:{color:e.palette.secondary.main,backgroundColor:e.palette.secondary.light},chipClickable:{"&:focus, &:hover":{backgroundColor:e.palette.secondary.light}}}}));function $t(e){var t=e.icon,a=e.label,n=e.isSelected,c=e.onClick,o=e.className,i=Zt();return r.a.createElement(Jt.a,{label:a,icon:t&&r.a.createElement(t,{fontSize:"small",classes:{root:Object(P.a)(i.icon,Object(m.a)({},i.iconSelected,n))}}),classes:{root:Object(P.a)(i.chip,Object(m.a)({},i.chipSelected,n),o),clickable:i.chipClickable},onClick:c})}$t.defaultProps={Icon:function(){return null},onClick:function(){}};var Kt=$t,ea=Object(f.a)((function(e){return{chipContainer:{display:"flex",flexWrap:"wrap",marginBottom:e.spacing(2)},chip:{margin:e.spacing(.3)}}})),ta=function(e){var t=e.categories,a=e.selectedCategoryId,n=e.onCategoryClick,c=ea();return r.a.createElement("div",{className:c.chipContainer},t.map((function(e){return r.a.createElement(Kt,{className:c.chip,key:e.id,label:e.name,isSelected:a===e.id,onClick:function(){return t=e.id,void(n&&n(t));var t}})})))},aa=a(139),na=a.n(aa),ra=Object(f.a)((function(){return{root:{"& svg":{color:"#616161"},"& label.Mui-focused":{color:"#616161"},"& .MuiInput-underline:after, & .MuiInput-underline:before,& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottomColor:"#616161"}}}}));var ca=function(e){var t=ra();return r.a.createElement(Q.a,Object.assign({},e,{color:"default",classes:t,variant:"standard",InputProps:{disableUnderline:!1,endAdornment:r.a.createElement(na.a,null)}}))};var oa=function(e){var t=e.value,a=e.onChange,n=it().t,c=r.a.useState(t),o=Object(d.a)(c,2),i=o[0],l=o[1],s=function(e,t){var a=r.a.useRef(null),n=function(){return a.current&&clearTimeout(a.current)},c=function(e){return a.current=setTimeout(e,t)};return r.a.useEffect((function(){return function(){return n()}}),[]),function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];n(),c((function(){return e.apply(void 0,a)}))}}(a,300);return r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},r.a.createElement(ca,{name:"search",placeholder:n("Search"),onChange:function(e){var t=e.target.value;l(t),s(t)},value:i}))};var ia=function(e){var t=e.values,a=e.ValueUniqueKey,n=void 0===a?"id":a,c=e.ItemContainerProps,o=void 0===c?{}:c,i=e.noRecordLabel,l=void 0===i?"No record found":i,s=e.renderItem,d=void 0===s?function(){return null}:s;return r.a.createElement(T.a,{container:!0,spacing:3},t&&t.length?t.map((function(e,t){return r.a.createElement(T.a,function(e,t){return Object(u.a)({item:!0,xs:12,sm:4,md:3,key:e[n]||t},o)}(e,t),d(e))})):r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(N.a,null,l)))},la=Object(f.a)((function(e){return{tag:{position:"absolute",padding:e.spacing(.5),backgroundColor:e.palette.secondary.main,color:"#FFFFFF",right:0,bottom:function(t){return e.spacing(2)}}}}));function sa(e){var t=e.product,a=la(),n=it().t;return t.unavailable?r.a.createElement("div",{className:a.tag},n("Unavailable")):t._displayDiscountPercentage?r.a.createElement("div",{className:a.tag},t._displayDiscountPercentage):null}var ua=Object(f.a)((function(e){return{container:{width:function(e){return e.hasImage?"calc(100% - ".concat(138,"px)"):"100%"},padding:e.spacing(2),overflow:"hidden",boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"space-between"},productName:{fontWeight:"bold"},productDescription:{display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":2,overflow:"hidden"},productPrice:{color:e.palette.secondary.main,marginTop:e.spacing()},productDiscountedDisplayPrice:{textDecoration:"line-through",color:"black"}}}));function da(e){var t=e.product,a=void 0===t?{}:t,n=a&&a.images&&a.images[0],c=ua({hasImage:n}),o=a._displayDiscountPrice?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:c.productDiscountedDisplayPrice},a._displayPrice),"\xa0\xa0",a._displayDiscountPrice):a._displayPrice;return r.a.createElement("div",{className:c.container},r.a.createElement(N.a,{variant:"h5",className:c.productName,gutterBottom:!0,noWrap:!0},a.name),r.a.createElement(N.a,{variant:"body2",className:c.productDescription,gutterBottom:!0,dangerouslySetInnerHTML:{__html:a.description}}),r.a.createElement(N.a,{variant:"body2",className:c.productPrice},o))}var ma=Object(f.a)((function(){return{productImage:function(e){var t=e.image;return{position:"relative",display:"flex",justifyContent:"center",width:138,overflow:"hidden",flexShrink:0,backgroundPosition:"center",backgroundImage:"url(".concat(t,")"),backgroundRepeat:"no-repeat",backgroundSize:"contain"}}}}));function pa(e){var t=e.product,a=t&&t.images&&t.images[0],n=ma({image:a});return a?r.a.createElement("div",{className:n.productImage}):null}var fa=Object(f.a)((function(){return{paper:{height:138,width:"100%",display:"flex",cursor:"pointer",boxSizing:"border-box"}}}));var ha=function(e){var t=e.product,a=void 0===t?{}:t,n=e.onClick,c=fa(),o=r.a.useCallback((function(e){n&&n(e,a.id)}),[n,a]);return r.a.createElement(W,{className:c.paper,onClick:o},r.a.createElement(da,{product:a}),r.a.createElement(pa,{product:a}),r.a.createElement(sa,{product:a}))},ba=Object(f.a)((function(e){return{badge:{color:"white",width:"fit-content",minWidth:18,height:18,fontSize:"0.675rem",borderRadius:20,display:"inline-flex",alignItems:"center",justifyContent:"center",paddingLeft:2,paddingRight:2,boxSizing:"border-box",backgroundColor:e.palette.secondary.main}}}));function ga(e){var t=e.value,a=e.className,n=ba();return r.a.createElement("div",{className:Object(P.a)(n.badge,a)},t)}var va=Object(f.a)((function(e){return{container:{position:"relative",width:"100%"},badge:{position:"absolute",top:e.spacing(),right:e.spacing(),zIndex:1}}})),ya=function(e){var t=e.count,a=void 0===t?0:t,n=Object(k.a)(e,["count"]),c=va();return r.a.createElement("div",{className:c.container},a?r.a.createElement(ga,{value:a,className:c.badge}):null,r.a.createElement(ha,n))};function Ca(e){var t=e.loading,a=e.products,n=e.onClick,c=it().t;return t?r.a.createElement(j,null):r.a.createElement(ia,{values:a,ItemContainerProps:{md:4},renderItem:function(e){return r.a.createElement(ya,{product:e,count:e.count,onClick:n})},noRecordLabel:c("No record found")})}Ca.defaultProps={products:[],loading:!1,onClick:function(){}};var Ea=Ca;var Oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:0,limit:25},t=r.a.useState(e),a=Object(d.a)(t,2),n=a[0],c=a[1],o=r.a.useCallback((function(e){return c((function(t){return Object(u.a)({},t,{page:e})}))}),[]),i=r.a.useCallback((function(){return c((function(e){return Object(u.a)({},e,{page:e.page+1})}))}),[]),l=r.a.useCallback((function(){return c((function(e){return Object(u.a)({},e,{page:e.page-1})}))}),[]),s=r.a.useMemo((function(){return{changePage:o,nextPage:i,previousPage:l}}),[i,l,o]);return[n,s]},ja=Object(f.a)({header:{display:"flex",flexDirection:"column"},filters:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"}}),ka={id:-1,name:"All"};var Pa=function(e){var t=e.match,a=e.history,c=e.location,o=t.url,i=ja(),l=it().t,s=Oa({limit:25,page:(c.state||{}).page||0}),m=Object(d.a)(s,2),p=m[0],f=m[1],h=p.limit,b=p.page,g=y(),v=g.cart,C=void 0===v?{}:v,E=g.config,O=void 0===E?{}:E,k=Object(n.useState)({products:[],totalProducts:0,loadingProducts:!0}),P=Object(d.a)(k,2),x=P[0],w=x.loadingProducts,A=x.products,S=x.totalProducts,I=P[1],T=Number(c&&c.search&&new URLSearchParams(c.search).get("categoryid")),D=Object(n.useState)({categories:[ka],selectedCategoryId:T||-1,loadingCategories:!0}),B=Object(d.a)(D,2),q=B[0],R=q.loadingCategories,L=q.categories,F=q.selectedCategoryId,M=B[1],z=Object(n.useState)(void 0),W=Object(d.a)(z,2),_=W[0],Q=W[1],U=Object(n.useCallback)((function(e){f.changePage(e),a.replace({pathname:o,state:{page:e},search:c.search})}),[o,a,c,f]);Object(n.useEffect)((function(){function e(){return(e=Object(Qt.a)(_t.a.mark((function e(){return _t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M((function(e){return Object(u.a)({},e,{loadingCategories:!0})})),at.fetchCategories().then((function(e){M((function(t){return Object(u.a)({},t,{categories:[ka].concat(e),loadingCategories:!1})}))})).catch((function(){M((function(e){return Object(u.a)({},e,{loadingCategories:!1})}))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(Qt.a)(_t.a.mark((function e(){var t,a;return _t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I((function(e){return Object(u.a)({},e,{loadingProducts:!0})})),t={limit:h,page:b+1,searchInput:_},a=function(e){var t=e.data,a=e.total;a<e.offset?U(0):I({products:t.map((function(e){return Object(u.a)({},e,{count:C[e.id]})})),totalProducts:a,loadingProducts:!1})},(-1===F?at.fetchProducts(t):at.fetchCategoryProducts(F,t)).then(a).catch((function(){I((function(e){return Object(u.a)({},e,{loadingProducts:!1})}))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[F,h,b,_,C,U]);var H=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;a.replace({pathname:o,search:"?categoryid=".concat(Number(e))}),f.changePage(0),M((function(t){return Object(u.a)({},t,{selectedCategoryId:Number(e)})}))}),[a,o,f]),V=Object(n.useCallback)((function(e,t){a.push({pathname:"".concat(o,"/product/").concat(t),state:{page:b},search:c.search})}),[a,o,b,c]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:i.header},r.a.createElement("div",{className:i.filters},R?r.a.createElement(j,null):r.a.createElement(ta,{categories:L,selectedCategoryId:F,onCategoryClick:H}),r.a.createElement(oa,{value:_,onChange:Q})),r.a.createElement(Gt,{label:"".concat(l("Products")," : ").concat(S?b*h+1:0," to ").concat(Math.min(b*h+h,S)||0," of ").concat(S),onNext:f.nextPage,onPrevious:f.previousPage,disablePrevious:0===b,disableNext:(b+1)*h>=S})),r.a.createElement("div",null,r.a.createElement(N.a,{gutterBottom:!0},r.a.createElement("i",null,"".concat(O.isAti?l("All prices include taxes"):l("All prices are tax free"))))),r.a.createElement(Ea,{loading:w,onClick:V,products:A}))};var xa=function(e){var t=e.match,a=e.history,c=t.path,o=t.url,i=Object(n.useState)(!0),l=Object(d.a)(i,2),u=l[0],m=l[1],p=y(),f=p.clearCart,h=p.setConfig,b=Object(n.useCallback)((function(){a.replace("".concat(o,"/checkout"))}),[a,o]),g=Object(n.useCallback)((function(){a.replace(o)}),[a,o]),v=Object(n.useCallback)((function(e){a.replace("".concat(o,"/checkout/").concat(e))}),[a,o]),C=Object(n.useCallback)((function(){at.fetchConfiguration().then(h).finally((function(){return m(!1)}))}),[h]);return Object(n.useEffect)((function(){C()}),[C]),u?r.a.createElement(j,null):r.a.createElement(s.g,null,r.a.createElement(s.d,{path:"".concat(c,"/checkout/:messageType"),render:function(e){return r.a.createElement(It,Object.assign({},e,{onSuccessMount:f,onSuccessRedirect:g,onFailureRedirect:b}))}}),r.a.createElement(s.d,{path:"".concat(c,"/checkout"),render:function(e){return r.a.createElement(Tt,Object.assign({},e,{onRedirectToCheckoutMessage:v}))}}),r.a.createElement(s.d,{path:"".concat(c,"/product/:productId"),component:zt}),r.a.createElement(s.d,{path:c,component:Pa}),r.a.createElement(s.c,{to:c}))};var wa=function(e){var t=e.match.path;return r.a.createElement(s.g,null,r.a.createElement(s.d,{path:t,component:xa}),r.a.createElement(s.c,{to:t}))},Na=a(81),Aa=a.n(Na),Sa=Object(f.a)((function(e){return{paper:{height:138,padding:e.spacing()},action:{display:"flex",justifyContent:"flex-end"}}}));function Ia(e){var t=e.address,a=e.onDelete,n=e.onEdit,c=Sa();return r.a.createElement(W,{className:c.paper},r.a.createElement(T.a,{container:!0,justify:"center",spacing:2},r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement("div",{className:c.action},r.a.createElement(B.a,{size:"small",onClick:function(e){return n(e,t)}},r.a.createElement(Aa.a,null)),r.a.createElement(B.a,{size:"small",onClick:function(e){return a(e,t)}},r.a.createElement(F.a,null)))),r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(N.a,null,t.displayAddress))))}Ia.defaultProps={onDelete:function(){},onEdit:function(){}};var Ta=Ia;function Da(e){var t=e.addresses,a=e.onDelete,n=e.onEdit,c=it().t;return r.a.createElement(ia,{values:t,noRecordLabel:c("No record found"),renderItem:function(e){return r.a.createElement(Ta,{address:e,onDelete:a,onEdit:n})}})}Da.defaultProps={addresses:[],onDelete:function(){}};var Ba=Da,qa=Object(f.a)((function(e){return{header:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(2)},headerAction:{fontSize:"0.7rem"}}}));function Ra(e){var t=e.onNew,a=e.onEdit,c=qa(),o=it().t,i=Object(h.b)().enqueueSnackbar,l=Object(n.useState)({addresses:[],address:null,loading:!0,dialogOpen:!1}),s=Object(d.a)(l,2),m=s[0],p=m.loading,f=m.addresses,b=m.address,g=m.dialogOpen,v=s[1];function y(){v((function(e){return Object(u.a)({},e,{address:null,dialogOpen:!1})}))}return Object(n.useEffect)((function(){at.fetchAddresses().then((function(e){var t=e.data;v((function(e){return Object(u.a)({},e,{addresses:t,loading:!1})}))})).catch((function(){v((function(e){return Object(u.a)({},e,{loading:!1})}))}))}),[]),p?r.a.createElement(j,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c.header},r.a.createElement(N.a,{variant:"h5"},o("Addresses")),r.a.createElement(D.a,{className:c.headerAction,onClick:t},o("New address"))),r.a.createElement(Ba,{addresses:f,onDelete:function(e,t){v((function(e){return Object(u.a)({},e,{address:t,dialogOpen:!0})}))},onEdit:a}),r.a.createElement(st,{onConfirm:function(){var e=b.id;at.deleteAddress(e).then((function(){return function(e){v((function(t){return Object(u.a)({},t,{addresses:f.filter((function(t){return t.id!==e}))})}))}(e)})).catch((function(){i(o("Error"),{variant:"error"})})).finally(y)},onClose:y,title:o("Confirm deletion"),open:g},r.a.createElement("p",null,b&&b.address)))}Ra.defaultProps={onNew:function(){},onEdit:function(){}};var La=Ra,Fa=a(84),Ma=a(142),za=a.n(Ma),Wa=Object(f.a)((function(e){return{paper:{padding:e.spacing(),overflow:"visible"}}}));function _a(e){var t=e.errors,a=e.values,n=e.cities,c=e.countries,o=e.disabled,i=e.fetchingCities,l=e.onChange,s=e.onSubmit,u=e.onClear,d=e.onLoadMoreCities,m=Wa(),p=it().t;return r.a.createElement(W,{className:m.paper},r.a.createElement("form",{onSubmit:s,noValidate:!0},r.a.createElement(T.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(Y,{name:"address",label:p("Address"),value:a.address,error:t.address,onChange:l,disabled:o,required:!0})),r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(Y,{name:"addressComplement",label:p("Complement"),value:a.addressComplement,onChange:l,disabled:o})),r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(ne,{name:"country",label:p("Country"),value:a.country,options:c,error:t.country,onChange:l,disabled:o,required:!0})),r.a.createElement(T.a,{item:!0,xs:8},r.a.createElement(X.a,{display:"flex",alignItems:"center"},r.a.createElement(ne,{name:"city",label:p("City"),value:a.city,options:n,error:t.city,onChange:l,disabled:o,onLoadMore:d,showLoadingOption:i}),(null===a||void 0===a?void 0:a.city)&&r.a.createElement(X.a,{mt:1,mb:.5,ml:.5},r.a.createElement(B.a,{size:"small",onClick:function(){return u("city")}},r.a.createElement(za.a,{fontSize:"small"}))))),r.a.createElement(T.a,{item:!0,xs:4},r.a.createElement(Y,{name:"zipCode",label:p("Zip code"),value:a.zipCode,error:t.zipCode,onChange:l,disabled:o})),r.a.createElement(T.a,{item:!0,xs:12,align:"right"},r.a.createElement(D.a,{type:"submit",disabled:o},p("Save"))))))}_a.defaultProps={errors:{},values:{},cities:[],onChange:function(){},onSubmit:function(){}};var Qa=_a;function Ua(e){var t=Object(n.useCallback)((function(e){return e.map((function(e){return{label:e.name,value:e.id,zipCode:e.zip,country:e.country&&e.country.id}}))}),[]),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,a=void 0===t?10:t,r=e.fetchAPI,c=e.transform,o=void 0===c?function(e){return e}:c,i=Object(n.useState)([]),l=Object(d.a)(i,2),s=l[0],u=l[1],m=Object(n.useState)(0),p=Object(d.a)(m,2),f=p[0],h=p[1],b=Object(n.useState)(!1),g=Object(d.a)(b,2),v=g[0],y=g[1],C=Object(n.useRef)(1),E=Object(n.useMemo)((function(){return s.length<f}),[s,f]),O=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.append,c=t.reset;return c&&(u([]),h(0),C.current=1),y(!0),r(e,{page:C.current,limit:a}).then((function(e){var t=e.data,a=void 0===t?[]:t,r=e.total;u((function(e){return n?[].concat(Object(_.a)(e),Object(_.a)(o(a))):o(a)})),h(r)})).finally((function(){y(!1)}))}),[a,r,o]),j=Object(n.useCallback)((function(e){if(E&&!v)return C.current+=1,O(e,{append:!0})}),[E,v,O]);return Object(n.useMemo)((function(){return{data:s,total:f,page:C.current,fetching:v,fetchData:O,loadMore:j}}),[s,f,v,O,j])}(Object(u.a)({fetchAPI:at.fetchCities,transform:t},e)),r=a.data,c=a.total,o=a.page,i=a.fetching,l=a.fetchData,s=a.loadMore;return Object(n.useMemo)((function(){return{cities:r,totalCities:c,page:o,fetchingCities:i,fetchCities:l,loadMoreCities:s}}),[r,c,o,i,l,s])}var Ha=function(e){var t=e.redirectToAddressList,a=e.match,c=e.history,o=e.location,i=y(),l=i.setInvoicingAddress,s=i.setDeliveryAddress,m=a.params.addressId,p=Object(h.b)().enqueueSnackbar,f=Object(n.useState)(!0),b=Object(d.a)(f,2),g=b[0],v=b[1],C=Object(n.useState)(!1),E=Object(d.a)(C,2),O=E[0],k=E[1],P=Object(n.useState)([]),x=Object(d.a)(P,2),w=x[0],N=x[1],A=Object(n.useState)(!1),S=Object(d.a)(A,2),I=S[0],D=S[1],B=Object(n.useState)({name:"",personName:"",addressComplement:"",address:"",city:"",zipCode:"",country:"",id:void 0}),q=Object(d.a)(B,2),R=q[0],L=q[1],F=Ua(),M=F.cities,z=F.fetchingCities,W=F.fetchCities,_=F.loadMoreCities,Q=Object(n.useCallback)((function(){var e=o&&o.state&&o.state.fromUrl;e?c.replace(e):t()}),[o,c,t]);function U(e){return H.apply(this,arguments)}function H(){return(H=Object(Qt.a)(_t.a.mark((function e(t){return _t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!0),(t.id?at.updateAddress(t.id,t):at.addAddress(t)).then((function(e){e.id&&(l(e.id),s(e.id))})).then((function(){k(!1),Q()})).catch((function(){p(K("Error"),{variant:"error"}),k(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){m?at.fetchAddress(m).then((function(e){L(e),v(!1)})).catch(t):v(!1)}),[m,t]);var V=Object(Fa.a)({validateOnChange:I,initialValues:{name:R.name,personName:R.personName,addressComplement:R.addressComplement,address:R.address,city:R.city,zipCode:R.zipCode,country:R.country,id:R.id},validate:function(e){var t={};return e.address||(t.address="".concat(K("Address")," ").concat(K("Required"))),e.country||(t.country="".concat(K("Country")," ").concat(K("Required"))),t},onSubmit:function(){var e=Object(Qt.a)(_t.a.mark((function e(t){return _t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),enableReinitialize:!0}),Y=V.values,X=V.errors,G=V.handleChange,J=V.handleSubmit,Z=V.setValues,$=V.setFieldValue,K=it().t,ee=Object(n.useCallback)((function(e){e.preventDefault(),D(!0),J()}),[J]),te=Object(n.useCallback)((function(e){$(e,"")}),[$]),ae=Object(n.useCallback)((function(e){var t=e.target,a=t.name,n=t.value;if("city"===a){var r=M.find((function(e){return e.value===n}));r&&Z(Object(u.a)({},Y,{city:n,zipCode:r.zipCode||"",country:r.country}))}else"country"===a?Z(Object(u.a)({},Y,{country:n,city:"",zipCode:""})):G(e)}),[M,G,Y,Z]),ne=Object(n.useCallback)((function(){Y.country&&_(Y.country)}),[Y.country,_]);return Object(n.useEffect)((function(){Y.country&&W(Y.country,{reset:!0})}),[Y.country,W]),Object(n.useEffect)((function(){at.fetchCountries().then((function(e){N(e.map((function(e){return{label:e.name,value:e.id}})))}))}),[]),g?r.a.createElement(j,null):r.a.createElement(T.a,{container:!0},r.a.createElement(T.a,{item:!0,xs:12,md:3}),r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(Qa,{cities:M,countries:w,values:Y,errors:X,disabled:O,fetchingCities:z,onSubmit:ee,onChange:ae,onClear:te,onLoadMoreCities:ne})),r.a.createElement(T.a,{item:!0,xs:12,md:3}))};var Va=function(e){var t=e.match,a=e.history,n=t.path,c=t.url,o=n+"/new",i=n+"/:addressId",l=n,u=r.a.useCallback((function(e,t){(t?a.replace:a.push)(e)}),[a]),d=r.a.useCallback((function(){u("".concat(c,"/new"))}),[c,u]),m=r.a.useCallback((function(e,t){u("".concat(c,"/").concat(t.id))}),[c,u]),p=r.a.useCallback((function(){u(c,!0)}),[c,u]),f=r.a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){return r.a.createElement(e,Object.assign({},a,t))}}),[]);return r.a.createElement(s.g,null,r.a.createElement(s.d,{path:o,render:f(Ha,{redirectToAddressList:p})}),r.a.createElement(s.d,{path:i,render:f(Ha,{redirectToAddressList:p})}),r.a.createElement(s.d,{path:l,render:f(La,{onNew:d,onEdit:m})}),r.a.createElement(s.c,{to:n}))},Ya=a(143),Xa=Object(f.a)((function(e){return{paper:{padding:e.spacing(3)},error:{color:e.palette.error.main}}})),Ga=function(e){var t=e.onChange,a=e.inputRef,n=Object(k.a)(e,["onChange","inputRef"]);return r.a.createElement(Ya.a,Object.assign({},n,{getInputRef:a,onValueChange:function(a){t({target:{name:e.name,value:a.value}})},isNumericString:!0}))};function Ja(e){var t=function(e,t){return 1===e.length&&e[0]>t[0]&&(e="0"+e),2===e.length&&(0===Number(e)?e="01":e>t&&(e=t)),e}(e.substring(0,2),"12"),a=e.substring(2,4);return t+(a.length?"/"+a:"")}function Za(e){var t=e.errors,a=e.values,n=e.disabled,c=e.onChange,o=e.onSubmit,i=Xa(),l=it().t;return r.a.createElement(W,{className:i.paper},r.a.createElement("form",{onSubmit:o,noValidate:!0},r.a.createElement(T.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(Y,{name:"name",label:l("Name"),disabled:n,value:a.name,error:t.name,onChange:c,required:!0})),r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(Y,{name:"cardNumber",label:l("Card number"),disabled:n,value:a.cardNumber,error:t.cardNumber,onChange:c,required:!0,InputProps:{inputComponent:Ga,inputProps:{format:"#### #### #### ####",placeholder:"1234 1234 1234 1234"}}})),r.a.createElement(T.a,{item:!0,xs:6},r.a.createElement(Y,{name:"expiry",label:l("Expiry"),disabled:n,value:a.expiry,error:t.expiry,onChange:c,required:!0,InputProps:{inputComponent:Ga,inputProps:{format:Ja,placeholder:"MM/YY"}}})),r.a.createElement(T.a,{item:!0,xs:6},r.a.createElement(Y,{name:"cvc",label:l("CVC"),disabled:n,value:a.cvc,error:t.cvc,onChange:c,required:!0,InputProps:{inputComponent:Ga,inputProps:{format:"####",placeholder:"CVC"}}})),r.a.createElement(T.a,{item:!0,xs:12,align:"right"},r.a.createElement(D.a,{raised:!0,type:"submit",disabled:n},l("Save"))))))}Za.defaultProps={errors:{},values:{},disabled:!1,onChange:function(){},onSubmit:function(){}};var $a=Za;var Ka=function(e){var t=e.redirectToCardList,a=e.match.params.cardId,c=it().t,o=Object(h.b)().enqueueSnackbar,i=Object(n.useState)(!0),l=Object(d.a)(i,2),s=l[0],u=l[1],m=Object(n.useState)(!1),p=Object(d.a)(m,2),f=p[0],b=p[1],g=Object(n.useState)({name:"",cardNumber:"",expiry:"",cvc:""}),v=Object(d.a)(g,2),y=v[0],C=v[1],E=Object(n.useState)(!1),O=Object(d.a)(E,2),k=O[0],P=O[1];function x(e){return w.apply(this,arguments)}function w(){return(w=Object(Qt.a)(_t.a.mark((function e(a){return _t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!0),(y.id?at.updatePaymentCard(y.id,a):at.addPaymentCard(a)).then((function(){b(!1),t()})).catch((function(e){o(c("Error")+"".concat(e.message?" :  ".concat(e.message):""),{variant:"error"}),b(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=Object(Fa.a)({validateOnChange:k,initialValues:{name:y.name,cardNumber:y.cardNumber,expiry:y.expiry,cvc:y.cvc},validate:function(e){var t,a,n,r={};return e.name||(r.name="".concat(c("Name")," ").concat(c("Required"))),e.cardNumber?(t=String(e.cardNumber).length,a=14,n=16,t&&t>=a&&t<=n||(r.cardNumber="".concat(c("Invalid card number")))):r.cardNumber="".concat(c("Card number")," ").concat(c("Required")),e.expiry?String(e.expiry).length<4&&(r.expiry="".concat(c("Invalid expiry"))):r.expiry="".concat(c("Expiry")," ").concat(c("Required")),e.cvc?String(e.cvc).length<3&&(r.cvc="".concat(c("Invalid cvc"))):r.cvc="".concat(c("CVC")," ").concat(c("Required")),r},onSubmit:function(){var e=Object(Qt.a)(_t.a.mark((function e(t){return _t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),enableReinitialize:!0}),A=N.values,S=N.errors,I=N.handleSubmit,D=N.handleChange;Object(n.useEffect)((function(){a?at.fetchPaymentCard(a).then((function(e){C(e),u(!1)})).catch(t):u(!1)}),[a,t]);var B=Object(n.useCallback)((function(e){e.preventDefault(),P(!0),I()}),[I]);return s?r.a.createElement(j,null):r.a.createElement(T.a,{container:!0},r.a.createElement(T.a,{item:!0,xs:12,md:3}),r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement($a,{values:A,errors:S,disabled:f,onChange:D,onSubmit:B})),r.a.createElement(T.a,{item:!0,xs:12,md:3}))},en=a(145),tn=a.n(en),an=a(144),nn=a.n(an),rn=["linear-gradient(to right top, #e186d8, #e575c7, #e763b4, #e9509f, #e83a89, #e72b78, #e51a67, #e10055, #dd0045, #d80035, #d20024, #ca0810)","linear-gradient(to right top, #3dda76, #00d3a0, #00c9c0, #00bcd2, #00aed5, #00a4d4, #089ad2, #228fce, #0f87cf, #027fcf, #0877cf, #1a6ecd)","linear-gradient(to right top, #f2a826, #f09a1d, #ed8b15, #ea7c10, #e76d0e, #e96218, #ea5621, #ea4a29, #ef4038, #f33546, #f52a55, #f62063)","linear-gradient(to right top, #cd26f2, #b320df, #9a19cc, #8211b9, #6b09a6, #5e069e, #510496, #43028e, #3b048f, #310690, #250991, #140b92)"],cn={visa:rn[0],mastercard:rn[1],"american express":rn[2],default:rn[3]},on=Object(f.a)((function(e){return{paper:{height:180,display:"flex",cursor:"pointer",flexDirection:"column",justifyContent:"space-between",padding:e.spacing(2),background:function(e){return t=e.brand,cn[t.toLowerCase()]||cn.default;var t},borderRadius:"".concat(e.spacing(3),"px !important")},text:{color:"white",fontWeight:"bold"},number:{letterSpacing:e.spacing(.5)},icon:{color:"#ffc107"}}}));function ln(e){var t=e.card,a=e.isDefault,n=e.onEdit,c=e.onDelete,o=e.onDefault,i=t.brand,l=void 0===i?"":i,s=t.expiryDisplay,u=void 0===s?"":s,d=t.last4,m=void 0===d?"":d,p=on({brand:l}),f=r.a.useCallback((function(e){c(e,t)}),[c,t]),h=r.a.useCallback((function(e){n(e,t)}),[n,t]),b=r.a.useCallback((function(e){o(e,t)}),[o,t]);return r.a.createElement(W,{className:p.paper},r.a.createElement("div",null,r.a.createElement(T.a,{container:!0,justify:"space-between"},r.a.createElement(T.a,{item:!0},r.a.createElement(N.a,{variant:"h6",className:p.text,align:"right"},t.brand)),r.a.createElement(T.a,{item:!0},r.a.createElement(B.a,{size:"small",className:p.text,onClick:b},a?r.a.createElement(nn.a,{className:p.icon}):r.a.createElement(tn.a,{className:p.icon})),r.a.createElement(B.a,{size:"small",className:p.text,onClick:h},r.a.createElement(Aa.a,null)),r.a.createElement(B.a,{size:"small",className:p.text,onClick:f},r.a.createElement(F.a,null))))),r.a.createElement("div",null,r.a.createElement(N.a,{className:Object(P.a)(p.text,p.number),align:"center"},r.a.createElement("b",null,"\u2022\u2022\u2022\u2022  \u2022\u2022\u2022\u2022  \u2022\u2022\u2022\u2022  ".concat(m||"\u2022\u2022\u2022\u2022")))),r.a.createElement("div",null,r.a.createElement(T.a,{container:!0,justify:"space-between"},r.a.createElement(T.a,{item:!0},r.a.createElement(N.a,{className:p.text},t.name)),r.a.createElement(T.a,{item:!0},r.a.createElement(N.a,{className:p.text},u)))))}ln.defaultProps={card:{},onEdit:function(){},onDelete:function(){}};var sn=ln;function un(e){var t=e.cards,a=e.defaultCardId,n=e.onDelete,c=e.onEdit,o=e.onDefault,i=it().t;return r.a.createElement(ia,{values:t,renderItem:function(e){return r.a.createElement(sn,{card:e,onDefault:o,onDelete:n,onEdit:c,isDefault:e.id===a})},noRecordLabel:i("No record found")})}un.defaultProps={cards:[],onDelete:function(){},onEdit:function(){}};var dn=un,mn=Object(f.a)((function(e){return{header:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(2)},headerAction:{fontSize:"0.7rem"},loader:{position:"absolute",inset:0,justifyContent:"center",display:"flex",alignItems:"center",backgroundColor:"rgba(0,0,0,0.4)",zIndex:2}}}));var pn=function(e){var t=e.onNew,a=e.onEdit,c=it().t,o=mn(),i=Object(h.b)().enqueueSnackbar,l=Object(n.useState)([]),s=Object(d.a)(l,2),u=s[0],m=s[1],p=Object(n.useState)(),f=Object(d.a)(p,2),b=f[0],g=f[1],v=Object(n.useState)(),y=Object(d.a)(v,2),C=y[0],E=y[1],O=Object(n.useState)(!0),k=Object(d.a)(O,2),P=k[0],x=k[1],w=Object(n.useState)(!1),A=Object(d.a)(w,2),S=A[0],I=A[1],T=Object(n.useState)(!1),B=Object(d.a)(T,2),q=B[0],R=B[1];function L(){E(null),I(!1)}Object(n.useEffect)((function(){at.fetchPaymentCards().then((function(e){var t=e.data;at.fetchDefaultPaymentCard().then((function(e){e.id&&g(e.id),m(t),x(!1)})).catch((function(){m(t),x(!1)}))})).catch((function(){x(!1)}))}),[]);var F=Object(n.useCallback)((function(e,t){var a=t.id;return R(!0),at.updateDefaultPaymentCard(a).then((function(){g(a)})).catch((function(){i(c("Error"),{variant:"error"})})).finally((function(){R(!1)}))}),[i,c]);return P?r.a.createElement(j,null):r.a.createElement(r.a.Fragment,null,q&&r.a.createElement("div",{className:o.loader},r.a.createElement(j,null)),r.a.createElement("div",{className:o.header},r.a.createElement(N.a,{variant:"h5"},c("Credit card")),r.a.createElement(D.a,{className:o.headerAction,onClick:t},c("Add a credit card"))),r.a.createElement(dn,{cards:u,defaultCardId:b,onDelete:function(e,t){E(t),I(!0)},onDefault:F,onEdit:a}),r.a.createElement(st,{onConfirm:function(){var e=C.id;at.deletePaymentCard(e).then((function(){return function(e){m((function(t){return t.filter((function(t){return t.id!==e}))}))}(e)})).catch((function(){i(c("Error"),{variant:"error"})})).finally(L)},onClose:L,title:c("Confirm deletion"),open:S},r.a.createElement("p",null,C&&"\u2022\u2022\u2022\u2022  \u2022\u2022\u2022\u2022  \u2022\u2022\u2022\u2022  ".concat(C.last4))))};var fn=function(e){var t=e.match,a=e.history,n=t.path,c=t.url,o=n+"/new",i=n+"/:cardId",l=n,u=r.a.useCallback((function(e,t){(t?a.replace:a.push)(e)}),[a]),d=r.a.useCallback((function(){u("".concat(c,"/new"))}),[c,u]),m=r.a.useCallback((function(e,t){u("".concat(c,"/").concat(t.id))}),[c,u]),p=r.a.useCallback((function(){u(c,!0)}),[c,u]),f=r.a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){return r.a.createElement(e,Object.assign({},a,t))}}),[]);return r.a.createElement(s.g,null,r.a.createElement(s.d,{exact:!0,path:o,render:f(Ka,{redirectToCardList:p})}),r.a.createElement(s.d,{exact:!0,path:i,render:f(Ka,{redirectToCardList:p})}),r.a.createElement(s.d,{exact:!0,path:l,render:f(pn,{onNew:d,onEdit:m})}))},hn=a(282),bn=a(283),gn=a(288),vn=a(281),yn=a(277),Cn=a(266),En=a(219),On=a(280),jn=a(278),kn=a(279),Pn=a(147),xn=a.n(Pn),wn=a(148),Nn=a.n(wn),An=a(149),Sn=a.n(An),In=a(150),Tn=a.n(In),Dn=a(151),Bn=a.n(Dn),qn=a(146),Rn=a.n(qn),Ln=Object(f.a)((function(e){return{root:{color:e.palette.secondary.main}}}));function Fn(e){var t=e.onClick,a=e.size,n=e.className,c=Ln();return r.a.createElement(B.a,{size:a,onClick:t,className:Object(P.a)(c.root,n)},r.a.createElement(Rn.a,null))}Fn.defaultProps={onClick:function(){},size:"medium"};var Mn=Fn,zn=Object(f.a)({root:{width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-start"}});function Wn(e){var t=e.onBack,a=zn();return r.a.createElement("div",{className:a.root},r.a.createElement(Mn,{onClick:t}))}Wn.defaultProps={onBack:function(){}};var _n=Object(f.a)((function(e){return{badge:{color:"#FFFFFF",backgroundColor:e.palette.secondary.main}}}));function Qn(e){var t=e.onClick,a=(e.content,_n()),n=y().cart,c=Object.values(n||{}).reduce((function(e,t){return Number(e)+Number(t)}),0);return r.a.createElement(B.a,{size:"small",onClick:t},r.a.createElement(yn.a,{badgeContent:c,classes:{badge:a.badge}},r.a.createElement(xn.a,null)))}var Un=Object(f.a)((function(e){return{root:{width:"100%",display:"flex",alignItems:"center"},grow:{flexGrow:1},eshopName:{color:e.palette.secondary.main,fontWeight:"bold"},sidebarPaper:{paddingTop:e.spacing(5)},listItem:{"&:hover":{color:e.palette.secondary.main,backgroundColor:e.palette.secondary.light,"& .list-icon":{color:e.palette.secondary.main}}}}}));function Hn(e){var t=e.showMenuButton,a=e.showBackButton,c=e.onBack,o=e.onCheckout,i=e.onLinkClick,l=it().t,s=Un(),u=Object(n.useState)(!1),m=Object(d.a)(u,2),p=m[0],f=m[1],h=Object(n.useCallback)((function(e){f(!1),setTimeout((function(){i(e)}),200)}),[i]),b=[{label:l("Eshop"),Icon:Nn.a,onClick:function(){return h("eshop")}},{label:l("Addresses"),Icon:Sn.a,onClick:function(){return h("address")}},{label:l("Payment Cards"),Icon:Tn.a,onClick:function(){return h("payment-card")}}];return r.a.createElement("div",{className:s.root},t&&r.a.createElement(B.a,{onClick:function(){f((function(e){return!e}))}},r.a.createElement(Bn.a,null)),a&&r.a.createElement(Mn,{onClick:c}),"\xa0",r.a.createElement("div",{className:s.grow}),r.a.createElement(Qn,{onClick:o}),r.a.createElement(jn.a,{anchor:"left",open:p,onClose:function(){return f(!1)},ModalProps:{disablePortal:!0},PaperProps:{className:s.sidebarPaper}},r.a.createElement("div",null,r.a.createElement(w,null)),r.a.createElement(Cn.a,null,b.map((function(e){var t=e.label,a=e.Icon,n=e.onClick;return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(En.a,{button:!0,key:t,className:s.listItem,onClick:n},r.a.createElement(kn.a,{className:"list-icon"},r.a.createElement(a,null)),r.a.createElement(On.a,{primary:t})))})))))}Hn.defaultProps={showBackButton:!0,showMenuButton:!0,onBack:function(){},onCheckout:function(){},onLinkClick:function(){}};var Vn=Object(f.a)((function(e){return{container:{display:"flex",alignItems:"center"},tabsIndicator:{backgroundColor:e.palette.secondary.main},tabRoot:{"&:hover":{backgroundColor:e.palette.secondary.light,color:e.palette.secondary.main}},tabSelected:{backgroundColor:e.palette.secondary.light,color:e.palette.secondary.main},rippleChild:{backgroundColor:e.palette.secondary.main}}}));function Yn(e){var t=e.activeLink,a=e.onClick,n=e.onCheckout,c=e.isPaymentCardActivated,o=it().t,i=Vn();return r.a.createElement("div",{className:i.container},r.a.createElement(gn.a,{value:t,classes:{indicator:i.tabsIndicator}},[{route:"eshop",label:o("Eshop")},{route:"address",label:o("Addresses")},{route:"payment-card",label:o("Payment Cards"),active:c}].map((function(e){var t=e.active,n=void 0===t||t,c=Object(k.a)(e,["active"]);return n&&r.a.createElement(vn.a,{classes:{root:i.tabRoot,selected:i.tabSelected},key:c.route,label:c.label,value:c.route,onClick:function(){a&&a(c.route)},TouchRippleProps:{classes:{child:i.rippleChild}}})}))),"\xa0",r.a.createElement(Qn,{onClick:n}))}Gn.defaultProps={activeLink:"shop",onClick:function(){}};var Xn=Object(f.a)((function(e){return{appbar:{zIndex:1e3,backgroundColor:"#FFFFFF"},toolbar:{width:"100%",height:"100%",margin:"auto",justifyContent:"flex-end",maxWidth:1400+e.spacing(2)}}}));function Gn(e){var t=e.location,a=e.history,c=e.match,o=e.isPaymentCardActivated,i=c.url,l=c.path,u=t.pathname,d=Xn(),m=Object(n.useCallback)((function(){return u.includes("eshop/address")?"address":u.includes("eshop/payment-card")?"payment-card":"eshop"}),[u]),p=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eshop";"address"===e?a.push("".concat(l,"/address")):"payment-card"===e?a.push("".concat(l,"/payment-card")):a.push(l)}),[a,l]),f=Object(n.useCallback)((function(){a.push("".concat(i,"/checkout"))}),[a,i]),h=Object(n.useCallback)((function(){a.replace("".concat(i,"/address"))}),[a,i]),b=Object(n.useCallback)((function(){a.replace("".concat(i,"/payment-card"))}),[a,i]),g=Object(n.useCallback)((function(){a.replace({pathname:i,state:t.state,search:t.search})}),[a,i,t]),v=Object(n.useCallback)((function(){var e=t&&t.state&&t.state.fromUrl;e?a.replace(e):h()}),[a,t,h]),y={activeLink:m(),onClick:p,onCheckout:f,isPaymentCardActivated:o};return r.a.createElement(hn.a,{className:d.appbar,position:"relative",color:"default"},r.a.createElement(bn.a,{className:d.toolbar,variant:"dense"},r.a.createElement(s.g,null,r.a.createElement(s.d,{exact:!0,path:l,render:function(e){return r.a.createElement(Yn,Object.assign({},e,y))}}),r.a.createElement(s.d,{exact:!0,path:"".concat(l,"/address"),render:function(e){return r.a.createElement(Yn,Object.assign({},e,y))}}),r.a.createElement(s.d,{path:"".concat(l,"/address/:addressId"),render:function(e){return r.a.createElement(Wn,Object.assign({},e,{onBack:v}))}}),r.a.createElement(s.d,{exact:!0,path:"".concat(l,"/payment-card"),render:function(e){return r.a.createElement(Yn,Object.assign({},e,y))}}),r.a.createElement(s.d,{path:"".concat(l,"/payment-card/:paymentCardId"),render:function(e){return r.a.createElement(Wn,Object.assign({},e,{onBack:b}))}}),r.a.createElement(s.d,{path:"".concat(l,"/checkout/:message"),render:function(e){return null}}),r.a.createElement(s.d,{path:"".concat(l,"/checkout"),render:function(e){return r.a.createElement(Hn,Object.assign({},e,{onBack:g,onCheckout:f,onLinkClick:p,showMenuButton:!1}))}}),r.a.createElement(s.d,{path:"".concat(l,"/product/:productId"),render:function(e){return r.a.createElement(Hn,Object.assign({},e,{onBack:g,onCheckout:f,onLinkClick:p,showMenuButton:!1}))}}))))}Gn.defaultProps={activeLink:"shop",onClick:function(){},onCheckout:function(){}};var Jn=Object(s.o)(Gn),Zn=Object(f.a)((function(e){return{container:Object(m.a)({position:"relative",overflow:"auto",height:function(e){return"calc(100% - ".concat(6*e.theme.spacingUnit,"px)")},padding:function(e){return 3*e.theme.spacingUnit},maxWidth:1400,marginRight:"auto",marginLeft:"auto"},e.breakpoints.down("sm"),{padding:function(e){return 2*e.theme.spacingUnit}})}}));var $n=function(e){var t=r.a.useState(!0),a=Object(d.a)(t,2),n=a[0],c=a[1],o=r.a.useState({app:null,user:null}),i=Object(d.a)(o,2),l=i[0],m=i[1],f=l&&l.user&&l.user.language,h=r.a.useState({isPaymentCardActivated:!1}),b=Object(d.a)(h,2),g=b[0],v=b[1],y=e.match.path,C=Object(p.useTheme)(),E=Zn({theme:C}),O=it().i18n,k=y+"/address",P=y+"/payment-card",x=y;return r.a.useEffect((function(){Promise.all([at.fetchInfo(),at.fetchPaymentCardConfiguration()]).then((function(e){var t=Object(d.a)(e,2),a=t[0],n=t[1];m(Object(u.a)({},a)),v(Object(u.a)({},n))})).finally((function(){c(!1)}))}),[]),r.a.useEffect((function(){f&&(c(!0),O.changeLanguage(f).finally((function(){c(!1)})))}),[f,O]),n?r.a.createElement(j,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Jn,{isPaymentCardActivated:g.isPaymentCardActivated}),r.a.createElement("div",{className:E.container},r.a.createElement(s.g,null,r.a.createElement(s.d,{path:k,component:Va}),g.isPaymentCardActivated&&r.a.createElement(s.d,{path:P,component:fn}),r.a.createElement(s.d,{path:x,component:wa}),r.a.createElement(s.c,{to:{pathname:y}}))))},Kn=a(152),er=a(284),tr={darkBlue:"#293847",grey:"#9E9E9E",green:"#3ECF8E",lightGreen:"rgba(62, 207, 142, 0.1)"},ar=Object(Kn.a)({palette:{primary:{main:tr.darkBlue},secondary:{light:tr.lightGreen,main:tr.green,contrastText:"#FFFFFF"}},overrides:{MuiTypography:{colorTextPrimary:{color:tr.darkBlue}},MuiButton:{root:{borderRadius:20}}},props:{MuiInput:{disableUnderline:!0},MuiTextField:{variant:"outlined",margin:"dense",fullWidth:!0},MuiButton:{variant:"contained",color:"secondary"}},custom:{COLORS:tr}});f.a;var nr=function(e){var t=e.children;return r.a.createElement(er.a,{theme:ar},r.a.createElement(i.a,null),t)};var rr=function(e){var t=e.children,a=r.a.useMemo((function(){return{vertical:"bottom",horizontal:"left"}}),[]);return r.a.createElement(h.a,{autoHideDuration:3e3,maxSnack:3,anchorOrigin:a},t)};var cr=function(){return r.a.createElement(r.a.Suspense,{fallback:""},r.a.createElement(l.HashRouter,null,r.a.createElement(i.a,null),r.a.createElement(nr,null,r.a.createElement(ot,null,r.a.createElement(C,null,r.a.createElement(rr,null,r.a.createElement(s.g,null,r.a.createElement(s.d,{path:"/eshop",component:$n}),r.a.createElement(s.c,{to:"/eshop"}))))))))};a(213),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(cr,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[172,1,2]]]);
//# sourceMappingURL=main.613aa6c7.chunk.js.map