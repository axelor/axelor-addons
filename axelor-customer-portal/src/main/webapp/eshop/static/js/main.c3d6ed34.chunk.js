(this["webpackJsonpaxelor-eshop"]=this["webpackJsonpaxelor-eshop"]||[]).push([[0],{136:function(e){e.exports=JSON.parse('{"Add a credit card":"Add a credit card","Add a product":"Add a product","Add to cart":"Add to cart","Address":"Address","Addresses":"Addresses","All prices are tax free":"All prices are tax free","All prices include taxes":"All prices include taxes","CVC":"CVC","Cancel":"Cancel","Card number":"Card number","City":"City","Complement":"Complement","Complementary Products":"Complementary Products","Confirm deletion":"Confirm deletion","Confirm order content":"Are you sure to order ?","Confirm order":"Confirm order","Confirm order using default card ?":"Confirm order using default card ?","Confirm quotation request":"Confirm quotation request","Confirm":"Confirm","Continue checkout":"Continue checkout","Continue shopping":"Continue shopping","Country":"Country","Credit card":"Credit card","Data Term":"Data Term","Delivery address":"Delivery address","Discount":"Discount","EShops":"EShops","Error creating order. Please try again":"Error creating order. Please try again","Error requesting quotation. Please try again":"Error requesting quotation. Please try again","Error":"Error","Eshop not processing checkout":"Eshop not processing checkout","Eshop":"Eshop","Expiry":"Expiry","Invoicing address":"Invoicing address","Invalid expiry":"Invalid expiry","Invalid cvc":"Invalid CVC","Invalid card number":"Invalid card number","More":"More","Name":"Name","New address":"New address","No record found":"No record found","One or multiple items have changed in your cart":"One or multiple items have changed in your cart","Order summary":"Order summary","Paybox":"Paybox","Payment Cards":"Payment Cards","Pay using card":"Pay using card","Products":"Products","Quantity":"Quantity","Request quotation":"Request quotation","Required":"Required","Return Policy Term":"Return Policy Term","Save":"Save","Search":"Search","Term":"Term","Thank you for shopping":"Thank you for shopping","Total discount":"Total discount","Total tax":"Total tax","Total without tax":"Total without tax","Total":"Total","Unavailable":"Unavailable","Your payment could not be completed":"Your payment could not be completed","Your payment has been successfully completed":"Your payment has been successfully completed","Zip code":"Zip code"}')},137:function(e){e.exports=JSON.parse('{"Add a credit card":"Ajouter une carte de cr\xe9dit","Add a product":"Ajouter un produit","Add to cart":"Ajouter au panier","Address":"Address","Addresses":"Adresses","All prices are tax free":"Tous les prix sont en HT","All prices include taxes":"Tous les prix sont en TTC","CVC":"CVC","Cancel":"Annuler","Card number":"Num\xe9ro de carte","City":"Ville","Complement":"Compl\xe9ment","Complementary Products":"Produits compl\xe9mentaires","Confirm deletion":"Confirmation de la suppression","Confirm order content":"\xcates-vous s\xfbr(e) de commander ?","Confirm order":"Confirmer la commande","Confirm order using default card ?":"Confirmer la commande en utilisant la carte par d\xe9faut?","Confirm quotation request":"Confirmer la demande de devis","Confirm":"Confirmer","Continue checkout":"Continuer la commande","Continue shopping":"Continuer vos achats","Country":"Pays","Credit card":"Carte de cr\xe9dit","Data Term":"Dur\xe9e des donn\xe9es","Delivery address":"Adresse de livraison","Discount":"Remise","EShops":"EShops","Error creating order. Please try again":"Erreur lors de la cr\xe9ation de la commande. Veuillez r\xe9essayer","Error requesting quotation. Please try again":"Erreur lors de la demande de devis. Veuillez r\xe9essayer","Error":"Erreur","Eshop not processing checkout":"Eshop ne traite pas le paiement","Eshop":"Eshop","Expiry":"Expiration","Invoicing address":"Adresse de facturation","Invalid expiry":"Expiration invalide","Invalid cvc":"CVC invalide","Invalid card number":"Num\xe9ro de carte invalide","More":"Plus","Name":"Nom","New address":"Nouvelle adresse","No record found":"Aucun enregistrement trouv\xe9","One or multiple items have changed in your cart":"Un ou plusieurs articles ont chang\xe9 dans votre panier","Order summary":"R\xe9capitulatif de la commande","Paybox":"Paybox","Payment Cards":"Cartes de paiement","Pay using card":"Payer par carte","Products":"Produits","Quantity":"Quantit\xe9","Request quotation":"Demande de devis","Required":"Requis","Return Policy Term":"Terme de la politique de retour","Save":"Enregistrer","Search":"Rechercher","Term":"Terme","Thank you for shopping":"Merci pour vos achats","Total discount":"Remise","Total tax":"Taxes","Total without tax":"Montant total HT","Total":"Total","Unavailable":"Indisponible","Your payment could not be completed":"Votre paiement n\'a pas pu aboutir","Your payment has been successfully completed":"Votre paiement a \xe9t\xe9 effectu\xe9 avec succ\xe8s","Zip code":"Code postal"}')},182:function(e,t,a){e.exports=a(223)},222:function(e,t,a){},223:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),i=a(299),l=a(48),u=a(15),s=a(8),d=a(6),m=a(28),p=a(126),f=a(275),h=a(40),b=a(276),g=Object(f.a)((function(e){return{root:{height:"inherit",width:"inherit",position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},top:{color:"#eef3fd"},bottom:{color:e.palette.secondary.main,animationDuration:"250ms",position:"absolute"}}}));var v,y=function(e){var t=g();return r.a.createElement("div",{className:t.root},r.a.createElement(b.a,Object.assign({variant:"determinate",value:100,className:t.top,size:24,thickness:4},e)),r.a.createElement(b.a,Object.assign({variant:"indeterminate",disableShrink:!0,className:t.bottom,size:24,thickness:4},e)))},C=a(130),E=a.n(C),O=a(97),j=a(98),k=a(131),P=a.n(k),x={};function w(e){var t=document.cookie||"";return t!==v&&(v=t,x=t.split("; ").reduce((function(e,t){var a=t.split("=");return e[a[0]]=a[1],e}),{})),x[e]}var N=function(){function e(t,a){Object(O.a)(this,e),this.http=t,this.entity=a}return Object(j.a)(e,[{key:"insert",value:function(e){return this.http.put("/ws/rest/"+this.entity,e)}},{key:"update",value:function(e){return this.http.post("/ws/rest/"+this.entity,e)}},{key:"delete",value:function(e){return this.http.delete("/ws/rest/"+this.entity+"/"+e)}},{key:"deleteAll",value:function(e){return this.http.post("/ws/rest/".concat(this.entity,"/removeAll"),{records:e.map((function(e){return{id:e.id,version:e.version}}))})}},{key:"fetch",value:function(e,t){return this.http.post("/ws/rest/"+this.entity+"/"+e+"/fetch",t)}},{key:"copy",value:function(e,t){return this.http.get("/ws/rest/"+this.entity+"/"+e+"/copy",t)}},{key:"details",value:function(e,t){return this.http.get("/ws/rest/"+this.entity+"/"+e+"/details?name="+t)}},{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post("/ws"+(this.entity?"/rest/".concat(this.entity):"")+"/search",e)}}]),e}(),A=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.baseURL,n=void 0===a?"/":a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(O.a)(this,e),this.instance=P.a.create({baseURL:n}),this.interceptor=r}return Object(j.a)(e,[{key:"catchError",value:function(e){console.log("catch error",e),this.callback?this.callback(e):"".concat(e).includes("401")}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,r=a.headers,c=void 0===r?{}:r,o=a.token,i=void 0===o||o,l=a.withCredentials,u=void 0===l||l,d=Object(s.a)({},i?{"X-CSRF-Token":w("CSRF-TOKEN")}:{},{},n||Object.assign({},{accept:"application/json","x-requested-with":"XMLHttpRequest"},c,Object.keys(t).length?{"content-type":"application/json"}:{})),m=Object.assign({url:e,method:"POST",headers:d,data:"application/json"===d["content-type"]?JSON.stringify(t):t},a,{withCredentials:u});return"GET"!==m.method&&"HEAD"!==m.method||!m.data||delete m.data,this.instance(m)}},{key:"intercept",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=Object.assign({method:a,withCredentials:!0},c),i=function(){return t.request(e,n,o,r)},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e5;return new Promise((function(t,a){setTimeout((function(){a(new Error("Request failed Timeout"))}),e)}))};return Promise.race([l(),i().then((function(e){return 401===e.status?t.catchError({logout:!0}):e.data}))]).catch(this.catchError.bind(this))}},{key:"get",value:function(e,t,a){return this.intercept(e,"GET",{},t,a)}},{key:"post",value:function(e,t,a){return this.intercept(e,"POST",t,a)}},{key:"patch",value:function(e,t,a){return this.intercept(e,"PATCH",t,a)}},{key:"put",value:function(e,t,a){return this.intercept(e,"PUT",t,a)}},{key:"delete",value:function(e,t){return this.intercept(e,"DELETE",{},t)}},{key:"head",value:function(e,t){return this.intercept(e,"HEAD",{},t)}},{key:"action",value:function(e,t){return this.intercept("/ws/action"+e,"POST",t)}},{key:"rest",value:function(e){return new N(this,e)}},{key:"login",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object.assign({},this.config||{},t);return this.request("/callback",{username:a.username,password:a.password},{token:!1}).then((function(t){var n=null;if(void 0===t)throw new Error("Failed To Connect !!");return t&&401===t.status?n=!1:t&&200===t.status&&(n=!0,e.config=a),n})).catch(this.catchError.bind(this))}},{key:"logout",value:function(){return this.get("/logout")}},{key:"info",value:function(){return this.get("/ws/app/info")}},{key:"checkInfo",value:function(){return this.request("/ws/app/info",{},{method:"GET"}).then((function(e){return e.data})).then((function(e){return{appUser:e,app:{name:e["application.name"],version:e["application.version"],description:e["application.description"]},user:{id:e["user.id"],code:e["user.login"],name:e["user.name"],language:e["user.lang"]||"en",email:e["user.login"],theme:e["user.theme"]||""}}}))}},{key:"upload",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(c,o){var i=new XMLHttpRequest,l="/ws/files/upload",u=function(){return a["X-File-Id"]?e.intercept((function(){return e.delete("".concat(l,"/").concat(a["X-File-Id"]))})):Promise.resolve(!0)};i.open("POST",l,!0),Object.keys(a).forEach((function(e){i.setRequestHeader(e,a[e])})),i.withCredentials=!0,i.overrideMimeType("application/octet-stream"),i.setRequestHeader("Content-Type","application/octet-stream"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("X-CSRF-Token",w("CSRF-TOKEN")),i.onload=function(){n(100)},r.abort=function(){return i.abort(),u()},i.onreadystatechange=function(){if(4===i.readyState)switch(i.status){case 401:throw this.callbackInterceptor(),new Error("Unauthorized !!");case 200:try{var e=JSON.parse(i.responseText);c(e)}catch(t){c(i.responseText)}break;default:u(),o({status:i.status})}},i.upload.onprogress=function(e){var t=a["X-File-Size"],c=parseFloat(a["X-File-Offset"])+e.loaded,o=Math.round(c/t*100);r.progress=o>95?"95%":o+"%",r.transfer=function(e,t){var a=function(e){return e>1e9?parseFloat(e/1e9).toFixed(2)+" GB":e>1e6?parseFloat(e/1e6).toFixed(2)+" MB":e>=1e3?parseFloat(e/1e3).toFixed(2)+" KB":e+" B"};return a(e||0)+"/"+a(t)}(c,t),r.loaded=c===t,e.lengthComputable&&n(e.loaded/e.total*100,r)},i.send(t)}))}}]),e}())({baseURL:"../"}),S={};var I={get:function(e){return S[e]},set:function(e,t){return S[e]=t},clear:function(e){delete S[e]}};function T(e){return"./".concat(A.instance.defaults.baseURL,"ws/portal/metafile/").concat(e)}function D(e){if(e&&0===e.status)return e;throw new Error(e&&e.message)}function R(e){return function(e){var t=e._pictures&&e._pictures.length;e.images=t?e._pictures.map(T):[]}(e),function(e){var t=e&&e._currency&&e._currency.symbol;t&&(e._previousPrice?(e._displayPrice=t+e._previousPrice,e._displayDiscountPrice=t+e._price):e._displayPrice=t+e._price)}(e),function(e){e._discount&&e._discount.includes("%")&&(e._displayDiscountPercentage=e._discount)}(e),function(e){"service"===e.productTypeSelect||Number(e._realQty)||(e.unavailable=!0)}(e),function(e){e.complementaryProducts=(e.complementaryProductList||[]).map((function(e){var t=e.product,a=void 0===t?{}:t,n=e.qty,r=e.optional;return{id:null===a||void 0===a?void 0:a.id,qty:Number(n),name:a.name,optional:r}})).filter((function(e){return e.id})).filter((function(e){return!isNaN(parseFloat(e.qty))})),e.complementaryProductList=null}(e),e}function q(){return{data:[],total:0}}function L(){return{}}function B(){return[]}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.data=e.data||t,e}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.get("config")||{},a=e.address,n=e.addressComplement,r=e.zipCode,c=e.countryName,o=e.cityName,i="".concat(a||""," ").concat(n||""),l="".concat(r||""),u="".concat(o||"");return i+=(null===t||void 0===t?void 0:t.isZipOnLeftOnEshop)?" ".concat(l," ").concat(u):" ".concat(u," ").concat(l),i+=" ".concat(c||"")}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number.parseFloat(e).toFixed(t)}function W(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return a?e+" "+t:e+t}function _(e){return e&&e.currency&&e.currency.symbol}function U(e){return function(e){var t=_(e);if(!t)return e;var a=function(e){return W(e,t)};return Object.assign(e,{total:a(e.total),totalTax:a(e.totalTax),totalWithoutTax:a(e.totalWithoutTax),totalDiscount:a(e.totalDiscount)})}(function(e){var t=_(e),a=ee(e.mainInvoicingAddress),n=ee(e.deliveryAddress);return a.displayAddress=F(a),n.displayAddress=F(n),{id:e.id,date:e.checkoutDate,total:e.inTaxTotal||"0.00",totalTax:e.taxTotal||"0.00",totalWithoutTax:e.exTaxTotal||"0.00",totalDiscount:e._discountTotal||"0.00",currency:e.currency,invoicingAddress:a,deliveryAddress:n,lines:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return{id:e.id,name:e.productName,qty:z(e.qty),unitPrice:t?W(z(e.price),t):z(e.price),vat:e.taxLine&&e.taxLine.value?W(z(100*e.taxLine.value),"%"):"",discount:t?W(z(e._discountTotal||"0.00"),t):"0.00",total:t?W(z(e.inTaxTotal),t):z(e.inTaxTotal),productId:e.product&&e.product.id,productTypeSelect:e.product&&e.product.productTypeSelect}}))}(e.saleOrderLineList),itemsChanged:e.itemsChanged,original:{total:e.inTaxTotal},paymentModes:e.paymentModes||[]}}(e))}function Q(e){return e.itemsChanged&&(e.lines=e.lines.filter((function(e){return"service"!==e.productTypeSelect&&"0.00"!==e.qty}))),e}function H(e){return e&&e.data}function V(e,t){return e.data&&(e.data=t(e.data)),e}function Y(e){return Object.assign({},e,{displayAddress:F(e)})}function X(e){return V(e,(function(e){return e.map(R)}))}function G(e){return V(e,(function(e){return e.map(re)}))}function Z(e){return V(e,(function(e){return e.map(ee)}))}function J(e){return V(e,(function(e){return e.map(Y)}))}function $(e,t){return t?e+"?"+function(e){return E.a.stringify(e)}(t):e}function K(e){return{addressL4:e.address,addressL2:e.addressComplement,zip:e.zipCode,cityId:e.city?e.city.id:null,id:e.id,addressL7CountryId:e.country}}function ee(e){var t=e.city,a=e.addressL7Country;return{address:e.addressL4,addressComplement:e.addressL2,zipCode:e.zip,city:t&&te(t),id:e.id,country:e.addressL7CountryId||a&&a.id,cityName:t&&t.name||"",countryName:a&&a.name||""}}function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id,label:e.name,value:e.id,zipCode:e.zip,country:e.country&&e.country.id}}function ae(e){return V(e,(function(e){return e.map(te)}))}function ne(e){var t=e.deliveryAddress,a=e.invoicingAddress,n=e.cart;return{deliveryAddressId:t.id,mainInvoicingAddressId:a.id,cart:Object.keys(n).reduce((function(e,t){return e.push({productId:Number(t),quantity:n[t]}),e}),[])}}function re(e){var t=e.expiry,a=void 0===t?"":t,n=e.brand,r=a.slice(0,a.length-2),c=a.slice(a.length-2),o="".concat(r,"/").concat(c),i=e.cardNumber,l=void 0===i?"":i,u=(l=String(l))&&l.slice(l.length-4);return Object(s.a)({},e,{expiryDisplay:o,last4:u,brand:n||""})}var ce={fetchProducts:function(e){var t=$("/ws/portal/products",e);return A.get(t).then(D).then(M).then(X).catch(q)},fetchProduct:function(e){var t="/ws/portal/products/".concat(e);return A.get(t).then(D).then((function(e){return M(e,{})})).then(H).then(R).catch(L)},fetchCategories:function(){return A.get("/ws/portal/categories").then(D).then(M).then(H).catch(B)},fetchCategoryProducts:function(e,t){var a=$("/ws/portal/categories/".concat(e,"/products"),t);return A.get(a).then(D).then(M).then(X).catch(q)},fetchAddresses:function(){return A.get("/ws/portal/addresses").then(D).then(M).then(Z).then(J).catch(q)},fetchAddress:function(e){var t="/ws/portal/addresses/".concat(e);return A.get(t).then(D).then(H).then(ee)},addAddress:function(e){return A.post("/ws/portal/addresses",K(e)).then(D).then(H)},deleteAddress:function(e){var t="/ws/portal/addresses/".concat(e);return A.delete(t)},updateAddress:function(e,t){var a="/ws/portal/addresses/".concat(e);return A.post(a,K(t)).then(D).then(H)},fetchCities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.search,a=e.countryId,n=arguments.length>1?arguments[1]:void 0,r=t?"&searchInput=".concat(t):"",c=$(a?"/ws/portal/countries/".concat(a,"/cities"):"/ws/portal/cities",n)+r;return A.get(c).then(D).then(ae)},fetchCountries:function(){return A.get("/ws/portal/countries").then(D).then(M).then(H).catch(B)},checkCart:function(e){var t={cart:Object.keys(e).map((function(t){return{productId:Number(t),quantity:e[t]}}))};return A.post("/ws/portal/cart/check-cart",t).then(D).then(H).then(U).then(Q).catch(L)},checkoutPaypal:function(e){var t=e.paypalPaymentData,a=e.orderData,n=t.id,r=ne(a);return A.post("/ws/portal/cart/checkout/paypal",{paypalOrderId:n,orderData:r}).then(D).then(H)},checkoutPaybox:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,a=e.orderData,n="/ws/portal/cart/checkout/paybox",r=ne(a),c={orderData:r,successURL:t+"/success",failureURL:t+"/failure"};return A.post(n,c).then(D).then(H)},checkoutPaymentCard:function(e){var t=e.cardId,a={orderData:ne(e.orderData)};return t&&(a.cardId=t),A.post("/ws/portal/cart/checkout/stripe",a).then(D).then(H)},checkoutQuotation:function(e){var t={orderData:ne(e.orderData)};return A.post("/ws/portal/cart/checkout/quotation",t).then(D).then(H)},fetchPaymentCards:function(){return A.get("/ws/portal/payment-cards").then(D).then(M).then(G).catch(q)},fetchPaymentCard:function(e){var t="/ws/portal/payment-cards/".concat(e);return A.get(t).then(D).then(H).then(re)},addPaymentCard:function(e){return A.post("/ws/portal/payment-cards",e).then(D)},updatePaymentCard:function(e,t){var a="/ws/portal/payment-cards/".concat(e);return A.post(a,t).then(D)},deletePaymentCard:function(e){var t="/ws/portal/payment-cards/".concat(e);return A.delete(t).then((function(e){if(-1===e.status)throw new Error(e&&e.message)}))},fetchPaymentCardConfiguration:function(){return A.get("/ws/portal/config/is-card-active").then(D).then(H).then((function(e){return{isPaymentCardActivated:e.isStripeActivated}}))},fetchDefaultPaymentCard:function(){return A.get("/ws/portal/payment-cards/default").then(D).then(H)},updateDefaultPaymentCard:function(e){var t="/ws/portal/payment-cards/default/".concat(e);return A.post(t).then(D)},fetchPaypalMerchantId:function(){return A.get("/ws/portal/config/merchant-id").then(D).then(H).catch(L)},fetchTranslations:function(e){return A.post("/ws/portal/translate",e).then((function(e){e&&0===e.status||(e.data=[]);var t=e.data;return Array.isArray(t)?t.reduce((function(e,t){return e[t.key]=t.message,e}),{}):{}})).catch((function(){return{}}))},fetchConfiguration:function(){return A.get("/ws/portal/config").then(D).then(H).then((function(e){return{isQuotationRequestActive:e.isQuotationRequestActive,isDataPolicyRequired:e.isDataPolicyRequired,dataPolicyMetaFile:e.dataPolicyMetaFile,isReturnPolicyRequired:e.isReturnPolicyRequired,returnPolicyMetaFile:e.returnPolicyMetaFile,isTermRequired:e.isTermRequired,termMetaFile:e.termMetaFile,isZipOnLeftOnEshop:e.isZipOnLeftOnEshop,isAllowOutOfStock:e.isAllowOutOfStock}})).catch((function(){return{isQuotationRequestActive:!1}}))},fetchInfo:function(){return A.checkInfo()},getMetafileURL:T},oe=r.a.createContext();function ie(){return Object(n.useContext)(oe)}var le=function(e){var t=e.children,a=r.a.useState(!0),n=Object(d.a)(a,2),c=n[0],o=n[1],i=r.a.useState({app:{},user:{}}),l=Object(d.a)(i,2),u=l[0],m=l[1];return r.a.useEffect((function(){ce.fetchInfo().then((function(e){m(Object(s.a)({},e))})).finally((function(){o(!1)}))}),[]),c?r.a.createElement(y,null):r.a.createElement(oe.Provider,{value:u},t)};function ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return JSON.parse(localStorage.getItem(e))||t}catch(a){return t}}function se(e,t){localStorage.setItem(e,JSON.stringify(t))}var de=r.a.createContext();function me(){return Object(n.useContext)(de)}var pe=function(e){var t=e.children,a=ie().user.id,c=Object(n.useState)({cart:{},config:{},checkoutAddresses:{}}),o=Object(d.a)(c,2),i=o[0],l=i.cart,u=i.config,p=i.checkoutAddresses,f=o[1],h=Object(n.useState)(!0),b=Object(d.a)(h,2),g=b[0],v=b[1],C=Object(n.useCallback)((function(e){f((function(t){return Object(s.a)({},t,{cart:e})}))}),[]),E=Object(n.useCallback)((function(e){f((function(t){return Object(s.a)({},t,{checkoutAddresses:e})}))}),[]),O=Object(n.useCallback)((function(e){return f((function(t){return Object(s.a)({},t,{config:e})}))}),[]),j=Object(n.useCallback)((function(){C({})}),[C]),k=Object(n.useCallback)((function(e,t){f((function(a){return Object(s.a)({},a,{cart:Object(s.a)({},a.cart,Object(m.a)({},e,t))})}))}),[]),P=Object(n.useCallback)((function(e){f((function(t){return Object(s.a)({},t,{checkoutAddresses:Object(s.a)({},t.checkoutAddresses,Object(m.a)({},"invoicing",e))})}))}),[]),x=Object(n.useCallback)((function(e){f((function(t){return Object(s.a)({},t,{checkoutAddresses:Object(s.a)({},t.checkoutAddresses,Object(m.a)({},"delivery",e))})}))}),[]),w=Object(n.useCallback)((function(e){f((function(t){var a=Object(s.a)({},t.cart);return delete a[e],Object(s.a)({},t,{cart:a})}))}),[]);Object(n.useEffect)((function(){if(a){var e=function(e){return ue("".concat("cart","_").concat(e))}(a),t=function(e){return ue("".concat("address","_").concat(e))}(a);e&&Object.keys(e).length>0?C(e):C({}),t&&Object.keys(t).length>0?E(t):E({})}}),[a,C,E]),Object(n.useEffect)((function(){a&&l&&function(e,t){se("".concat("cart","_").concat(t),e)}(l,a)}),[a,l]),Object(n.useEffect)((function(){a&&p&&Object.keys(p).length&&function(e,t){se("".concat("address","_").concat(t),e)}(p,a)}),[a,p]);var N=Object(n.useCallback)((function(){ce.fetchConfiguration().then((function(e){I.set("config",e),O(e)})).finally((function(){return v(!1)}))}),[O]);Object(n.useEffect)((function(){N()}),[N]);var A=Object(n.useMemo)((function(){return{cart:l,checkoutAddresses:p,config:u,setCart:C,clearCart:j,setConfig:O,setItem:k,clearItem:w,setInvoicingAddress:P,setDeliveryAddress:x}}),[l,p,u,C,j,O,k,w,P,x]);return g?r.a.createElement(y,null):r.a.createElement(de.Provider,{value:A},t)},fe=a(21),he=a(2),be=Object(f.a)((function(e){return{divider:{borderColor:e.palette.secondary.main}}}));var ge=function(e){var t=e.className,a=Object(fe.a)(e,["className"]),n=be();return r.a.createElement("hr",Object.assign({className:Object(he.a)(n.divider,t)},a))},ve=a(68),ye=Object(f.a)((function(e){return{row:{display:"flex",marginBottom:e.spacing(.5),justifyContent:"space-between"}}}));function Ce(e){var t=e.total,a=e.totalLabel,n=e.totalWithoutTax,c=e.totalDiscount,o=e.totalWithoutTaxLabel,i=e.totalTax,l=e.totalTaxLabel,u=e.totalDiscountLabel,s=e.divider,d=e.className,m=ye();return r.a.createElement("div",{className:d},s&&r.a.createElement(ge,null),r.a.createElement("div",{className:m.row},r.a.createElement(ve.a,null,o),r.a.createElement(ve.a,null,n)),r.a.createElement("div",{className:m.row},r.a.createElement(ve.a,null,u),r.a.createElement(ve.a,null,c)),r.a.createElement("div",{className:m.row},r.a.createElement(ve.a,null,l),r.a.createElement(ve.a,null,i)),s&&r.a.createElement(ge,null),r.a.createElement("div",{className:m.row},r.a.createElement(ve.a,null,r.a.createElement("b",null,a)),r.a.createElement(ve.a,null,r.a.createElement("b",null,t))))}Ce.defaultProps={divider:!0,total:"0.00",totalTax:"0.00",totalWithoutTax:"0.00",totalDiscount:"0.00",totalLabel:"Total",totalTaxLabel:"Total Tax",totalWithoutTaxLabel:"Total Without Tax",totalDiscountLabel:"Total Discount"};var Ee=Ce,Oe=a(288),je=a(286),ke=a(287),Pe=a(164),xe=a(304),we=a(132),Ne=a(94),Ae=a.n(Ne),Se=a(65),Ie=a.n(Se),Te=a(101),De=a(4),Re=Object(De.a)((function(){return{root:{position:"relative",width:"100%",overflow:"hidden",backgroundColor:"#ffffff",borderRadius:4},elevation1:{boxShadow:"0px 0px 30px rgba(0,0,0,0.15)"}}}))(Te.a),qe=a(57),Le=a(300),Be=a(11),Me=Object(f.a)((function(e){return{root:{border:"1px solid #E2E2E1",overflow:"hidden",borderRadius:4,backgroundColor:"white",transition:e.transitions.create(["border-color","box-shadow"]),"&$disabled":{backgroundColor:"#FCFCFB"},"&:hover":{backgroundColor:"#FFFFFF"},"&$focused":{backgroundColor:"#FFFFFF",boxShadow:"".concat(Object(Be.c)(e.palette.secondary.main,.25)," 0 0 0 1px"),borderColor:e.palette.secondary.main}},disabled:{},focused:{}}})),Fe=Object(f.a)((function(e){return{root:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%","&$focused":{color:e.palette.secondary.main},"&$filled":{transition:e.transitions.create(["color"]),"&$focused":{color:e.palette.secondary.main}}},error:{},asterisk:{},focused:{},filled:{}}})),ze=r.a.forwardRef((function(e,t){var a=e.error,n=e.readOnly,c=e.InputProps,o=Object(fe.a)(e,["error","readOnly","InputProps"]),i=Me(),l=Fe();return r.a.createElement(Le.a,Object.assign({margin:"dense",ref:t,variant:"filled",fullWidth:!0},o,{InputLabelProps:{shrink:!0,classes:l},InputProps:Object(s.a)({readOnly:n,disableUnderline:!0,classes:i},c||{}),error:Boolean(a),helperText:a}))})),We=a(301),_e=a(280),Ue=a(279),Qe=a(25),He=Object(f.a)((function(){return{root:{"&:focus":{backgroundColor:"white"}}}})),Ve=Object(f.a)((function(){return{paper:{maxHeight:300}}})),Ye=Object(f.a)((function(e){return{root:{"&$selected":{color:e.palette.secondary.main,backgroundColor:e.palette.secondary.light},"&:hover":{color:e.palette.secondary.main,backgroundColor:e.palette.secondary.light}},selected:{}}})),Xe=Object(f.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center"},paper:{width:"90%",maxWidth:400}}}));function Ge(e){var t=e.options,a=e.onLoadMore,c=e.showLoadingOption,o=e.onOpen,i=e.onClose,l=Object(fe.a)(e,["options","onLoadMore","showLoadingOption","onOpen","onClose"]),u=Object(n.useRef)(),m=Object(n.useState)(null),p=Object(d.a)(m,2),f=p[0],h=p[1],b=Object(Qe.a)(),g=Object(Ue.a)(b.breakpoints.down("sm")),v=He(),C=Ve(),E=Ye(),O=Xe(),j=Object(n.useCallback)((function(e){if(a){var t,n=null===u||void 0===u||null===(t=u.current)||void 0===t?void 0:t.getBoundingClientRect(),r=n.top,c=n.left;h({top:r,left:c})}o&&o(e)}),[a,o]),k=Object(n.useCallback)((function(e){a&&h(null),i&&i(e)}),[a,i]);return r.a.createElement(ze,Object.assign({select:!0,ref:u,SelectProps:{classes:v,MenuProps:Object(s.a)({classes:C},g?{anchorReference:"none",PopoverClasses:O,BackdropProps:{invisible:!1}}:Object(s.a)({},f?{anchorReference:"anchorPosition",anchorPosition:f}:{}),{onScroll:function(e){var t=e.target;t.scrollTop===t.scrollHeight-t.clientHeight&&a&&a()}}),onOpen:j,onClose:k}},l),t.map((function(e){return r.a.createElement(_e.a,{key:e.value,value:e.value,classes:E},e.label)})),c&&r.a.createElement(_e.a,{disabled:!0},r.a.createElement(We.a,{width:"100%"},r.a.createElement(y,null))))}Ge.defaultProps={options:[]};var Ze=Ge,Je=Object(f.a)((function(){return{input:{"&[type=number]":{MozAppearance:"textfield","&::-webkit-outer-spin-button, &::-webkit-inner-spin-button":{WebkitAppearance:"none",margin:0}}}}})),$e=function(e){var t=e.maxItems,a=e.moreLabel,c=e.name,o=e.onChange,i=e.value,l=Object(fe.a)(e,["maxItems","moreLabel","name","onChange","value"]),u=r.a.useState(i>t),s=Object(d.a)(u,2),m=s[0],p=s[1],f=r.a.useRef(),h=Je(),b=Object(n.useMemo)((function(){return i%1!==0}),[i]);r.a.useEffect((function(){m&&f.current.focus()}),[m]);var g=r.a.useCallback((function(){p(!0)}),[]),v=r.a.useCallback((function(e){"more"===e.target.value?(g(),o({target:{value:t,name:c}})):(o(e),m||document.activeElement&&document.activeElement.blur&&document.activeElement.blur())}),[g,m,o,t,c]);return m||b?r.a.createElement(ze,Object.assign({ref:f,inputProps:{className:h.input},onChange:v,name:c,value:i},l,{type:"number",min:1})):r.a.createElement(Ze,Object.assign({name:c,options:[].concat(Object(qe.a)(Object(qe.a)(Array(t).keys()).map((function(e){return{value:e+1,label:e+1}}))),[{value:"more",label:a}]),onChange:v,value:i},l))};$e.defaultProps={maxItems:10,moreLabel:"More"};var Ke=$e,et=a(282),tt=a(283),at=a(284),nt=a(285),rt=a(160),ct=a(161),ot=a(61),it=a(281),lt=a(305),ut=a(133),st=a(134),dt={en:a(136),fr:a(137)},mt=ct.a.createInstance(),pt=navigator.language.includes("fr")?"fr":"en";mt.use(ot.e).use(st.a).use(ut.a).init({lng:pt,fallbackLng:"en",interpolation:{escapeValue:!1},backend:{request:function(e,t,a,n){var r=function(e){return Object(rt.a)(/\/locales\/([0-9A-Z_a-z]+)\/translation.json/gm,{lang:1}).exec(e).groups.lang||"en"}(t),c=dt[r]||dt.en;ce.fetchTranslations({keys:Object.keys(c),lang:r}).then((function(e){var t=JSON.stringify(Object.assign({},c,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,a){var n=e[a];return n&&(t[a]=n),t}),{})}(e)));n(null,{status:!0,data:t})}))}},keySeparator:!1});var ft=function(e){var t=e.children;return r.a.createElement(it.a,{i18n:mt},t)},ht=lt.a;function bt(e){var t=ht().t,a=e.open,n=e.onClose,c=e.onConfirm,o=e.onCancel,i=e.children,l=e.title;return r.a.createElement(et.a,{open:a,onClose:n},r.a.createElement(tt.a,null,l),r.a.createElement(at.a,null,i),r.a.createElement(nt.a,null,r.a.createElement(je.a,{variant:"outlined",onClick:o||n},t("Cancel")),r.a.createElement(je.a,{onClick:c},t("Confirm"))))}bt.defaultProps={title:"Confirmation Dialog",open:!1,onClose:function(){},onConfirm:function(){}};var gt=bt;function vt(e){var t=e.ButtonProps,a=e.DialogProps,n=e.onConfirm,c=r.a.useState(!1),o=Object(d.a)(c,2),i=o[0],l=o[1],u=r.a.useCallback((function(){l(!0)}),[]),s=r.a.useCallback((function(){l(!1)}),[]),m=r.a.useCallback((function(){s(),n&&n()}),[n,s]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(je.a,{className:t.className,variant:t.variant,onClick:u,disabled:t.disabled},t.label),r.a.createElement(gt,{open:i,onClose:s,onConfirm:m,title:a.title,children:a.children}))}vt.defaultProps={ButtonProps:{},DialogProps:{}};var yt=vt;function Ct(e){var t=e.disabled,a=e.onClick,n=ht().t;return r.a.createElement(yt,{ButtonProps:{disabled:t,label:n("Request quotation")},DialogProps:{title:n("Request quotation"),children:n("Confirm quotation request")},onConfirm:a})}function Et(e){var t=e.disabled,a=e.onClick,n=ht().t;return r.a.createElement(yt,{ButtonProps:{disabled:t,label:n("Confirm order")},DialogProps:{title:n("Confirm order"),children:n("Confirm order content")},onConfirm:a})}Ct.defaultProps={disabled:!1,onClick:function(){}},Et.defaultProps={disabled:!1,onClick:function(){}};var Ot=Object(f.a)({button:{width:150}});function jt(e){var t=e.disabled,a=e.onClick,n=ht().t,c=Ot();return r.a.createElement(je.a,{className:c.button,disabled:t,onClick:a,variant:"outlined"},n("Paybox"))}function kt(e){var t=e.disabled,a=e.onClick,n=ht().t;return r.a.createElement(yt,{ButtonProps:{disabled:t,label:n("Pay using card")},DialogProps:{title:n("Pay using card"),children:n("Confirm order content")},onConfirm:a})}jt.defaultProps={disabled:!1,onClick:function(){}},kt.defaultProps={showButton:!1,disabled:!1,onClick:function(){}};var Pt=Object(f.a)((function(e){return{paper:{padding:e.spacing(2)},actionContainer:{display:"flex",justifyContent:"center",alignItems:"center"},spaceBetween:{justifyContent:"space-between"},termWrapper:{display:"flex",alignItems:"flex-start",flexDirection:"column",marginTop:e.spacing(2)},term:{display:"flex",alignItems:"center",justifyContent:"flex-start"},termLink:{textDecoration:"none",color:e.palette.secondary.main},actionWrapper:{display:"flex",alignItems:"center",flexDirection:"column",marginTop:e.spacing(2)},actionTitle:{marginBottom:e.spacing()},action:{marginBottom:e.spacing()}}}));function xt(e){var t=e.total,a=e.totalTax,n=e.totalDiscount,c=e.totalWithoutTax,o=e.message,i=e.PaypalButtonProps,l=e.PayboxButtonProps,u=e.RequestQuotationButtonProps,s=e.PaymentCardButtonProps,d=e.ConfirmOrderButtonProps,p=e.Terms,f=void 0===p?[]:p,h=ht().t,b=Pt(),g=f.some((function(e){return e.show}));return r.a.createElement(Re,{className:b.paper},r.a.createElement(ve.a,{variant:"h5"},h("Order summary")),r.a.createElement(Ee,{total:t,totalTax:a,totalDiscount:n,totalWithoutTax:c,totalLabel:h("Total"),totalTaxLabel:h("Total tax"),totalWithoutTaxLabel:h("Total without tax"),totalDiscountLabel:h("Total discount")}),r.a.createElement("div",{className:Ae()(b.actionContainer,Object(m.a)({},b.spaceBetween,g))},g&&r.a.createElement("div",{className:b.termWrapper},f.filter((function(e){return e.required&&e.show})).map((function(e,t){return r.a.createElement("div",{className:b.term,key:t},r.a.createElement(xe.a,{checked:e.checked,onChange:function(t){return e.setChecked(t.target.checked)}}),r.a.createElement("a",{color:"secondary",href:e.fileURL,target:"_blank",rel:"noopener noreferrer",className:b.termLink},h(e.label)))}))),r.a.createElement("div",{className:b.actionWrapper},u.showButton&&r.a.createElement("div",{className:b.action},r.a.createElement(Ct,u)),d.showButton&&r.a.createElement("div",{className:b.action},r.a.createElement(Et,d)),s.showButton&&r.a.createElement("div",{className:b.action},r.a.createElement(kt,s)),l.showButton&&r.a.createElement("div",{className:b.action},r.a.createElement(jt,l)),i.showButton&&r.a.createElement("div",{className:b.action},r.a.createElement(we.PayPalButton,Object.assign({style:{color:"blue",shape:"pill",height:36}},i))),o&&r.a.createElement("div",{className:b.action},r.a.createElement(ve.a,null,o)))))}xt.defaultProps={message:"",PaypalButtonProps:{},PayboxButtonProps:{},RequestQuotationButtonProps:{},PaymentCardButtonProps:{},ConfirmOrderButtonProps:{}};var wt=Object(f.a)((function(e){return{container:{marginBottom:e.spacing(4)},header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing()},headerAction:{fontSize:"0.7rem"},select:{marginBottom:e.spacing()}}}));function Nt(e){var t=e.deliveryAddresses,a=e.invoicingAddresses,n=e.invoicingAddress,c=e.deliveryAddress,o=e.onNewAddress,i=e.onDeliveryAddressChange,l=e.onInvoicingAddressChange,u=ht().t,s=wt();return r.a.createElement("div",{className:s.container},r.a.createElement("div",{className:s.header},r.a.createElement(ve.a,{variant:"h5"},u("Addresses")),r.a.createElement(je.a,{className:s.headerAction,onClick:o},u("New address"))),r.a.createElement(ge,null),r.a.createElement(Oe.a,{container:!0,spacing:4},r.a.createElement(Oe.a,{item:!0,xs:12,md:6},r.a.createElement(Ze,{label:u("Invoicing address"),name:"invoicingAddress",value:n.id||"",options:a,className:s.select,onChange:l,required:!0}),r.a.createElement(ve.a,{variant:"body2"},n.displayAddress)),r.a.createElement(Oe.a,{item:!0,xs:12,md:6},r.a.createElement(Ze,{label:u("Delivery address"),name:"deliveryAddress",value:c.id||"",options:t,className:s.select,onChange:i,required:!0}),r.a.createElement(ve.a,{variant:"body2"},c.displayAddress))))}function At(e){var t=e.value,a=e.onChange,n=e.line,c=Object(fe.a)(e,["value","onChange","line"]),o=r.a.useState(Number(t)),i=Object(d.a)(o,2),l=i[0],u=i[1];r.a.useEffect((function(){if(n.overrideInput)u(Number(t));else if(l){var e=Number(l);e>0&&e!==Number(t)&&a(n.productId,Number(l))}}),[l,t,n,a]);var s=r.a.useCallback((function(e){var t=e.target.value;u(t)}),[]),m=r.a.useCallback((function(e){var t=e.target.value;a(n.productId,Number(t))}),[n,a]);return r.a.createElement(Ke,Object.assign({},c,{value:l,onBlur:m,onChange:s}))}Nt.defaultProps={deliveryAddress:{},deliveryAddresses:[],invoicingAddress:{},invoicingAddresses:[],onNewAddress:function(){},onDeliveryAddressChange:function(){},onInvoicingAddressChange:function(){}};var St=Object(f.a)((function(e){return{container:{marginBottom:e.spacing(3)},header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing()},headerAction:{fontSize:"0.7rem"},price:{color:e.palette.secondary.main}}}));function It(e){var t=e.lines,a=e.onNewProduct,n=e.onProductQuantityChange,c=e.onProductDelete,o=ht().t,i=St();return r.a.createElement("div",{className:i.container},r.a.createElement("div",{className:i.header},r.a.createElement(ve.a,{variant:"h5"},"".concat(o("Products")," (").concat(t?t.length:0,")")),r.a.createElement(je.a,{className:i.headerAction,onClick:a},o("Add a product"))),r.a.createElement(ge,null),r.a.createElement(Oe.a,{container:!0,spacing:2},t.map((function(e,t){return r.a.createElement(Oe.a,{item:!0,xs:12,key:e.productId},r.a.createElement(Oe.a,{container:!0,alignItems:"center",spacing:2},r.a.createElement(Oe.a,{item:!0,xs:3},r.a.createElement(At,{label:o("Quantity"),moreLabel:o("More"),name:"qty",min:1,value:Number(e.qty),line:e,onChange:n})),r.a.createElement(Oe.a,{item:!0,xs:5,zeroMinWidth:!0},r.a.createElement(ve.a,{noWrap:!0},e.name)),r.a.createElement(Oe.a,{item:!0,xs:2,zeroMinWidth:!0,align:"right"},r.a.createElement(ve.a,{className:i.price,noWrap:!0},e.total)),r.a.createElement(Oe.a,{item:!0,xs:2,align:"right"},r.a.createElement(ke.a,{onClick:function(t){return c(t,e)}},r.a.createElement(Ie.a,null)))))})),r.a.createElement(Oe.a,{item:!0,xs:12,md:6})))}It.defaultProps={lines:[],onNewProduct:function(){},onProductDelete:function(){},onProductQuantityChange:function(){}};var Tt=Object(f.a)((function(e){return{container:Object(m.a)({padding:e.spacing(4)},e.breakpoints.down("sm"),{padding:e.spacing()}),backdrop:{zIndex:e.zIndex.appBar+1}}}));function Dt(e){var t=e.total,a=e.totalTax,n=e.totalDiscount,c=e.totalWithoutTax,o=e.productLines,i=e.deliveryAddress,l=e.deliveryAddresses,u=e.invoicingAddress,s=e.invoicingAddresses,m=e.checkingOut,p=e.summaryMessage,f=e.PaypalButtonProps,h=e.PayboxButtonProps,b=e.RequestQuotationButtonProps,g=e.PaymentCardButtonProps,v=e.ConfirmOrderButtonProps,C=e.Terms,E=e.onNewAddress,O=e.onNewProduct,j=e.onProductDelete,k=e.onProductQuantityChange,P=e.onDeliveryAddressChange,x=e.onInvoicingAddressChange,w=ht().t,N=Tt(),A=r.a.useState({open:!1,line:null}),S=Object(d.a)(A,2),I=S[0],T=S[1],D=I.open,R=I.line,q=r.a.useCallback((function(){T({open:!1,line:null})}),[]),L=r.a.useCallback((function(e,t){T({open:!0,line:t})}),[]),B=r.a.useCallback((function(e){j(R.productId),q()}),[j,q,R]);return r.a.createElement("div",{className:N.container},r.a.createElement(Oe.a,{container:!0,spacing:4},r.a.createElement(Oe.a,{item:!0,xs:12,md:6},r.a.createElement(Nt,{deliveryAddress:i,deliveryAddresses:l,invoicingAddress:u,invoicingAddresses:s,onNewAddress:E,onDeliveryAddressChange:P,onInvoicingAddressChange:x}),r.a.createElement(It,{lines:o,onNewProduct:O,onProductQuantityChange:k,onProductDelete:L})),r.a.createElement(Oe.a,{item:!0,xs:12,md:6},r.a.createElement(xt,{total:t,totalTax:a,totalDiscount:n,totalWithoutTax:c,message:p,PaypalButtonProps:f,PayboxButtonProps:h,RequestQuotationButtonProps:b,PaymentCardButtonProps:g,ConfirmOrderButtonProps:v,Terms:C})),r.a.createElement(gt,{open:D,title:w("Confirm deletion"),onClose:q,onConfirm:B},r.a.createElement(ve.a,null,R&&R.name))),r.a.createElement(Pe.a,{className:N.backdrop,open:m},r.a.createElement(y,null)))}Dt.defaultProps={productLines:[],deliveryAddress:{},deliveryAddresses:[],invoicingAddress:{},invoicingAddresses:[],summaryMessage:"",PaypalButtonProps:{},PayboxButtonProps:{},RequestQuotationButtonProps:{},PaymentCardButtonProps:{},ConfirmOrderButtonProps:{},onNewAddress:function(){},onNewProduct:function(){},onProductDelete:function(){},onProductQuantityChange:function(){},onDeliveryAddressChange:function(){},onInvoicingAddressChange:function(){}};var Rt=Dt,qt="success",Lt="failure",Bt=Object(f.a)((function(e){return{paper:{padding:e.spacing(),minHeight:e.spacing(30),display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},button:{marginTop:e.spacing(2)},success:{color:e.palette.success.main},failure:{color:e.palette.error.main}}}));function Mt(e){var t=e.match,a=e.onSuccessRedirect,c=e.onFailureRedirect,o=e.onSuccessMount,i=t.params.messageType,l=void 0===i?qt:i,u=ht().t,s=Bt(),d=e.successMessage,m=void 0===d?u("Your payment has been successfully completed"):d,p=e.successButtonLabel,f=void 0===p?u("Continue shopping"):p,h=e.failureMessage,b=void 0===h?u("Your payment could not be completed"):h,g=e.failureButtonLabel,v=void 0===g?u("Continue checkout"):g,y=null;switch(l){case qt:y=r.a.createElement(r.a.Fragment,null,r.a.createElement(ve.a,{variant:"h5",className:s.success},m),r.a.createElement(je.a,{onClick:a,className:s.button},f));break;case Lt:y=r.a.createElement(r.a.Fragment,null,r.a.createElement(ve.a,{variant:"h5",className:s.failure},b),r.a.createElement(je.a,{onClick:c,className:s.button},v));break;default:y=null}return Object(n.useEffect)((function(){l===qt&&o&&o()}),[l,o]),r.a.createElement(Re,{className:s.paper},y)}Mt.defaultProps={onFailureRedirect:function(){},onSuccessRedirect:function(){}};var Ft=Mt;function zt(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),o=Object(d.a)(c,2),i=o[0],l=o[1],u=Object(n.useState)(!1),s=Object(d.a)(u,2),m=s[0],p=s[1];return[{checked:a,file:i,required:m},Object(n.useMemo)((function(){return{setChecked:r,setFile:l,setRequired:p}}),[])]}var Wt=function(e){var t=e.match,a=e.history,c=e.onRedirectToOrder,o=e.onRedirectToQuotation,i=e.onRedirectToCheckoutMessage,l=t.url,u=ht().t,m=Object(h.b)().enqueueSnackbar,p=me(),f=p.cart,b=p.setItem,g=p.clearItem,v=p.clearCart,C=p.setCart,E=p.checkoutAddresses,O=p.setInvoicingAddress,j=p.setDeliveryAddress,k=Object(n.useState)(!0),P=Object(d.a)(k,2),x=P[0],w=P[1],N=Object(n.useState)(!1),A=Object(d.a)(N,2),S=A[0],I=A[1],T=Object(n.useState)({}),D=Object(d.a)(T,2),R=D[0],q=D[1],L=Object(n.useState)([]),B=Object(d.a)(L,2),M=B[0],F=B[1],z=Object(n.useState)([]),W=Object(d.a)(z,2),_=W[0],U=W[1],Q=Object(n.useState)({}),H=Object(d.a)(Q,2),V=H[0],Y=H[1],X=Object(n.useState)({}),G=Object(d.a)(X,2),Z=G[0],J=G[1],$=Object(n.useState)(),K=Object(d.a)($,2),ee=K[0],te=K[1],ae=Object(n.useState)(!1),ne=Object(d.a)(ae,2),re=ne[0],oe=ne[1],ie=Object(n.useState)(!1),le=Object(d.a)(ie,2),ue=le[0],se=le[1],de=zt(),pe=Object(d.a)(de,2),fe=pe[0],he=pe[1],be=zt(),ge=Object(d.a)(be,2),ve=ge[0],ye=ge[1],Ce=zt(),Ee=Object(d.a)(Ce,2),Oe=Ee[0],je=Ee[1],ke=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.find((function(t){return t.id.toString()===e.toString()}))}),[]),Pe=Object(n.useCallback)((function(){ce.checkCart(f).then((function(e){var t=e.itemsChanged,a=e.lines,n=(void 0===a?[]:a).find((function(e){return"service"!==e.productTypeSelect&&0===Number(e.qty)}));if(t||n){var r=e.lines.reduce((function(e,t){return Number(t.qty)&&(e[t.productId]=Number(t.qty)),e}),{});C(r),e.lines=e.lines.map((function(e){var t=e.productId,a=e.qty,n=f[t];return Number(a)<Number(n)&&(e.overrideInput=!0),e})),m(u("One or multiple items have changed in your cart"),{variant:"error"})}q(e)})),w(!1)}),[f,C,u,m]),xe=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=t.find((function(t){return t.id===e}));n&&a(n)}),[]),we=Object(n.useCallback)((function(e){var t=e.target.value;xe(t,M,(function(e){Y(e),j(t)}))}),[M,xe,j]),Ne=Object(n.useCallback)((function(e){var t=e.target.value;xe(t,_,(function(e){J(e),O(t)}))}),[_,xe,O]),Ae=Object(n.useCallback)((function(){a.replace("/eshop")}),[a]),Se=Object(n.useCallback)((function(){Ae()}),[Ae]),Ie=Object(n.useCallback)((function(){a.push({pathname:"/eshop/address/new",state:{fromUrl:l}})}),[a,l]),Te=Object(n.useCallback)((function(e,t){b(e,t)}),[b]),De=Object(n.useCallback)((function(e){g(e)}),[g]),Re=Object(n.useCallback)((function(e,t){v(),m(u("Thank you for shopping"),{variant:"success"}),t&&c&&e&&e.id?o(e):c&&e&&e.id?c(e):Ae()}),[v,c,o,Ae,u,m]),qe=Object(n.useCallback)((function(e){I(!0),ce.checkoutPaypal({paypalPaymentData:e,orderData:{deliveryAddress:V,invoicingAddress:Z,cart:f}}).then((function(e){I(!1),Re(e)})).catch((function(){I(!1),m(u("Error"),{variant:"error"})}))}),[V,Z,f,Re,u,m]),Le=Object(n.useCallback)((function(){I(!0),ce.checkoutPaymentCard({cardId:"",orderData:{deliveryAddress:V,invoicingAddress:Z,cart:f}}).then((function(e){I(!1),i(qt)})).catch((function(e){var t=e.message,a=void 0===t?u("Your payment could not be completed"):t;I(!1),m(a,{variant:"error"})}))}),[u,V,Z,f,m,i]),Be=Object(n.useCallback)((function(){I(!0),ce.checkoutPaybox({orderData:{deliveryAddress:V,invoicingAddress:Z,cart:f}}).then((function(e){if(!e||!e.url)throw new Error("Checkout Error.");var t=document.createElement("a");t.href=e.url,t.click()})).catch((function(e){var t=e.message,a=void 0===t?u("Your payment could not be completed"):t;I(!1),m(a,{variant:"error"})}))}),[u,V,Z,f,m]),Me=Object(n.useCallback)((function(){I(!0),ce.checkoutQuotation({orderData:{deliveryAddress:V,invoicingAddress:Z,cart:f}}).then((function(e){I(!1),Re(e,!0)})).catch((function(e){var t=e.message,a=void 0===t?u("Error requesting quotation. Please try again"):t;I(!1),m(a,{variant:"error"})}))}),[u,V,Z,f,m,Re]),Fe=Object(n.useCallback)((function(){se(!0)}),[]);Object(n.useEffect)((function(){ce.fetchAddresses().then((function(e){if(e.data&&e.data.length){var t=e.data.map((function(e){return Object.assign(e,{value:e.id,label:"".concat(e.address||""," ").concat(e.addressComplement||"")})}));F(t),U(t)}}))}),[]),Object(n.useEffect)((function(){var e=function(e,t,a){e.length&&a(t&&ke(t,e)||e[0])};e(M,E.delivery,Y),e(_,E.invoicing,J)}),[M,_,E,j,O,ke]),Object(n.useEffect)((function(){ce.fetchPaypalMerchantId().then((function(e){te(e.merchantId)}))}),[]),Object(n.useEffect)((function(){ce.fetchConfiguration().then((function(e){e.isQuotationRequestActive&&oe(!0);var t=e.isDataPolicyRequired,a=e.dataPolicyMetaFile,n=e.isReturnPolicyRequired,r=e.returnPolicyMetaFile,c=e.isTermRequired,o=e.termMetaFile;t&&(he.setRequired(!0),he.setFile(a)),n&&(ye.setRequired(!0),ye.setFile(r)),c&&(je.setRequired(!0),je.setFile(o))}))}),[he,ye,je]),Object(n.useEffect)((function(){Pe()}),[Pe]);var ze=!(R&&R.lines&&R.lines.length),We=R.paymentModes,_e=void 0===We?[]:We,Ue=!_e.includes("paypal"),Qe=!_e.includes("paybox"),He=!_e.includes("stripe"),Ve=R.original,Ye=(Ve=void 0===Ve?{}:Ve).total,Xe=void 0===Ye?"0.00":Ye,Ge=R.currency,Ze=(Ge=void 0===Ge?{}:Ge).code,Je=void 0===Ze?"EUR":Ze,$e="ASy1XUfHggv3ks14uZrSWfIvqzj-L10aqlEANsGXhW1dBeHWCFYSCuw-yFIeUhik8GrUHpzQSq-Lr7lM",Ke=Object(n.useMemo)((function(){return{showButton:ee&&!ze&&!Ue&&ue,amount:Xe,onSuccess:qe,options:{clientId:$e,merchantId:ee,currency:Je,disableFunding:"card"}}}),[qe,Xe,$e,ee,ze,Je,Ue,ue]),et=Boolean(_e&&_e.length),tt=et?"":u("Eshop not processing checkout"),at=Object(n.useMemo)((function(){return{showButton:!He&&ue,disabled:ze,onClick:Le}}),[ze,Le,He,ue]),nt=Object(n.useMemo)((function(){return{showButton:!Qe&&ue,disabled:ze,onClick:Be}}),[ze,Be,Qe,ue]),rt=Object(n.useMemo)((function(){return[fe,ve,Oe].reduce((function(e,t){return!!e&&(t.required&&!t.checked&&(e=!1),e)}),!0)}),[fe,ve,Oe]),ct=Object(n.useMemo)((function(){return{showButton:!ue,disabled:!rt||ze||!et,onClick:Fe}}),[rt,ue,Fe,ze,et]),ot=Object(n.useMemo)((function(){return{showButton:re&&!ue,disabled:!rt||ze,onClick:Me}}),[rt,re,ze,Me,ue]),it=Object(n.useMemo)((function(){return Object(s.a)({},fe,{},he,{show:!ue,fileURL:ce.getMetafileURL(fe.file),label:u("Data Term")})}),[fe,he,ue,u]),lt=Object(n.useMemo)((function(){return Object(s.a)({},ve,{},ye,{show:!ue,fileURL:ce.getMetafileURL(ve.file),label:u("Return Policy Term")})}),[ve,ye,ue,u]),ut=Object(n.useMemo)((function(){return Object(s.a)({},Oe,{},je,{show:!ue,fileURL:ce.getMetafileURL(Oe.file),label:u("Term")})}),[Oe,je,ue,u]),st=Object(n.useMemo)((function(){return[it,lt,ut]}),[it,lt,ut]);return x?r.a.createElement(y,null):r.a.createElement(Rt,{total:R.total,totalTax:R.totalTax,totalDiscount:R.totalDiscount,totalWithoutTax:R.totalWithoutTax,productLines:R.lines,deliveryAddress:V,deliveryAddresses:M,invoicingAddress:Z,invoicingAddresses:_,checkingOut:S,summaryMessage:tt,PaypalButtonProps:Ke,PayboxButtonProps:nt,PaymentCardButtonProps:at,ConfirmOrderButtonProps:ct,RequestQuotationButtonProps:ot,Terms:st,onNewAddress:Ie,onNewProduct:Se,onProductDelete:De,onProductQuantityChange:Te,onDeliveryAddressChange:we,onInvoicingAddressChange:Ne})},_t=a(290),Ut=a(289),Qt=a(142),Ht=a.n(Qt),Vt=a(141),Yt=(a(219),Object(f.a)((function(e){return{carousel:{"& li.slide":{backgroundColor:"transparent"}},indicator:{background:"transparent",width:10,height:10,borderRadius:"50%",display:"inline-block",border:"1px solid",borderColor:e.palette.secondary.main,margin:"0 8px",cursor:"pointer"},selected:{backgroundColor:e.palette.secondary.main},image:{height:350,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain"}}})));var Xt=function(e){var t=e.images,a=Yt(),n=r.a.useCallback((function(e,t,n,c){return t?r.a.createElement("li",{className:Object(he.a)(a.indicator,a.selected),"aria-label":"Selected: ".concat(c," ").concat(n+1),title:"Selected: ".concat(c," ").concat(n+1)}):r.a.createElement("li",{className:a.indicator,onClick:e,onKeyDown:e,value:n,key:n,role:"button",tabIndex:0,title:"".concat(c," ").concat(n+1),"aria-label":"".concat(c," ").concat(n+1)})}),[a]);return t&&t.length?r.a.createElement(Vt.Carousel,{showStatus:!1,showArrows:!1,showThumbs:!1,swipeable:!0,emulateTouch:!0,renderIndicator:n,className:a.carousel},t.map((function(e,t){return r.a.createElement("div",{key:t,style:{backgroundImage:"url(".concat(e,")")},className:a.image})}))):null},Gt=Object(f.a)((function(e){return{tag:{height:60,borderRadius:4,display:"flex",alignItems:"center",padding:e.spacing(2),backgroundColor:e.palette.secondary.main,marginBottom:e.spacing(2)},tagLabel:{color:"#FFFFFF",fontWeight:"bold"},paper:{padding:e.spacing(2)},productTitle:{fontWeight:"bold"},chip:{backgroundColor:e.palette.secondary.light,borderRadius:4,color:e.palette.secondary.main,padding:e.spacing(),marginRight:e.spacing()},productOriginalPrice:{textDecoration:"line-through",color:"#000000"},productPrice:{color:e.palette.secondary.main}}}));function Zt(e){var t=e.product,a=e.quantity,n=e.complementaryProducts,c=e.allowOutOfStock,o=e.onQuantityChange,i=e.onAddProduct,l=e.onComplementaryProductChange,u=ht().t,s=Gt(),d=!c&&t.unavailable,p=t._displayDiscountPercentage,f=t._displayDiscountPrice,h=d?u("Unavailable"):p?"".concat(p," ").concat(u("Discount")):"",b=t._categories&&t._categories.length?t._categories.map((function(e){return r.a.createElement("span",{className:s.chip,key:e.id},e.name)})):null,g=r.a.createElement(ve.a,{variant:"h6",className:s.productPrice},r.a.createElement("span",{className:Object(he.a)(Object(m.a)({},s.productOriginalPrice,f))},t._displayPrice),"\xa0",f);return r.a.createElement(r.a.Fragment,null,h&&r.a.createElement("div",{className:s.tag},r.a.createElement(ve.a,{className:s.tagLabel,variant:"h5"},h)),r.a.createElement(Re,{className:s.paper},r.a.createElement(Oe.a,{container:!0,spacing:3},r.a.createElement(Oe.a,{item:!0,xs:12},r.a.createElement(ve.a,{className:s.productTitle,variant:"h4",noWrap:!0},t.name)),r.a.createElement(Oe.a,{item:!0,xs:12},r.a.createElement(ve.a,{dangerouslySetInnerHTML:{__html:t.description}})),r.a.createElement(Oe.a,{item:!0,xs:12},b),n&&Boolean(n.length)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{item:!0,xs:12},r.a.createElement(ve.a,{gutterBottom:!0,variant:"h6"},u("Complementary Products")),r.a.createElement(Ut.a,null),n.map((function(e){return r.a.createElement(_t.a,{key:e.id,control:r.a.createElement(xe.a,{onChange:function(t){var a=t.target.checked;l(t,e,{checked:a})},checked:e.checked,disabled:!e.optional}),label:e.name})})),r.a.createElement(Ut.a,null))),r.a.createElement(Oe.a,{item:!0,xs:12},g),r.a.createElement(Oe.a,{item:!0,xs:12},r.a.createElement(Oe.a,{container:!0,spacing:1,alignItems:"center"},r.a.createElement(Oe.a,{item:!0,xs:12,md:6},r.a.createElement(Ke,{name:"quantity",label:u("Quantity"),value:a,disabled:d,moreLabel:u("More"),onChange:o})),r.a.createElement(Oe.a,{item:!0,xs:12,md:6,align:"center"},r.a.createElement(je.a,{disabled:d,onClick:i,startIcon:r.a.createElement(Ht.a,null)},u("Add to cart"))))))))}Zt.defaultProps={product:{},quantity:1,onQuantityChange:function(){},onAddProduct:function(){}};var Jt=function(e){var t=e.match,a=void 0===t?{}:t,c=e.history,o=a.params,i=(void 0===o?{}:o).productId,l=me(),u=l.cart,m=l.setItem,p=l.config,f=Object(n.useState)(1),h=Object(d.a)(f,2),b=h[0],g=h[1],v=Object(n.useState)(null),y=Object(d.a)(v,2),C=y[0],E=y[1],O=Object(n.useState)([]),j=Object(d.a)(O,2),k=j[0],P=j[1],x=Object(n.useCallback)((function(){var e=(u[C.id]||0)+Number(b);m(C.id,e),k.forEach((function(e){e.checked&&m(e.id,e.qty+(u[e.id]||0))}))}),[b,C,u,m,k]),w=Object(n.useCallback)((function(e){return g(Number(e.target.value))}),[]),N=Object(n.useCallback)((function(e,t,a){P((function(e){return e.map((function(e){return e.id===t.id?Object(s.a)({},e,{},a):e}))}))}),[]);return Object(n.useEffect)((function(){ce.fetchProduct(i).then((function(e){e&&e.id?(E(e),P(e.complementaryProducts.map((function(e){return Object(s.a)({},e,{checked:!e.optional})})))):c.replace("/eshop")}))}),[c,i]),C?r.a.createElement(Oe.a,{container:!0,spacing:1},r.a.createElement(Oe.a,{item:!0,xs:12,md:3},r.a.createElement(Xt,{images:C.images})),r.a.createElement(Oe.a,{item:!0,xs:12,md:9},r.a.createElement(Zt,{allowOutOfStock:p.isAllowOutOfStock,product:C,complementaryProducts:k,quantity:b,onAddProduct:x,onQuantityChange:w,onComplementaryProductChange:N}))):null},$t=a(32),Kt=a.n($t),ea=a(49),ta=a(144),aa=a.n(ta),na=a(143),ra=a.n(na),ca=Object(f.a)((function(e){return{paper:{padding:e.spacing(.5),display:"flex",width:"fit-content",alignItems:"center"}}}));var oa=function(e){var t=e.onNext,a=e.onPrevious,n=e.label,c=e.disableNext,o=e.disablePrevious,i=ca();return r.a.createElement("div",{className:i.paper},r.a.createElement(ve.a,null,n),"\xa0\xa0",r.a.createElement(ke.a,{size:"small",onClick:a,disabled:o},r.a.createElement(ra.a,null)),"\xa0\xa0",r.a.createElement(ke.a,{size:"small",onClick:t,disabled:c},r.a.createElement(aa.a,null)),"\xa0\xa0")},ia=a(306),la=Object(f.a)((function(e){return{chip:{color:"#616161"},icon:{backgroundColor:"".concat(e.palette.secondary.main,"09")},iconSelected:{color:e.palette.secondary.main},chipSelected:{color:e.palette.secondary.main,backgroundColor:e.palette.secondary.light},chipClickable:{"&:focus, &:hover":{backgroundColor:e.palette.secondary.light}}}}));function ua(e){var t=e.icon,a=e.label,n=e.isSelected,c=e.onClick,o=e.className,i=la();return r.a.createElement(ia.a,{label:a,icon:t&&r.a.createElement(t,{fontSize:"small",classes:{root:Object(he.a)(i.icon,Object(m.a)({},i.iconSelected,n))}}),classes:{root:Object(he.a)(i.chip,Object(m.a)({},i.chipSelected,n),o),clickable:i.chipClickable},onClick:c})}ua.defaultProps={Icon:function(){return null},onClick:function(){}};var sa=ua,da=Object(f.a)((function(e){return{chipContainer:{display:"flex",flexWrap:"wrap",marginBottom:e.spacing(2)},chip:{margin:e.spacing(.3)}}})),ma=function(e){var t=e.categories,a=e.selectedCategoryId,n=e.onCategoryClick,c=da();return r.a.createElement("div",{className:c.chipContainer},t.map((function(e){return r.a.createElement(sa,{className:c.chip,key:e.id,label:e.name,isSelected:a===e.id,onClick:function(){return t=e.id,void(n&&n(t));var t}})})))},pa=a(145),fa=a.n(pa),ha=Object(f.a)((function(){return{root:{"& svg":{color:"#616161"},"& label.Mui-focused":{color:"#616161"},"& .MuiInput-underline:after, & .MuiInput-underline:before,& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottomColor:"#616161"}}}}));var ba=function(e){var t=ha();return r.a.createElement(Le.a,Object.assign({},e,{color:"default",classes:t,variant:"standard",InputProps:{disableUnderline:!1,endAdornment:r.a.createElement(fa.a,null)}}))};function ga(e,t){var a=Object(n.useRef)(null),r=Object(n.useCallback)((function(){return a.current&&clearTimeout(a.current)}),[]),c=Object(n.useCallback)((function(e){return a.current=setTimeout(e,t)}),[t]);return Object(n.useEffect)((function(){return function(){return r()}}),[r]),Object(n.useCallback)((function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];r(),c((function(){return e.apply(void 0,a)}))}),[r,c,e])}var va=function(e){var t=e.value,a=e.onChange,n=ht().t,c=r.a.useState(t),o=Object(d.a)(c,2),i=o[0],l=o[1],u=ga(a,300);return r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},r.a.createElement(ba,{name:"search",placeholder:n("Search"),onChange:function(e){var t=e.target.value;l(t),u(t)},value:i}))};var ya=function(e){var t=e.values,a=e.ValueUniqueKey,n=void 0===a?"id":a,c=e.ItemContainerProps,o=void 0===c?{}:c,i=e.noRecordLabel,l=void 0===i?"No record found":i,u=e.renderItem,d=void 0===u?function(){return null}:u;return r.a.createElement(Oe.a,{container:!0,spacing:3},t&&t.length?t.map((function(e,t){return r.a.createElement(Oe.a,function(e,t){return Object(s.a)({item:!0,xs:12,sm:4,md:3,key:e[n]||t},o)}(e,t),d(e))})):r.a.createElement(Oe.a,{item:!0,xs:12},r.a.createElement(ve.a,null,l)))},Ca=Object(f.a)((function(e){return{tag:{position:"absolute",padding:e.spacing(.5),backgroundColor:e.palette.secondary.main,color:"#FFFFFF",right:0,bottom:function(t){return e.spacing(2)}}}}));function Ea(e){var t=e.product,a=e.allowOutOfStock,n=Ca(),c=ht().t;return!a&&t.unavailable?r.a.createElement(We.a,{boxShadow:3,className:n.tag},c("Unavailable")):t._displayDiscountPercentage?r.a.createElement(We.a,{boxShadow:3,className:n.tag},t._displayDiscountPercentage):null}var Oa=Object(f.a)((function(e){return{container:{padding:e.spacing(2),overflow:"hidden",display:"flex",flexDirection:"column",flexGrow:1,justifyContent:"space-between",minHeight:e.spacing(6)},productName:{fontWeight:"bold"},productDescription:{display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":2,overflow:"hidden","& > *:first-child":{margin:0}},productPrice:{color:e.palette.secondary.main,marginTop:e.spacing()},productDiscountedDisplayPrice:{textDecoration:"line-through",color:"black"}}}));function ja(e){var t=e.product,a=void 0===t?{}:t,c=a&&a.images&&a.images[0],o=Oa({hasImage:c}),i=a._displayDiscountPrice?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:o.productDiscountedDisplayPrice},a._displayPrice),"\xa0\xa0",a._displayDiscountPrice):a._displayPrice,l=Object(n.useMemo)((function(){var e=document.createElement("p");return e.innerHTML=a.description,e.innerText}),[a.description]);return r.a.createElement("div",{className:o.container},r.a.createElement(We.a,{pb:1},r.a.createElement(ve.a,{variant:"h5",className:o.productName,noWrap:!0},a.name)),r.a.createElement(We.a,{className:o.productDescription},r.a.createElement(ve.a,null,l)),r.a.createElement(ve.a,{variant:"body2",className:o.productPrice},i))}var ka=Object(f.a)((function(e){return{productImage:function(e){var t=e.image;return{position:"relative",display:"flex",justifyContent:"center",width:138,overflow:"hidden",flexShrink:0,backgroundPosition:"center",backgroundImage:"url(".concat(t,")"),backgroundRepeat:"no-repeat",backgroundSize:"contain"}}}}));function Pa(e){var t=e.product,a=t&&t.images&&t.images[0],n=ka({image:a});return a?r.a.createElement("div",{className:n.productImage}):null}var xa=Object(f.a)((function(e){return{paper:{display:"flex",cursor:"pointer",height:e.spacing(18.25)}}}));var wa=function(e){var t=e.product,a=void 0===t?{}:t,n=e.allowOutOfStock,c=e.onClick,o=xa(),i=r.a.useCallback((function(e){c&&c(e,a.id)}),[c,a]);return r.a.createElement(Re,{className:o.paper,onClick:i},r.a.createElement(ja,{product:a}),r.a.createElement(Pa,{product:a}),r.a.createElement(Ea,{product:a,allowOutOfStock:n}))},Na=Object(f.a)((function(e){return{badge:{color:"white",width:"fit-content",minWidth:18,height:18,fontSize:"0.675rem",borderRadius:20,display:"inline-flex",alignItems:"center",justifyContent:"center",paddingLeft:2,paddingRight:2,boxSizing:"border-box",backgroundColor:e.palette.secondary.main}}}));function Aa(e){var t=e.value,a=e.className,n=Na();return r.a.createElement("div",{className:Object(he.a)(n.badge,a)},t)}var Sa=Object(f.a)((function(e){return{container:{position:"relative",width:"100%"},badge:{position:"absolute",top:e.spacing(),right:e.spacing(),zIndex:1}}})),Ia=function(e){var t=e.count,a=void 0===t?0:t,n=Object(fe.a)(e,["count"]),c=Sa();return r.a.createElement("div",{className:c.container},a?r.a.createElement(Aa,{value:a,className:c.badge}):null,r.a.createElement(wa,n))};function Ta(e){var t=e.loading,a=e.products,n=e.allowOutOfStock,c=e.onClick,o=ht().t;return t?r.a.createElement(y,null):r.a.createElement(ya,{values:a,ItemContainerProps:{md:4},renderItem:function(e){return r.a.createElement(Ia,{allowOutOfStock:n,product:e,count:e.count,onClick:c})},noRecordLabel:o("No record found")})}Ta.defaultProps={products:[],loading:!1,onClick:function(){}};var Da=Ta;var Ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:0,limit:25},t=r.a.useState(e),a=Object(d.a)(t,2),n=a[0],c=a[1],o=r.a.useCallback((function(e){return c((function(t){return Object(s.a)({},t,{page:e})}))}),[]),i=r.a.useCallback((function(){return c((function(e){return Object(s.a)({},e,{page:e.page+1})}))}),[]),l=r.a.useCallback((function(){return c((function(e){return Object(s.a)({},e,{page:e.page-1})}))}),[]),u=r.a.useMemo((function(){return{changePage:o,nextPage:i,previousPage:l}}),[i,l,o]);return[n,u]},qa=Object(f.a)({header:{display:"flex",flexDirection:"column"},filters:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"}}),La={id:-1,name:"All"};var Ba=function(e){var t=e.match,a=e.history,c=e.location,o=t.url,i=qa(),l=ht().t,u=Ra({limit:25,page:(c.state||{}).page||0}),m=Object(d.a)(u,2),p=m[0],f=m[1],h=p.limit,b=p.page,g=me(),v=g.cart,C=void 0===v?{}:v,E=g.config,O=void 0===E?{}:E,j=Object(n.useState)({products:[],totalProducts:0,loadingProducts:!0}),k=Object(d.a)(j,2),P=k[0],x=P.loadingProducts,w=P.products,N=P.totalProducts,A=k[1],S=Number(c&&c.search&&new URLSearchParams(c.search).get("categoryid")),I=Object(n.useState)({categories:[La],selectedCategoryId:S||-1,loadingCategories:!0}),T=Object(d.a)(I,2),D=T[0],R=D.loadingCategories,q=D.categories,L=D.selectedCategoryId,B=T[1],M=Object(n.useState)(void 0),F=Object(d.a)(M,2),z=F[0],W=F[1],_=Object(n.useCallback)((function(e){f.changePage(e),a.replace({pathname:o,state:{page:e},search:c.search})}),[o,a,c,f]);Object(n.useEffect)((function(){function e(){return(e=Object(ea.a)(Kt.a.mark((function e(){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B((function(e){return Object(s.a)({},e,{loadingCategories:!0})})),ce.fetchCategories().then((function(e){B((function(t){return Object(s.a)({},t,{categories:[La].concat(e),loadingCategories:!1})}))})).catch((function(){B((function(e){return Object(s.a)({},e,{loadingCategories:!1})}))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(ea.a)(Kt.a.mark((function e(){var t,a;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A((function(e){return Object(s.a)({},e,{loadingProducts:!0})})),t={limit:h,page:b+1,searchInput:z},a=function(e){var t=e.data,a=e.total;a<e.offset?_(0):A({products:t.map((function(e){return Object(s.a)({},e,{count:C[e.id]})})),totalProducts:a,loadingProducts:!1})},(-1===L?ce.fetchProducts(t):ce.fetchCategoryProducts(L,t)).then(a).catch((function(){A((function(e){return Object(s.a)({},e,{loadingProducts:!1})}))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[L,h,b,z,C,_]);var U=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;a.replace({pathname:o,search:"?categoryid=".concat(Number(e))}),f.changePage(0),B((function(t){return Object(s.a)({},t,{selectedCategoryId:Number(e)})}))}),[a,o,f]),Q=Object(n.useCallback)((function(e,t){a.push({pathname:"".concat(o,"/product/").concat(t),state:{page:b},search:c.search})}),[a,o,b,c]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:i.header},r.a.createElement("div",{className:i.filters},R?r.a.createElement(y,null):r.a.createElement(ma,{categories:q,selectedCategoryId:L,onCategoryClick:U}),r.a.createElement(va,{value:z,onChange:W})),r.a.createElement(oa,{label:"".concat(l("Products")," : ").concat(N?b*h+1:0," to ").concat(Math.min(b*h+h,N)||0," of ").concat(N),onNext:f.nextPage,onPrevious:f.previousPage,disablePrevious:0===b,disableNext:(b+1)*h>=N})),r.a.createElement("div",null,r.a.createElement(ve.a,{gutterBottom:!0},r.a.createElement("i",null,"".concat(O.isAti?l("All prices include taxes"):l("All prices are tax free"))))),r.a.createElement(Da,{allowOutOfStock:O.isAllowOutOfStock,loading:x,onClick:Q,products:w}))};var Ma=function(e){var t=e.match,a=e.history,c=t.path,o=t.url,i=me().clearCart,l=Object(n.useCallback)((function(){a.replace("".concat(o,"/checkout"))}),[a,o]),s=Object(n.useCallback)((function(){a.replace(o)}),[a,o]),d=Object(n.useCallback)((function(e){a.replace("".concat(o,"/checkout/").concat(e))}),[a,o]);return r.a.createElement(u.g,null,r.a.createElement(u.d,{path:"".concat(c,"/checkout/:messageType"),render:function(e){return r.a.createElement(Ft,Object.assign({},e,{onSuccessMount:i,onSuccessRedirect:s,onFailureRedirect:l}))}}),r.a.createElement(u.d,{path:"".concat(c,"/checkout"),render:function(e){return r.a.createElement(Wt,Object.assign({},e,{onRedirectToCheckoutMessage:d}))}}),r.a.createElement(u.d,{path:"".concat(c,"/product/:productId"),component:Jt}),r.a.createElement(u.d,{path:c,component:Ba}),r.a.createElement(u.c,{to:c}))};var Fa=function(e){var t=e.match.path;return r.a.createElement(u.g,null,r.a.createElement(u.d,{path:t,component:Ma}),r.a.createElement(u.c,{to:t}))},za=a(84),Wa=a.n(za),_a=Object(f.a)((function(e){return{paper:{height:138,padding:e.spacing()},action:{display:"flex",justifyContent:"flex-end"}}}));function Ua(e){var t=e.address,a=e.onDelete,n=e.onEdit,c=_a();return r.a.createElement(Re,{className:c.paper},r.a.createElement(Oe.a,{container:!0,justify:"center",spacing:2},r.a.createElement(Oe.a,{item:!0,xs:12},r.a.createElement("div",{className:c.action},r.a.createElement(ke.a,{size:"small",onClick:function(e){return n(e,t)}},r.a.createElement(Wa.a,null)),r.a.createElement(ke.a,{size:"small",onClick:function(e){return a(e,t)}},r.a.createElement(Ie.a,null)))),r.a.createElement(Oe.a,{item:!0,xs:12},r.a.createElement(ve.a,null,t.displayAddress))))}Ua.defaultProps={onDelete:function(){},onEdit:function(){}};var Qa=Ua;function Ha(e){var t=e.addresses,a=e.onDelete,n=e.onEdit,c=ht().t;return r.a.createElement(ya,{values:t,noRecordLabel:c("No record found"),renderItem:function(e){return r.a.createElement(Qa,{address:e,onDelete:a,onEdit:n})}})}Ha.defaultProps={addresses:[],onDelete:function(){}};var Va=Ha,Ya=Object(f.a)((function(e){return{header:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(2)},headerAction:{fontSize:"0.7rem"}}}));function Xa(e){var t=e.onNew,a=e.onEdit,c=Ya(),o=ht().t,i=Object(h.b)().enqueueSnackbar,l=Object(n.useState)({addresses:[],address:null,loading:!0,dialogOpen:!1}),u=Object(d.a)(l,2),m=u[0],p=m.loading,f=m.addresses,b=m.address,g=m.dialogOpen,v=u[1];function C(){v((function(e){return Object(s.a)({},e,{address:null,dialogOpen:!1})}))}return Object(n.useEffect)((function(){ce.fetchAddresses().then((function(e){var t=e.data;v((function(e){return Object(s.a)({},e,{addresses:t,loading:!1})}))})).catch((function(){v((function(e){return Object(s.a)({},e,{loading:!1})}))}))}),[]),p?r.a.createElement(y,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c.header},r.a.createElement(ve.a,{variant:"h5"},o("Addresses")),r.a.createElement(je.a,{className:c.headerAction,onClick:t},o("New address"))),r.a.createElement(Va,{addresses:f,onDelete:function(e,t){v((function(e){return Object(s.a)({},e,{address:t,dialogOpen:!0})}))},onEdit:a}),r.a.createElement(gt,{onConfirm:function(){var e=b.id;ce.deleteAddress(e).then((function(){return function(e){v((function(t){return Object(s.a)({},t,{addresses:f.filter((function(t){return t.id!==e}))})}))}(e)})).catch((function(){i(o("Error"),{variant:"error"})})).finally(C)},onClose:C,title:o("Confirm deletion"),open:g},r.a.createElement("p",null,b&&b.address)))}Xa.defaultProps={onNew:function(){},onEdit:function(){}};var Ga=Xa,Za=a(87),Ja=a(303),$a=Object(f.a)((function(e){return{option:{"&:hover":{color:e.palette.secondary.main,backgroundColor:e.palette.secondary.light}},listbox:{overflow:"auto",maxHeight:"20vh"}}}));var Ka=function(e){var t=e.options,a=e.label,n=e.name,c=e.value,o=e.onChange,i=e.disabled,l=e.onLoadMore,u=e.getOptionLabel,s=void 0===u?function(e){return e.label}:u,d=e.handleInputSearch,m=Object(fe.a)(e,["options","label","name","value","onChange","disabled","onLoadMore","getOptionLabel","handleInputSearch"]),p=$a();return r.a.createElement(Ja.a,Object.assign({fullWidth:!0,value:null!==c&&void 0!==c?c:null,options:t,disabled:i,classes:p,getOptionLabel:s,onChange:function(e,t){o&&o({target:{name:n,value:t}})},ListboxProps:{onScroll:function(e){var t=e.target;t.scrollTop===t.scrollHeight-t.clientHeight&&l&&l()}},renderInput:function(e){return r.a.createElement(ze,Object.assign({},e,{label:a,variant:"filled",onChange:d}))}},m))},en=a(149),tn=a.n(en),an=Object(f.a)((function(e){return{paper:{padding:e.spacing(),overflow:"visible"}}}));function nn(e){var t=e.errors,a=e.values,n=e.cities,c=e.countries,o=e.disabled,i=e.layout,l=e.fetchingCities,u=e.onChange,s=e.onSubmit,d=e.onClear,m=e.onLoadMoreCities,p=e.handleCitySearchChange,f=an(),h=ht().t,b={address:r.a.createElement(ze,{name:"address",label:h("Address"),value:a.address,error:t.address,onChange:u,disabled:o,required:!0}),addressComplement:r.a.createElement(ze,{name:"addressComplement",label:h("Complement"),value:a.addressComplement,onChange:u,disabled:o}),country:r.a.createElement(Ze,{name:"country",label:h("Country"),value:a.country,options:c,error:t.country,onChange:u,disabled:o,required:!0}),city:r.a.createElement(We.a,{display:"flex",alignItems:"center"},r.a.createElement(Ka,{name:"city",label:h("City"),value:a.city,options:n,error:t.city,onChange:u,handleInputSearch:p,disabled:o,onLoadMore:m,loading:l,disableClearable:!0}),(null===a||void 0===a?void 0:a.city)&&r.a.createElement(We.a,{mt:1,mb:.5,ml:.5},r.a.createElement(ke.a,{size:"small",onClick:function(){return d("city")}},r.a.createElement(tn.a,{fontSize:"small"})))),zipCode:r.a.createElement(ze,{name:"zipCode",label:h("Zip code"),value:a.zipCode,error:t.zipCode,onChange:u,disabled:o})};return r.a.createElement(Re,{className:f.paper},r.a.createElement("form",{onSubmit:s,noValidate:!0},r.a.createElement(Oe.a,{container:!0,spacing:2,justify:"center"},i.map((function(e){var t=e.span,a=e.component;return r.a.createElement(Oe.a,{item:!0,xs:t,key:a},b[a])})),r.a.createElement(Oe.a,{item:!0,xs:12,align:"right"},r.a.createElement(je.a,{type:"submit",disabled:o},h("Save"))))))}nn.defaultProps={errors:{},values:{},cities:[],layout:[],onChange:function(){},onSubmit:function(){}};var rn=nn;function cn(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,a=void 0===t?10:t,r=e.fetchAPI,c=e.transform,o=Object(n.useState)([]),i=Object(d.a)(o,2),l=i[0],u=i[1],s=Object(n.useState)(0),m=Object(d.a)(s,2),p=m[0],f=m[1],h=Object(n.useState)(!1),b=Object(d.a)(h,2),g=b[0],v=b[1],y=Object(n.useRef)(1),C=Object(n.useMemo)((function(){return l.length<p}),[l,p]),E=Object(n.useMemo)((function(){return c||function(e){return e}}),[c]),O=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.append,c=t.reset;return c&&(u([]),f(0),y.current=1),v(!0),r(e,{page:y.current,limit:a}).then((function(e){var t=e.data,a=void 0===t?[]:t,r=e.total;u((function(e){return n?[].concat(Object(qe.a)(e),Object(qe.a)(E(a))):E(a)})),f(r)})).finally((function(){v(!1)}))}),[a,r,E]),j=Object(n.useCallback)((function(e){if(C&&!g)return y.current+=1,O(e,{append:!0})}),[C,g,O]);return Object(n.useMemo)((function(){return{data:l,total:p,page:y.current,fetching:g,fetchData:O,loadMore:j}}),[l,p,g,O,j])}(Object(s.a)({fetchAPI:ce.fetchCities},e)),a=t.data,r=t.total,c=t.page,o=t.fetching,i=t.fetchData,l=t.loadMore;return Object(n.useMemo)((function(){return{cities:a,totalCities:r,page:c,fetchingCities:o,fetchCities:i,loadMoreCities:l}}),[a,r,c,o,i,l])}var on=function(e){var t=e.redirectToAddressList,a=e.match,c=e.history,o=e.location,i=me(),l=i.config,u=i.setInvoicingAddress,m=i.setDeliveryAddress,p=a.params.addressId,f=Object(h.b)().enqueueSnackbar,b=Object(n.useState)(!0),g=Object(d.a)(b,2),v=g[0],C=g[1],E=Object(n.useState)(!1),O=Object(d.a)(E,2),j=O[0],k=O[1],P=Object(n.useState)([]),x=Object(d.a)(P,2),w=x[0],N=x[1],A=Object(n.useState)(!1),S=Object(d.a)(A,2),I=S[0],T=S[1],D=Object(n.useState)({name:"",personName:"",addressComplement:"",address:"",city:"",zipCode:"",country:"",id:void 0}),R=Object(d.a)(D,2),q=R[0],L=R[1],B=Object(n.useState)(),M=Object(d.a)(B,2),F=M[0],z=M[1],W=cn(),_=W.cities,U=W.fetchingCities,Q=W.fetchCities,H=W.loadMoreCities,V=ga(Q,1e3),Y=Object(n.useCallback)((function(){var e=o&&o.state&&o.state.fromUrl;e?c.replace(e):t()}),[o,c,t]);function X(e){return G.apply(this,arguments)}function G(){return(G=Object(ea.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!0),(t.id?ce.updateAddress(t.id,t):ce.addAddress(t)).then((function(e){e.id&&(u(e.id),m(e.id))})).then((function(){k(!1),Y()})).catch((function(){f(ne("Error"),{variant:"error"}),k(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){p?ce.fetchAddress(p).then((function(e){L(e),C(!1)})).catch(t):C(!1)}),[p,t]);var Z=Object(Za.a)({validateOnChange:I,initialValues:{name:q.name,personName:q.personName,addressComplement:q.addressComplement,address:q.address,city:q.city,zipCode:q.zipCode,country:q.country,id:q.id},validate:function(e){var t={};return e.address||(t.address="".concat(ne("Address")," ").concat(ne("Required"))),e.country||(t.country="".concat(ne("Country")," ").concat(ne("Required"))),t},onSubmit:function(){var e=Object(ea.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),enableReinitialize:!0}),J=Z.values,$=Z.errors,K=Z.handleChange,ee=Z.handleSubmit,te=Z.setValues,ae=Z.setFieldValue,ne=ht().t,re=Object(n.useCallback)((function(e){e.preventDefault(),T(!0),ee()}),[ee]),oe=Object(n.useCallback)((function(e){ae(e,""),"city"===e&&(z(""),ae("zipCode","")),ae(e,null)}),[ae]),ie=Object(n.useCallback)((function(e){var t=e.target,a=t.name,n=t.value;"city"===a?te(Object(s.a)({},J,{city:n,zipCode:(null===n||void 0===n?void 0:n.zipCode)||"",country:null===n||void 0===n?void 0:n.country})):"country"===a?te(Object(s.a)({},J,{country:n,city:"",zipCode:""})):K(e)}),[K,J,te]),le=Object(n.useCallback)((function(e){z(e.target.value)}),[]),ue=Object(n.useCallback)((function(){J.country&&H({countryId:J.country})}),[J.country,H]);Object(n.useEffect)((function(){J.country&&V({countryId:J.country,search:F},{reset:!0})}),[F,V,J.country]),Object(n.useEffect)((function(){ce.fetchCountries().then((function(e){N(e.map((function(e){return{label:e.name,value:e.id}})))}))}),[]);var se={span:4,component:"zipCode"},de={span:8,component:"city"},pe=[{span:12,component:"address"},{span:12,component:"addressComplement"},{span:12,component:"country"}].concat(Object(qe.a)(l.isZipOnLeftOnEshop?[se,de]:[de,se]));return v?r.a.createElement(y,null):r.a.createElement(Oe.a,{container:!0},r.a.createElement(Oe.a,{item:!0,xs:12,md:3}),r.a.createElement(Oe.a,{item:!0,xs:12,md:6},r.a.createElement(rn,{cities:_,countries:w,values:J,errors:$,disabled:j,layout:pe,fetchingCities:U,onSubmit:re,onChange:ie,onClear:oe,onLoadMoreCities:ue,handleCitySearchChange:le})),r.a.createElement(Oe.a,{item:!0,xs:12,md:3}))};var ln=function(e){var t=e.match,a=e.history,n=t.path,c=t.url,o=n+"/new",i=n+"/:addressId",l=n,s=r.a.useCallback((function(e,t){(t?a.replace:a.push)(e)}),[a]),d=r.a.useCallback((function(){s("".concat(c,"/new"))}),[c,s]),m=r.a.useCallback((function(e,t){s("".concat(c,"/").concat(t.id))}),[c,s]),p=r.a.useCallback((function(){s(c,!0)}),[c,s]),f=r.a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){return r.a.createElement(e,Object.assign({},a,t))}}),[]);return r.a.createElement(u.g,null,r.a.createElement(u.d,{path:o,render:f(on,{redirectToAddressList:p})}),r.a.createElement(u.d,{path:i,render:f(on,{redirectToAddressList:p})}),r.a.createElement(u.d,{path:l,render:f(Ga,{onNew:d,onEdit:m})}),r.a.createElement(u.c,{to:n}))},un=a(150),sn=Object(f.a)((function(e){return{paper:{padding:e.spacing(3)},error:{color:e.palette.error.main}}})),dn=function(e){var t=e.onChange,a=e.inputRef,n=Object(fe.a)(e,["onChange","inputRef"]);return r.a.createElement(un.a,Object.assign({},n,{getInputRef:a,onValueChange:function(a){t({target:{name:e.name,value:a.value}})},isNumericString:!0}))};function mn(e){var t=function(e,t){return 1===e.length&&e[0]>t[0]&&(e="0"+e),2===e.length&&(0===Number(e)?e="01":e>t&&(e=t)),e}(e.substring(0,2),"12"),a=e.substring(2,4);return t+(a.length?"/"+a:"")}function pn(e){var t=e.errors,a=e.values,n=e.disabled,c=e.onChange,o=e.onSubmit,i=sn(),l=ht().t;return r.a.createElement(Re,{className:i.paper},r.a.createElement("form",{onSubmit:o,noValidate:!0},r.a.createElement(Oe.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(Oe.a,{item:!0,xs:12},r.a.createElement(ze,{name:"name",label:l("Name"),disabled:n,value:a.name,error:t.name,onChange:c,required:!0})),r.a.createElement(Oe.a,{item:!0,xs:12},r.a.createElement(ze,{name:"cardNumber",label:l("Card number"),disabled:n,value:a.cardNumber,error:t.cardNumber,onChange:c,required:!0,InputProps:{inputComponent:dn,inputProps:{format:"#### #### #### ####",placeholder:"1234 1234 1234 1234"}}})),r.a.createElement(Oe.a,{item:!0,xs:6},r.a.createElement(ze,{name:"expiry",label:l("Expiry"),disabled:n,value:a.expiry,error:t.expiry,onChange:c,required:!0,InputProps:{inputComponent:dn,inputProps:{format:mn,placeholder:"MM/YY"}}})),r.a.createElement(Oe.a,{item:!0,xs:6},r.a.createElement(ze,{name:"cvc",label:l("CVC"),disabled:n,value:a.cvc,error:t.cvc,onChange:c,required:!0,InputProps:{inputComponent:dn,inputProps:{format:"####",placeholder:"CVC"}}})),r.a.createElement(Oe.a,{item:!0,xs:12,align:"right"},r.a.createElement(je.a,{raised:!0,type:"submit",disabled:n},l("Save"))))))}pn.defaultProps={errors:{},values:{},disabled:!1,onChange:function(){},onSubmit:function(){}};var fn=pn;var hn=function(e){var t=e.redirectToCardList,a=e.match.params.cardId,c=ht().t,o=Object(h.b)().enqueueSnackbar,i=Object(n.useState)(!0),l=Object(d.a)(i,2),u=l[0],s=l[1],m=Object(n.useState)(!1),p=Object(d.a)(m,2),f=p[0],b=p[1],g=Object(n.useState)({name:"",cardNumber:"",expiry:"",cvc:""}),v=Object(d.a)(g,2),C=v[0],E=v[1],O=Object(n.useState)(!1),j=Object(d.a)(O,2),k=j[0],P=j[1];function x(e){return w.apply(this,arguments)}function w(){return(w=Object(ea.a)(Kt.a.mark((function e(a){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!0),(C.id?ce.updatePaymentCard(C.id,a):ce.addPaymentCard(a)).then((function(){b(!1),t()})).catch((function(e){o(c("Error")+"".concat(e.message?" :  ".concat(e.message):""),{variant:"error"}),b(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=Object(Za.a)({validateOnChange:k,initialValues:{name:C.name,cardNumber:C.cardNumber,expiry:C.expiry,cvc:C.cvc},validate:function(e){var t,a,n,r={};return e.name||(r.name="".concat(c("Name")," ").concat(c("Required"))),e.cardNumber?(t=String(e.cardNumber).length,a=14,n=16,t&&t>=a&&t<=n||(r.cardNumber="".concat(c("Invalid card number")))):r.cardNumber="".concat(c("Card number")," ").concat(c("Required")),e.expiry?String(e.expiry).length<4&&(r.expiry="".concat(c("Invalid expiry"))):r.expiry="".concat(c("Expiry")," ").concat(c("Required")),e.cvc?String(e.cvc).length<3&&(r.cvc="".concat(c("Invalid cvc"))):r.cvc="".concat(c("CVC")," ").concat(c("Required")),r},onSubmit:function(){var e=Object(ea.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),enableReinitialize:!0}),A=N.values,S=N.errors,I=N.handleSubmit,T=N.handleChange;Object(n.useEffect)((function(){a?ce.fetchPaymentCard(a).then((function(e){E(e),s(!1)})).catch(t):s(!1)}),[a,t]);var D=Object(n.useCallback)((function(e){e.preventDefault(),P(!0),I()}),[I]);return u?r.a.createElement(y,null):r.a.createElement(Oe.a,{container:!0},r.a.createElement(Oe.a,{item:!0,xs:12,md:3}),r.a.createElement(Oe.a,{item:!0,xs:12,md:6},r.a.createElement(fn,{values:A,errors:S,disabled:f,onChange:T,onSubmit:D})),r.a.createElement(Oe.a,{item:!0,xs:12,md:3}))},bn=a(152),gn=a.n(bn),vn=a(151),yn=a.n(vn),Cn=["linear-gradient(to right top, #e186d8, #e575c7, #e763b4, #e9509f, #e83a89, #e72b78, #e51a67, #e10055, #dd0045, #d80035, #d20024, #ca0810)","linear-gradient(to right top, #3dda76, #00d3a0, #00c9c0, #00bcd2, #00aed5, #00a4d4, #089ad2, #228fce, #0f87cf, #027fcf, #0877cf, #1a6ecd)","linear-gradient(to right top, #f2a826, #f09a1d, #ed8b15, #ea7c10, #e76d0e, #e96218, #ea5621, #ea4a29, #ef4038, #f33546, #f52a55, #f62063)","linear-gradient(to right top, #cd26f2, #b320df, #9a19cc, #8211b9, #6b09a6, #5e069e, #510496, #43028e, #3b048f, #310690, #250991, #140b92)"],En={visa:Cn[0],mastercard:Cn[1],"american express":Cn[2],default:Cn[3]},On=Object(f.a)((function(e){return{paper:{height:180,display:"flex",cursor:"pointer",flexDirection:"column",justifyContent:"space-between",padding:e.spacing(2),background:function(e){return t=e.brand,En[t.toLowerCase()]||En.default;var t},borderRadius:"".concat(e.spacing(3),"px !important")},text:{color:"white",fontWeight:"bold"},number:{letterSpacing:e.spacing(.5)},icon:{color:"#ffc107"}}}));function jn(e){var t=e.card,a=e.isDefault,n=e.onEdit,c=e.onDelete,o=e.onDefault,i=t.brand,l=void 0===i?"":i,u=t.expiryDisplay,s=void 0===u?"":u,d=t.last4,m=void 0===d?"":d,p=On({brand:l}),f=r.a.useCallback((function(e){c(e,t)}),[c,t]),h=r.a.useCallback((function(e){n(e,t)}),[n,t]),b=r.a.useCallback((function(e){o(e,t)}),[o,t]);return r.a.createElement(Re,{className:p.paper},r.a.createElement("div",null,r.a.createElement(Oe.a,{container:!0,justify:"space-between"},r.a.createElement(Oe.a,{item:!0},r.a.createElement(ve.a,{variant:"h6",className:p.text,align:"right"},t.brand)),r.a.createElement(Oe.a,{item:!0},r.a.createElement(ke.a,{size:"small",className:p.text,onClick:b},a?r.a.createElement(yn.a,{className:p.icon}):r.a.createElement(gn.a,{className:p.icon})),r.a.createElement(ke.a,{size:"small",className:p.text,onClick:h},r.a.createElement(Wa.a,null)),r.a.createElement(ke.a,{size:"small",className:p.text,onClick:f},r.a.createElement(Ie.a,null))))),r.a.createElement("div",null,r.a.createElement(ve.a,{className:Object(he.a)(p.text,p.number),align:"center"},r.a.createElement("b",null,"\u2022\u2022\u2022\u2022  \u2022\u2022\u2022\u2022  \u2022\u2022\u2022\u2022  ".concat(m||"\u2022\u2022\u2022\u2022")))),r.a.createElement("div",null,r.a.createElement(Oe.a,{container:!0,justify:"space-between"},r.a.createElement(Oe.a,{item:!0},r.a.createElement(ve.a,{className:p.text},t.name)),r.a.createElement(Oe.a,{item:!0},r.a.createElement(ve.a,{className:p.text},s)))))}jn.defaultProps={card:{},onEdit:function(){},onDelete:function(){}};var kn=jn;function Pn(e){var t=e.cards,a=e.defaultCardId,n=e.onDelete,c=e.onEdit,o=e.onDefault,i=ht().t;return r.a.createElement(ya,{values:t,renderItem:function(e){return r.a.createElement(kn,{card:e,onDefault:o,onDelete:n,onEdit:c,isDefault:e.id===a})},noRecordLabel:i("No record found")})}Pn.defaultProps={cards:[],onDelete:function(){},onEdit:function(){}};var xn=Pn,wn=Object(f.a)((function(e){return{header:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(2)},headerAction:{fontSize:"0.7rem"},loader:{position:"absolute",inset:0,justifyContent:"center",display:"flex",alignItems:"center",backgroundColor:"rgba(0,0,0,0.4)",zIndex:2}}}));var Nn=function(e){var t=e.onNew,a=e.onEdit,c=ht().t,o=wn(),i=Object(h.b)().enqueueSnackbar,l=Object(n.useState)([]),u=Object(d.a)(l,2),s=u[0],m=u[1],p=Object(n.useState)(),f=Object(d.a)(p,2),b=f[0],g=f[1],v=Object(n.useState)(),C=Object(d.a)(v,2),E=C[0],O=C[1],j=Object(n.useState)(!0),k=Object(d.a)(j,2),P=k[0],x=k[1],w=Object(n.useState)(!1),N=Object(d.a)(w,2),A=N[0],S=N[1],I=Object(n.useState)(!1),T=Object(d.a)(I,2),D=T[0],R=T[1];function q(){O(null),S(!1)}Object(n.useEffect)((function(){ce.fetchPaymentCards().then((function(e){var t=e.data;ce.fetchDefaultPaymentCard().then((function(e){e.id&&g(e.id),m(t),x(!1)})).catch((function(){m(t),x(!1)}))})).catch((function(){x(!1)}))}),[]);var L=Object(n.useCallback)((function(e,t){var a=t.id;return R(!0),ce.updateDefaultPaymentCard(a).then((function(){g(a)})).catch((function(){i(c("Error"),{variant:"error"})})).finally((function(){R(!1)}))}),[i,c]);return P?r.a.createElement(y,null):r.a.createElement(r.a.Fragment,null,D&&r.a.createElement("div",{className:o.loader},r.a.createElement(y,null)),r.a.createElement("div",{className:o.header},r.a.createElement(ve.a,{variant:"h5"},c("Credit card")),r.a.createElement(je.a,{className:o.headerAction,onClick:t},c("Add a credit card"))),r.a.createElement(xn,{cards:s,defaultCardId:b,onDelete:function(e,t){O(t),S(!0)},onDefault:L,onEdit:a}),r.a.createElement(gt,{onConfirm:function(){var e=E.id;ce.deletePaymentCard(e).then((function(){return function(e){m((function(t){return t.filter((function(t){return t.id!==e}))}))}(e)})).catch((function(){i(c("Error"),{variant:"error"})})).finally(q)},onClose:q,title:c("Confirm deletion"),open:A},r.a.createElement("p",null,E&&"\u2022\u2022\u2022\u2022  \u2022\u2022\u2022\u2022  \u2022\u2022\u2022\u2022  ".concat(E.last4))))};var An=function(e){var t=e.match,a=e.history,n=t.path,c=t.url,o=n+"/new",i=n+"/:cardId",l=n,s=r.a.useCallback((function(e,t){(t?a.replace:a.push)(e)}),[a]),d=r.a.useCallback((function(){s("".concat(c,"/new"))}),[c,s]),m=r.a.useCallback((function(e,t){s("".concat(c,"/").concat(t.id))}),[c,s]),p=r.a.useCallback((function(){s(c,!0)}),[c,s]),f=r.a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){return r.a.createElement(e,Object.assign({},a,t))}}),[]);return r.a.createElement(u.g,null,r.a.createElement(u.d,{exact:!0,path:o,render:f(hn,{redirectToCardList:p})}),r.a.createElement(u.d,{exact:!0,path:i,render:f(hn,{redirectToCardList:p})}),r.a.createElement(u.d,{exact:!0,path:l,render:f(Nn,{onNew:d,onEdit:m})}))},Sn=a(296),In=a(297),Tn=a(302),Dn=a(295),Rn=a(291),qn=a(278),Ln=a(228),Bn=a(294),Mn=a(292),Fn=a(293),zn=a(154),Wn=a.n(zn),_n=a(155),Un=a.n(_n),Qn=a(156),Hn=a.n(Qn),Vn=a(157),Yn=a.n(Vn),Xn=a(158),Gn=a.n(Xn),Zn=a(153),Jn=a.n(Zn),$n=Object(f.a)((function(e){return{root:{color:e.palette.secondary.main}}}));function Kn(e){var t=e.onClick,a=e.size,n=e.className,c=$n();return r.a.createElement(ke.a,{size:a,onClick:t,className:Object(he.a)(c.root,n)},r.a.createElement(Jn.a,null))}Kn.defaultProps={onClick:function(){},size:"medium"};var er=Kn,tr=Object(f.a)({root:{width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-start"}});function ar(e){var t=e.onBack,a=tr();return r.a.createElement("div",{className:a.root},r.a.createElement(er,{onClick:t}))}ar.defaultProps={onBack:function(){}};var nr=Object(f.a)((function(e){return{badge:{color:"#FFFFFF",backgroundColor:e.palette.secondary.main}}}));function rr(e){var t=e.onClick,a=(e.content,nr()),n=me().cart,c=Object.values(n||{}).reduce((function(e,t){return Number(e)+Number(t)}),0);return r.a.createElement(ke.a,{size:"small",onClick:t},r.a.createElement(Rn.a,{badgeContent:c,classes:{badge:a.badge}},r.a.createElement(Wn.a,null)))}var cr=Object(f.a)((function(e){return{root:{width:"100%",display:"flex",alignItems:"center"},grow:{flexGrow:1},eshopName:{color:e.palette.secondary.main,fontWeight:"bold"},sidebarPaper:{paddingTop:e.spacing(5)},listItem:{"&:hover":{color:e.palette.secondary.main,backgroundColor:e.palette.secondary.light,"& .list-icon":{color:e.palette.secondary.main}}}}}));function or(e){var t=e.showMenuButton,a=e.showBackButton,c=e.onBack,o=e.onCheckout,i=e.onLinkClick,l=ht().t,u=cr(),s=Object(n.useState)(!1),m=Object(d.a)(s,2),p=m[0],f=m[1],h=Object(n.useCallback)((function(e){f(!1),setTimeout((function(){i(e)}),200)}),[i]),b=[{label:l("Eshop"),Icon:Un.a,onClick:function(){return h("eshop")}},{label:l("Addresses"),Icon:Hn.a,onClick:function(){return h("address")}},{label:l("Payment Cards"),Icon:Yn.a,onClick:function(){return h("payment-card")}}];return r.a.createElement("div",{className:u.root},t&&r.a.createElement(ke.a,{onClick:function(){f((function(e){return!e}))}},r.a.createElement(Gn.a,null)),a&&r.a.createElement(er,{onClick:c}),"\xa0",r.a.createElement("div",{className:u.grow}),r.a.createElement(rr,{onClick:o}),r.a.createElement(Mn.a,{anchor:"left",open:p,onClose:function(){return f(!1)},ModalProps:{disablePortal:!0},PaperProps:{className:u.sidebarPaper}},r.a.createElement("div",null,r.a.createElement(ge,null)),r.a.createElement(qn.a,null,b.map((function(e){var t=e.label,a=e.Icon,n=e.onClick;return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(Ln.a,{button:!0,key:t,className:u.listItem,onClick:n},r.a.createElement(Fn.a,{className:"list-icon"},r.a.createElement(a,null)),r.a.createElement(Bn.a,{primary:t})))})))))}or.defaultProps={showBackButton:!0,showMenuButton:!0,onBack:function(){},onCheckout:function(){},onLinkClick:function(){}};var ir=Object(f.a)((function(e){return{container:{display:"flex",alignItems:"center"},tabsIndicator:{backgroundColor:e.palette.secondary.main},tabRoot:{"&:hover":{backgroundColor:e.palette.secondary.light,color:e.palette.secondary.main}},tabSelected:{backgroundColor:e.palette.secondary.light,color:e.palette.secondary.main},rippleChild:{backgroundColor:e.palette.secondary.main}}}));function lr(e){var t=e.activeLink,a=e.onClick,n=e.onCheckout,c=e.isPaymentCardActivated,o=ht().t,i=ir();return r.a.createElement("div",{className:i.container},r.a.createElement(Tn.a,{value:t,classes:{indicator:i.tabsIndicator}},[{route:"eshop",label:o("Eshop")},{route:"address",label:o("Addresses")},{route:"payment-card",label:o("Payment Cards"),active:c}].map((function(e){var t=e.active,n=void 0===t||t,c=Object(fe.a)(e,["active"]);return n&&r.a.createElement(Dn.a,{classes:{root:i.tabRoot,selected:i.tabSelected},key:c.route,label:c.label,value:c.route,onClick:function(){a&&a(c.route)},TouchRippleProps:{classes:{child:i.rippleChild}}})}))),"\xa0",r.a.createElement(rr,{onClick:n}))}sr.defaultProps={activeLink:"shop",onClick:function(){}};var ur=Object(f.a)((function(e){return{appbar:{zIndex:1e3,backgroundColor:"#FFFFFF"},toolbar:{width:"100%",height:"100%",margin:"auto",justifyContent:"flex-end",maxWidth:1400+e.spacing(2)}}}));function sr(e){var t=e.location,a=e.history,c=e.match,o=e.isPaymentCardActivated,i=c.url,l=c.path,s=t.pathname,d=ur(),m=Object(n.useCallback)((function(){return s.includes("eshop/address")?"address":s.includes("eshop/payment-card")?"payment-card":"eshop"}),[s]),p=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eshop";"address"===e?a.push("".concat(l,"/address")):"payment-card"===e?a.push("".concat(l,"/payment-card")):a.push(l)}),[a,l]),f=Object(n.useCallback)((function(){a.push("".concat(i,"/checkout"))}),[a,i]),h=Object(n.useCallback)((function(){a.replace("".concat(i,"/address"))}),[a,i]),b=Object(n.useCallback)((function(){a.replace("".concat(i,"/payment-card"))}),[a,i]),g=Object(n.useCallback)((function(){a.replace({pathname:i,state:t.state,search:t.search})}),[a,i,t]),v=Object(n.useCallback)((function(){var e=t&&t.state&&t.state.fromUrl;e?a.replace(e):h()}),[a,t,h]),y={activeLink:m(),onClick:p,onCheckout:f,isPaymentCardActivated:o};return r.a.createElement(Sn.a,{className:d.appbar,position:"relative",color:"default"},r.a.createElement(In.a,{className:d.toolbar,variant:"dense"},r.a.createElement(u.g,null,r.a.createElement(u.d,{exact:!0,path:l,render:function(e){return r.a.createElement(lr,Object.assign({},e,y))}}),r.a.createElement(u.d,{exact:!0,path:"".concat(l,"/address"),render:function(e){return r.a.createElement(lr,Object.assign({},e,y))}}),r.a.createElement(u.d,{path:"".concat(l,"/address/:addressId"),render:function(e){return r.a.createElement(ar,Object.assign({},e,{onBack:v}))}}),r.a.createElement(u.d,{exact:!0,path:"".concat(l,"/payment-card"),render:function(e){return r.a.createElement(lr,Object.assign({},e,y))}}),r.a.createElement(u.d,{path:"".concat(l,"/payment-card/:paymentCardId"),render:function(e){return r.a.createElement(ar,Object.assign({},e,{onBack:b}))}}),r.a.createElement(u.d,{path:"".concat(l,"/checkout/:message"),render:function(e){return null}}),r.a.createElement(u.d,{path:"".concat(l,"/checkout"),render:function(e){return r.a.createElement(or,Object.assign({},e,{onBack:g,onCheckout:f,onLinkClick:p,showMenuButton:!1}))}}),r.a.createElement(u.d,{path:"".concat(l,"/product/:productId"),render:function(e){return r.a.createElement(or,Object.assign({},e,{onBack:g,onCheckout:f,onLinkClick:p,showMenuButton:!1}))}}))))}sr.defaultProps={activeLink:"shop",onClick:function(){},onCheckout:function(){}};var dr=Object(u.o)(sr),mr=Object(f.a)((function(e){return{container:Object(m.a)({position:"relative",overflow:"auto",height:function(e){return"calc(100% - ".concat(6*e.theme.spacingUnit,"px)")},padding:function(e){return 3*e.theme.spacingUnit},maxWidth:1400,marginRight:"auto",marginLeft:"auto"},e.breakpoints.down("sm"),{padding:function(e){return 2*e.theme.spacingUnit}})}}));var pr=function(e){var t=r.a.useState(!0),a=Object(d.a)(t,2),n=a[0],c=a[1],o=ie().user,i=o&&o.language,l=r.a.useState({isPaymentCardActivated:!1}),m=Object(d.a)(l,2),f=m[0],h=m[1],b=e.match.path,g=Object(p.useTheme)(),v=mr({theme:g}),C=ht().i18n,E=b+"/address",O=b+"/payment-card",j=b;return r.a.useEffect((function(){ce.fetchPaymentCardConfiguration().then((function(e){h(Object(s.a)({},e))})).finally((function(){c(!1)}))}),[]),r.a.useEffect((function(){i&&(c(!0),C.changeLanguage(i).finally((function(){c(!1)})))}),[i,C]),n?r.a.createElement(y,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(dr,{isPaymentCardActivated:f.isPaymentCardActivated}),r.a.createElement("div",{className:v.container},r.a.createElement(u.g,null,r.a.createElement(u.d,{path:E,component:ln}),f.isPaymentCardActivated&&r.a.createElement(u.d,{path:O,component:An}),r.a.createElement(u.d,{path:j,component:Fa}),r.a.createElement(u.c,{to:{pathname:b}}))))},fr=a(159),hr=a(298),br={darkBlue:"#293847",grey:"#9E9E9E",green:"#3ECF8E",lightGreen:"rgba(62, 207, 142, 0.1)"},gr=Object(fr.a)({palette:{primary:{main:br.darkBlue},secondary:{light:br.lightGreen,main:br.green,contrastText:"#FFFFFF"}},overrides:{MuiTypography:{colorTextPrimary:{color:br.darkBlue}},MuiButton:{root:{borderRadius:20}}},props:{MuiInput:{disableUnderline:!0},MuiTextField:{variant:"outlined",margin:"dense",fullWidth:!0},MuiButton:{variant:"contained",color:"secondary"}},custom:{COLORS:br}});f.a;var vr=function(e){var t=e.children;return r.a.createElement(hr.a,{theme:gr},r.a.createElement(i.a,null),t)};var yr=function(e){var t=e.children,a=r.a.useMemo((function(){return{vertical:"bottom",horizontal:"left"}}),[]);return r.a.createElement(h.a,{autoHideDuration:3e3,maxSnack:3,anchorOrigin:a},t)};var Cr=function(){return r.a.createElement(r.a.Suspense,{fallback:""},r.a.createElement(l.HashRouter,null,r.a.createElement(i.a,null),r.a.createElement(vr,null,r.a.createElement(ft,null,r.a.createElement(le,null,r.a.createElement(pe,null,r.a.createElement(yr,null,r.a.createElement(u.g,null,r.a.createElement(u.d,{path:"/eshop",component:pr}),r.a.createElement(u.c,{to:"/eshop"})))))))))};a(222),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Cr,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[182,1,2]]]);
//# sourceMappingURL=main.c3d6ed34.chunk.js.map