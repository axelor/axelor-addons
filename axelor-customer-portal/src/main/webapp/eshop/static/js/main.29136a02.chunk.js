(this["webpackJsonpaxelor-eshop"]=this["webpackJsonpaxelor-eshop"]||[]).push([[0],{135:function(e){e.exports=JSON.parse('{"Add a credit card":"Add a credit card","Add a product":"Add a product","Add to cart":"Add to cart","Address":"Address","Addresses":"Addresses","All prices are tax free":"All prices are tax free","All prices include taxes":"All prices include taxes","CVC":"CVC","Cancel":"Cancel","Card number":"Card number","City":"City","Complement":"Complement","Complementary Products":"Complementary Products","Confirm deletion":"Confirm deletion","Confirm order content":"Are you sure to order ?","Confirm order":"Confirm order","Confirm order using default card ?":"Confirm order using default card ?","Confirm quotation request":"Confirm quotation request","Confirm":"Confirm","Continue checkout":"Continue checkout","Continue shopping":"Continue shopping","Country":"Country","Credit card":"Credit card","Data Term":"Data Term","Delivery address":"Delivery address","Discount":"Discount","EShops":"EShops","Error creating order. Please try again":"Error creating order. Please try again","Error requesting quotation. Please try again":"Error requesting quotation. Please try again","Error":"Error","Eshop not processing checkout":"Eshop not processing checkout","Eshop":"Eshop","Expiry":"Expiry","Invoicing address":"Invoicing address","Invalid expiry":"Invalid expiry","Invalid cvc":"Invalid CVC","Invalid card number":"Invalid card number","More":"More","Name":"Name","New address":"New address","No record found":"No record found","One or multiple items have changed in your cart":"One or multiple items have changed in your cart","Order summary":"Order summary","Paybox":"Paybox","Payment Cards":"Payment Cards","Pay using card":"Pay using card","Products":"Products","Quantity":"Quantity","Request quotation":"Request quotation","Required":"Required","Return Policy Term":"Return Policy Term","Save":"Save","Search":"Search","Term":"Term","Thank you for shopping":"Thank you for shopping","Total discount":"Total discount","Total tax":"Total tax","Total without tax":"Total without tax","Total":"Total","Unavailable":"Unavailable","Your payment could not be completed":"Your payment could not be completed","Your payment has been successfully completed":"Your payment has been successfully completed","Zip code":"Zip code"}')},136:function(e){e.exports=JSON.parse('{"Add a credit card":"Ajouter une carte de cr\xe9dit","Add a product":"Ajouter un produit","Add to cart":"Ajouter au panier","Address":"Address","Addresses":"Adresses","All prices are tax free":"Tous les prix sont en HT","All prices include taxes":"Tous les prix sont en TTC","CVC":"CVC","Cancel":"Annuler","Card number":"Num\xe9ro de carte","City":"Ville","Complement":"Compl\xe9ment","Complementary Products":"Produits compl\xe9mentaires","Confirm deletion":"Confirmation de la suppression","Confirm order content":"\xcates-vous s\xfbr(e) de commander ?","Confirm order":"Confirmer la commande","Confirm order using default card ?":"Confirmer la commande en utilisant la carte par d\xe9faut?","Confirm quotation request":"Confirmer la demande de devis","Confirm":"Confirmer","Continue checkout":"Continuer la commande","Continue shopping":"Continuer vos achats","Country":"Pays","Credit card":"Carte de cr\xe9dit","Data Term":"Dur\xe9e des donn\xe9es","Delivery address":"Adresse de livraison","Discount":"Remise","EShops":"EShops","Error creating order. Please try again":"Erreur lors de la cr\xe9ation de la commande. Veuillez r\xe9essayer","Error requesting quotation. Please try again":"Erreur lors de la demande de devis. Veuillez r\xe9essayer","Error":"Erreur","Eshop not processing checkout":"Eshop ne traite pas le paiement","Eshop":"Eshop","Expiry":"Expiration","Invoicing address":"Adresse de facturation","Invalid expiry":"Expiration invalide","Invalid cvc":"CVC invalide","Invalid card number":"Num\xe9ro de carte invalide","More":"Plus","Name":"Nom","New address":"Nouvelle adresse","No record found":"Aucun enregistrement trouv\xe9","One or multiple items have changed in your cart":"Un ou plusieurs articles ont chang\xe9 dans votre panier","Order summary":"R\xe9capitulatif de la commande","Paybox":"Paybox","Payment Cards":"Cartes de paiement","Pay using card":"Payer par carte","Products":"Produits","Quantity":"Quantit\xe9","Request quotation":"Demande de devis","Required":"Requis","Return Policy Term":"Terme de la politique de retour","Save":"Enregistrer","Search":"Rechercher","Term":"Terme","Thank you for shopping":"Merci pour vos achats","Total discount":"Remise","Total tax":"Taxes","Total without tax":"Montant total HT","Total":"Total","Unavailable":"Indisponible","Your payment could not be completed":"Votre paiement n\'a pas pu aboutir","Your payment has been successfully completed":"Votre paiement a \xe9t\xe9 effectu\xe9 avec succ\xe8s","Zip code":"Code postal"}')},178:function(e,t,a){e.exports=a(219)},218:function(e,t,a){},219:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),i=a(293),l=a(46),u=a(15),s=a(8),d=a(6),m=a(26),p=a(125),f=a(270),h=a(39),b=a(271),g=Object(f.a)((function(e){return{root:{height:"inherit",width:"inherit",position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},top:{color:"#eef3fd"},bottom:{color:e.palette.secondary.main,animationDuration:"250ms",position:"absolute"}}}));var v,y=function(e){var t=g();return r.a.createElement("div",{className:t.root},r.a.createElement(b.a,Object.assign({variant:"determinate",value:100,className:t.top,size:24,thickness:4},e)),r.a.createElement(b.a,Object.assign({variant:"indeterminate",disableShrink:!0,className:t.bottom,size:24,thickness:4},e)))},C=a(129),E=a.n(C),O=a(96),j=a(97),k=a(130),P=a.n(k),x={};function w(e){var t=document.cookie||"";return t!==v&&(v=t,x=t.split("; ").reduce((function(e,t){var a=t.split("=");return e[a[0]]=a[1],e}),{})),x[e]}var N=function(){function e(t,a){Object(O.a)(this,e),this.http=t,this.entity=a}return Object(j.a)(e,[{key:"insert",value:function(e){return this.http.put("/ws/rest/"+this.entity,e)}},{key:"update",value:function(e){return this.http.post("/ws/rest/"+this.entity,e)}},{key:"delete",value:function(e){return this.http.delete("/ws/rest/"+this.entity+"/"+e)}},{key:"deleteAll",value:function(e){return this.http.post("/ws/rest/".concat(this.entity,"/removeAll"),{records:e.map((function(e){return{id:e.id,version:e.version}}))})}},{key:"fetch",value:function(e,t){return this.http.post("/ws/rest/"+this.entity+"/"+e+"/fetch",t)}},{key:"copy",value:function(e,t){return this.http.get("/ws/rest/"+this.entity+"/"+e+"/copy",t)}},{key:"details",value:function(e,t){return this.http.get("/ws/rest/"+this.entity+"/"+e+"/details?name="+t)}},{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post("/ws"+(this.entity?"/rest/".concat(this.entity):"")+"/search",e)}}]),e}(),A=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.baseURL,n=void 0===a?"/":a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(O.a)(this,e),this.instance=P.a.create({baseURL:n}),this.interceptor=r}return Object(j.a)(e,[{key:"catchError",value:function(e){console.log("catch error",e),this.callback?this.callback(e):"".concat(e).includes("401")}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,r=a.headers,c=void 0===r?{}:r,o=a.token,i=void 0===o||o,l=a.withCredentials,u=void 0===l||l,d=Object(s.a)({},i?{"X-CSRF-Token":w("CSRF-TOKEN")}:{},{},n||Object.assign({},{accept:"application/json","x-requested-with":"XMLHttpRequest"},c,Object.keys(t).length?{"content-type":"application/json"}:{})),m=Object.assign({url:e,method:"POST",headers:d,data:"application/json"===d["content-type"]?JSON.stringify(t):t},a,{withCredentials:u});return"GET"!==m.method&&"HEAD"!==m.method||!m.data||delete m.data,this.instance(m)}},{key:"intercept",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=Object.assign({method:a,withCredentials:!0},c),i=function(){return t.request(e,n,o,r)},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e5;return new Promise((function(t,a){setTimeout((function(){a(new Error("Request failed Timeout"))}),e)}))};return Promise.race([l(),i().then((function(e){return 401===e.status?t.catchError({logout:!0}):e.data}))]).catch(this.catchError.bind(this))}},{key:"get",value:function(e,t,a){return this.intercept(e,"GET",{},t,a)}},{key:"post",value:function(e,t,a){return this.intercept(e,"POST",t,a)}},{key:"patch",value:function(e,t,a){return this.intercept(e,"PATCH",t,a)}},{key:"put",value:function(e,t,a){return this.intercept(e,"PUT",t,a)}},{key:"delete",value:function(e,t){return this.intercept(e,"DELETE",{},t)}},{key:"head",value:function(e,t){return this.intercept(e,"HEAD",{},t)}},{key:"action",value:function(e,t){return this.intercept("/ws/action"+e,"POST",t)}},{key:"rest",value:function(e){return new N(this,e)}},{key:"login",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object.assign({},this.config||{},t);return this.request("/callback",{username:a.username,password:a.password},{token:!1}).then((function(t){var n=null;if(void 0===t)throw new Error("Failed To Connect !!");return t&&401===t.status?n=!1:t&&200===t.status&&(n=!0,e.config=a),n})).catch(this.catchError.bind(this))}},{key:"logout",value:function(){return this.get("/logout")}},{key:"info",value:function(){return this.get("/ws/app/info")}},{key:"checkInfo",value:function(){return this.request("/ws/app/info",{},{method:"GET"}).then((function(e){return e.data})).then((function(e){return{appUser:e,app:{name:e["application.name"],version:e["application.version"],description:e["application.description"]},user:{id:e["user.id"],code:e["user.login"],name:e["user.name"],language:e["user.lang"]||"en",email:e["user.login"],theme:e["user.theme"]||""}}}))}},{key:"upload",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(c,o){var i=new XMLHttpRequest,l="/ws/files/upload",u=function(){return a["X-File-Id"]?e.intercept((function(){return e.delete("".concat(l,"/").concat(a["X-File-Id"]))})):Promise.resolve(!0)};i.open("POST",l,!0),Object.keys(a).forEach((function(e){i.setRequestHeader(e,a[e])})),i.withCredentials=!0,i.overrideMimeType("application/octet-stream"),i.setRequestHeader("Content-Type","application/octet-stream"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("X-CSRF-Token",w("CSRF-TOKEN")),i.onload=function(){n(100)},r.abort=function(){return i.abort(),u()},i.onreadystatechange=function(){if(4===i.readyState)switch(i.status){case 401:throw this.callbackInterceptor(),new Error("Unauthorized !!");case 200:try{var e=JSON.parse(i.responseText);c(e)}catch(t){c(i.responseText)}break;default:u(),o({status:i.status})}},i.upload.onprogress=function(e){var t=a["X-File-Size"],c=parseFloat(a["X-File-Offset"])+e.loaded,o=Math.round(c/t*100);r.progress=o>95?"95%":o+"%",r.transfer=function(e,t){var a=function(e){return e>1e9?parseFloat(e/1e9).toFixed(2)+" GB":e>1e6?parseFloat(e/1e6).toFixed(2)+" MB":e>=1e3?parseFloat(e/1e3).toFixed(2)+" KB":e+" B"};return a(e||0)+"/"+a(t)}(c,t),r.loaded=c===t,e.lengthComputable&&n(e.loaded/e.total*100,r)},i.send(t)}))}}]),e}())({baseURL:"../"});function S(e){return"./".concat(A.instance.defaults.baseURL,"ws/portal/metafile/").concat(e)}function T(e){if(e&&0===e.status)return e;throw new Error(e&&e.message)}function I(e){return function(e){var t=e._pictures&&e._pictures.length;e.images=t?e._pictures.map(S):[]}(e),function(e){var t=e&&e._currency&&e._currency.symbol;t&&(e._previousPrice?(e._displayPrice=t+e._previousPrice,e._displayDiscountPrice=t+e._price):e._displayPrice=t+e._price)}(e),function(e){e._discount&&e._discount.includes("%")&&(e._displayDiscountPercentage=e._discount)}(e),function(e){"service"===e.productTypeSelect||Number(e._realQty)||(e.unavailable=!0)}(e),function(e){e.complementaryProducts=(e.complementaryProductList||[]).map((function(e){var t=e.product,a=void 0===t?{}:t,n=e.qty,r=e.optional;return{id:null===a||void 0===a?void 0:a.id,qty:Number(n),name:a.name,optional:r}})).filter((function(e){return e.id})).filter((function(e){return!isNaN(parseFloat(e.qty))})),e.complementaryProductList=null}(e),e}function D(){return{data:[],total:0}}function R(){return{}}function q(){return[]}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.data=e.data||t,e}function L(e){var t=e.address,a=e.addressComplement,n=e.zipCode,r=e.countryName,c=e.cityName;return"".concat(t||""," ").concat(a||""," ").concat(c||""," ").concat(n||""," ").concat(r||"")}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number.parseFloat(e).toFixed(t)}function M(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return a?e+" "+t:e+t}function z(e){return e&&e.currency&&e.currency.symbol}function W(e){return function(e){var t=z(e);if(!t)return e;var a=function(e){return M(e,t)};return Object.assign(e,{total:a(e.total),totalTax:a(e.totalTax),totalWithoutTax:a(e.totalWithoutTax),totalDiscount:a(e.totalDiscount)})}(function(e){var t=z(e),a=$(e.mainInvoicingAddress),n=$(e.deliveryAddress);return a.displayAddress=L(a),n.displayAddress=L(n),{id:e.id,date:e.checkoutDate,total:e.inTaxTotal||"0.00",totalTax:e.taxTotal||"0.00",totalWithoutTax:e.exTaxTotal||"0.00",totalDiscount:e._discountTotal||"0.00",currency:e.currency,invoicingAddress:a,deliveryAddress:n,lines:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return{id:e.id,name:e.productName,qty:F(e.qty),unitPrice:t?M(F(e.price),t):F(e.price),vat:e.taxLine&&e.taxLine.value?M(F(100*e.taxLine.value),"%"):"",discount:t?M(F(e._discountTotal||"0.00"),t):"0.00",total:t?M(F(e.inTaxTotal),t):F(e.inTaxTotal),productId:e.product&&e.product.id,productTypeSelect:e.product&&e.product.productTypeSelect}}))}(e.saleOrderLineList),itemsChanged:e.itemsChanged,original:{total:e.inTaxTotal},paymentModes:e.paymentModes||[]}}(e))}function _(e){return e.itemsChanged&&(e.lines=e.lines.filter((function(e){return"service"!==e.productTypeSelect&&"0.00"!==e.qty}))),e}function U(e){return e&&e.data}function Q(e,t){return e.data&&(e.data=t(e.data)),e}function H(e){return Object.assign({},e,{displayAddress:L(e)})}function V(e){return Q(e,(function(e){return e.map(I)}))}function Y(e){return Q(e,(function(e){return e.map(ee)}))}function X(e){return Q(e,(function(e){return e.map($)}))}function G(e){return Q(e,(function(e){return e.map(H)}))}function J(e,t){return t?e+"?"+function(e){return E.a.stringify(e)}(t):e}function Z(e){return{addressL4:e.address,addressL2:e.addressComplement,zip:e.zipCode,cityId:e.city,id:e.id,addressL7CountryId:e.country}}function $(e){var t=e.city,a=e.addressL7Country;return{address:e.addressL4,addressComplement:e.addressL2,zipCode:e.zip,city:e.cityId||t&&t.id,id:e.id,country:e.addressL7CountryId||a&&a.id,cityName:t&&t.name||"",countryName:a&&a.name||""}}function K(e){var t=e.deliveryAddress,a=e.invoicingAddress,n=e.cart;return{deliveryAddressId:t.id,mainInvoicingAddressId:a.id,cart:Object.keys(n).reduce((function(e,t){return e.push({productId:Number(t),quantity:n[t]}),e}),[])}}function ee(e){var t=e.expiry,a=void 0===t?"":t,n=e.brand,r=a.slice(0,a.length-2),c=a.slice(a.length-2),o="".concat(r,"/").concat(c),i=e.cardNumber,l=void 0===i?"":i,u=(l=String(l))&&l.slice(l.length-4);return Object(s.a)({},e,{expiryDisplay:o,last4:u,brand:n||""})}var te={fetchProducts:function(e){var t=J("/ws/portal/products",e);return A.get(t).then(T).then(B).then(V).catch(D)},fetchProduct:function(e){var t="/ws/portal/products/".concat(e);return A.get(t).then(T).then((function(e){return B(e,{})})).then(U).then(I).catch(R)},fetchCategories:function(){return A.get("/ws/portal/categories").then(T).then(B).then(U).catch(q)},fetchCategoryProducts:function(e,t){var a=J("/ws/portal/categories/".concat(e,"/products"),t);return A.get(a).then(T).then(B).then(V).catch(D)},fetchAddresses:function(){return A.get("/ws/portal/addresses").then(T).then(B).then(X).then(G).catch(D)},fetchAddress:function(e){var t="/ws/portal/addresses/".concat(e);return A.get(t).then(T).then(U).then($)},addAddress:function(e){return A.post("/ws/portal/addresses",Z(e)).then(T).then(U)},deleteAddress:function(e){var t="/ws/portal/addresses/".concat(e);return A.delete(t)},updateAddress:function(e,t){var a="/ws/portal/addresses/".concat(e);return A.post(a,Z(t)).then(T).then(U)},fetchCities:function(e,t){var a=J(e?"/ws/portal/countries/".concat(e,"/cities"):"/ws/portal/cities",t);return A.get(a).then(T)},fetchCountries:function(){return A.get("/ws/portal/countries").then(T).then(B).then(U).catch(q)},checkCart:function(e){var t={cart:Object.keys(e).map((function(t){return{productId:Number(t),quantity:e[t]}}))};return A.post("/ws/portal/cart/check-cart",t).then(T).then(U).then(W).then(_).catch(R)},checkoutPaypal:function(e){var t=e.paypalPaymentData,a=e.orderData,n=t.id,r=K(a);return A.post("/ws/portal/cart/checkout/paypal",{paypalOrderId:n,orderData:r}).then(T).then(U)},checkoutPaybox:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,a=e.orderData,n="/ws/portal/cart/checkout/paybox",r=K(a),c={orderData:r,successURL:t+"/success",failureURL:t+"/failure"};return A.post(n,c).then(T).then(U)},checkoutPaymentCard:function(e){var t=e.cardId,a={orderData:K(e.orderData)};return t&&(a.cardId=t),A.post("/ws/portal/cart/checkout/stripe",a).then(T).then(U)},checkoutQuotation:function(e){var t={orderData:K(e.orderData)};return A.post("/ws/portal/cart/checkout/quotation",t).then(T).then(U)},fetchPaymentCards:function(){return A.get("/ws/portal/payment-cards").then(T).then(B).then(Y).catch(D)},fetchPaymentCard:function(e){var t="/ws/portal/payment-cards/".concat(e);return A.get(t).then(T).then(U).then(ee)},addPaymentCard:function(e){return A.post("/ws/portal/payment-cards",e).then(T)},updatePaymentCard:function(e,t){var a="/ws/portal/payment-cards/".concat(e);return A.post(a,t).then(T)},deletePaymentCard:function(e){var t="/ws/portal/payment-cards/".concat(e);return A.delete(t).then((function(e){if(-1===e.status)throw new Error(e&&e.message)}))},fetchPaymentCardConfiguration:function(){return A.get("/ws/portal/config/is-card-active").then(T).then(U).then((function(e){return{isPaymentCardActivated:e.isStripeActivated}}))},fetchDefaultPaymentCard:function(){return A.get("/ws/portal/payment-cards/default").then(T).then(U)},updateDefaultPaymentCard:function(e){var t="/ws/portal/payment-cards/default/".concat(e);return A.post(t).then(T)},fetchPaypalMerchantId:function(){return A.get("/ws/portal/config/merchant-id").then(T).then(U).catch(R)},fetchTranslations:function(e){return A.post("/ws/portal/translate",e).then((function(e){e&&0===e.status||(e.data=[]);var t=e.data;return Array.isArray(t)?t.reduce((function(e,t){return e[t.key]=t.message,e}),{}):{}})).catch((function(){return{}}))},fetchConfiguration:function(){return A.get("/ws/portal/config").then(T).then(U).then((function(e){return{isQuotationRequestActive:e.isQuotationRequestActive,isDataPolicyRequired:e.isDataPolicyRequired,dataPolicyMetaFile:e.dataPolicyMetaFile,isReturnPolicyRequired:e.isReturnPolicyRequired,returnPolicyMetaFile:e.returnPolicyMetaFile,isTermRequired:e.isTermRequired,termMetaFile:e.termMetaFile,isZipOnLeftOnEshop:e.isZipOnLeftOnEshop,isAllowOutOfStock:e.isAllowOutOfStock}})).catch((function(){return{isQuotationRequestActive:!1}}))},fetchInfo:function(){return A.checkInfo()},getMetafileURL:S},ae=r.a.createContext();function ne(){return Object(n.useContext)(ae)}var re=function(e){var t=e.children,a=r.a.useState(!0),n=Object(d.a)(a,2),c=n[0],o=n[1],i=r.a.useState({app:{},user:{}}),l=Object(d.a)(i,2),u=l[0],m=l[1];return r.a.useEffect((function(){te.fetchInfo().then((function(e){m(Object(s.a)({},e))})).finally((function(){o(!1)}))}),[]),c?r.a.createElement(y,null):r.a.createElement(ae.Provider,{value:u},t)};function ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return JSON.parse(localStorage.getItem(e))||t}catch(a){return t}}function oe(e,t){localStorage.setItem(e,JSON.stringify(t))}var ie=r.a.createContext();function le(){return Object(n.useContext)(ie)}var ue=function(e){var t=e.children,a=ne().user.id,c=Object(n.useState)({cart:{},config:{},checkoutAddresses:{}}),o=Object(d.a)(c,2),i=o[0],l=i.cart,u=i.config,p=i.checkoutAddresses,f=o[1],h=Object(n.useState)(!0),b=Object(d.a)(h,2),g=b[0],v=b[1],C=Object(n.useCallback)((function(e){f((function(t){return Object(s.a)({},t,{cart:e})}))}),[]),E=Object(n.useCallback)((function(e){f((function(t){return Object(s.a)({},t,{checkoutAddresses:e})}))}),[]),O=Object(n.useCallback)((function(e){return f((function(t){return Object(s.a)({},t,{config:e})}))}),[]),j=Object(n.useCallback)((function(){C({})}),[C]),k=Object(n.useCallback)((function(e,t){f((function(a){return Object(s.a)({},a,{cart:Object(s.a)({},a.cart,Object(m.a)({},e,t))})}))}),[]),P=Object(n.useCallback)((function(e){f((function(t){return Object(s.a)({},t,{checkoutAddresses:Object(s.a)({},t.checkoutAddresses,Object(m.a)({},"invoicing",e))})}))}),[]),x=Object(n.useCallback)((function(e){f((function(t){return Object(s.a)({},t,{checkoutAddresses:Object(s.a)({},t.checkoutAddresses,Object(m.a)({},"delivery",e))})}))}),[]),w=Object(n.useCallback)((function(e){f((function(t){var a=Object(s.a)({},t.cart);return delete a[e],Object(s.a)({},t,{cart:a})}))}),[]);Object(n.useEffect)((function(){if(a){var e=function(e){return ce("".concat("cart","_").concat(e))}(a),t=function(e){return ce("".concat("address","_").concat(e))}(a);e&&Object.keys(e).length>0?C(e):C({}),t&&Object.keys(t).length>0?E(t):E({})}}),[a,C,E]),Object(n.useEffect)((function(){a&&l&&function(e,t){oe("".concat("cart","_").concat(t),e)}(l,a)}),[a,l]),Object(n.useEffect)((function(){a&&p&&Object.keys(p).length&&function(e,t){oe("".concat("address","_").concat(t),e)}(p,a)}),[a,p]);var N=Object(n.useCallback)((function(){te.fetchConfiguration().then(O).finally((function(){return v(!1)}))}),[O]);Object(n.useEffect)((function(){N()}),[N]);var A=Object(n.useMemo)((function(){return{cart:l,checkoutAddresses:p,config:u,setCart:C,clearCart:j,setConfig:O,setItem:k,clearItem:w,setInvoicingAddress:P,setDeliveryAddress:x}}),[l,p,u,C,j,O,k,w,P,x]);return g?r.a.createElement(y,null):r.a.createElement(ie.Provider,{value:A},t)},se=a(25),de=a(2),me=Object(f.a)((function(e){return{divider:{borderColor:e.palette.secondary.main}}}));var pe=function(e){var t=e.className,a=Object(se.a)(e,["className"]),n=me();return r.a.createElement("hr",Object.assign({className:Object(de.a)(n.divider,t)},a))},fe=a(67),he=Object(f.a)((function(e){return{row:{display:"flex",marginBottom:e.spacing(.5),justifyContent:"space-between"}}}));function be(e){var t=e.total,a=e.totalLabel,n=e.totalWithoutTax,c=e.totalDiscount,o=e.totalWithoutTaxLabel,i=e.totalTax,l=e.totalTaxLabel,u=e.totalDiscountLabel,s=e.divider,d=e.className,m=he();return r.a.createElement("div",{className:d},s&&r.a.createElement(pe,null),r.a.createElement("div",{className:m.row},r.a.createElement(fe.a,null,o),r.a.createElement(fe.a,null,n)),r.a.createElement("div",{className:m.row},r.a.createElement(fe.a,null,u),r.a.createElement(fe.a,null,c)),r.a.createElement("div",{className:m.row},r.a.createElement(fe.a,null,l),r.a.createElement(fe.a,null,i)),s&&r.a.createElement(pe,null),r.a.createElement("div",{className:m.row},r.a.createElement(fe.a,null,r.a.createElement("b",null,a)),r.a.createElement(fe.a,null,r.a.createElement("b",null,t))))}be.defaultProps={divider:!0,total:"0.00",totalTax:"0.00",totalWithoutTax:"0.00",totalDiscount:"0.00",totalLabel:"Total",totalTaxLabel:"Total Tax",totalWithoutTaxLabel:"Total Without Tax",totalDiscountLabel:"Total Discount"};var ge=be,ve=a(282),ye=a(280),Ce=a(281),Ee=a(162),Oe=a(297),je=a(131),ke=a(93),Pe=a.n(ke),xe=a(64),we=a.n(xe),Ne=a(100),Ae=a(4),Se=Object(Ae.a)((function(){return{root:{position:"relative",width:"100%",overflow:"hidden",backgroundColor:"#ffffff",borderRadius:4},elevation1:{boxShadow:"0px 0px 30px rgba(0,0,0,0.15)"}}}))(Ne.a),Te=a(55),Ie=a(294),De=a(10),Re=Object(f.a)((function(e){return{root:{border:"1px solid #E2E2E1",overflow:"hidden",borderRadius:4,backgroundColor:"white",transition:e.transitions.create(["border-color","box-shadow"]),"&$disabled":{backgroundColor:"#FCFCFB"},"&:hover":{backgroundColor:"#FFFFFF"},"&$focused":{backgroundColor:"#FFFFFF",boxShadow:"".concat(Object(De.c)(e.palette.secondary.main,.25)," 0 0 0 1px"),borderColor:e.palette.secondary.main}},disabled:{},focused:{}}})),qe=Object(f.a)((function(e){return{root:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%","&$filled":{transition:e.transitions.create(["color"]),"&$focused":{color:e.palette.secondary.main}}},error:{},asterisk:{},focused:{},filled:{}}})),Be=r.a.forwardRef((function(e,t){var a=e.error,n=e.readOnly,c=e.InputProps,o=Object(se.a)(e,["error","readOnly","InputProps"]),i=Re(),l=qe();return r.a.createElement(Ie.a,Object.assign({margin:"dense",ref:t,variant:"filled",fullWidth:!0},o,{InputLabelProps:{shrink:!0,classes:l},InputProps:Object(s.a)({readOnly:n,disableUnderline:!0,classes:i},c||{}),error:Boolean(a),helperText:a}))})),Le=a(295),Fe=a(274),Me=a(273),ze=a(24),We=Object(f.a)((function(){return{root:{"&:focus":{backgroundColor:"white"}}}})),_e=Object(f.a)((function(){return{paper:{maxHeight:300}}})),Ue=Object(f.a)((function(e){return{root:{"&$selected":{color:e.palette.secondary.main,backgroundColor:e.palette.secondary.light},"&:hover":{color:e.palette.secondary.main,backgroundColor:e.palette.secondary.light}},selected:{}}})),Qe=Object(f.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center"},paper:{width:"90%",maxWidth:400}}}));function He(e){var t=e.options,a=e.onLoadMore,c=e.showLoadingOption,o=e.onOpen,i=e.onClose,l=Object(se.a)(e,["options","onLoadMore","showLoadingOption","onOpen","onClose"]),u=Object(n.useRef)(),m=Object(n.useState)(null),p=Object(d.a)(m,2),f=p[0],h=p[1],b=Object(ze.a)(),g=Object(Me.a)(b.breakpoints.down("sm")),v=We(),C=_e(),E=Ue(),O=Qe(),j=Object(n.useCallback)((function(e){if(a){var t,n=null===u||void 0===u||null===(t=u.current)||void 0===t?void 0:t.getBoundingClientRect(),r=n.top,c=n.left;h({top:r,left:c})}o&&o(e)}),[a,o]),k=Object(n.useCallback)((function(e){a&&h(null),i&&i(e)}),[a,i]);return r.a.createElement(Be,Object.assign({select:!0,ref:u,SelectProps:{classes:v,MenuProps:Object(s.a)({classes:C},g?{anchorReference:"none",PopoverClasses:O,BackdropProps:{invisible:!1}}:Object(s.a)({},f?{anchorReference:"anchorPosition",anchorPosition:f}:{}),{onScroll:function(e){var t=e.target;t.scrollTop===t.scrollHeight-t.clientHeight&&a&&a()}}),onOpen:j,onClose:k}},l),t.map((function(e){return r.a.createElement(Fe.a,{key:e.value,value:e.value,classes:E},e.label)})),c&&r.a.createElement(Fe.a,{disabled:!0},r.a.createElement(Le.a,{width:"100%"},r.a.createElement(y,null))))}He.defaultProps={options:[]};var Ve=He,Ye=Object(f.a)((function(){return{input:{"&[type=number]":{MozAppearance:"textfield","&::-webkit-outer-spin-button, &::-webkit-inner-spin-button":{WebkitAppearance:"none",margin:0}}}}})),Xe=function(e){var t=e.maxItems,a=e.moreLabel,c=e.name,o=e.onChange,i=e.value,l=Object(se.a)(e,["maxItems","moreLabel","name","onChange","value"]),u=r.a.useState(i>t),s=Object(d.a)(u,2),m=s[0],p=s[1],f=r.a.useRef(),h=Ye(),b=Object(n.useMemo)((function(){return i%1!==0}),[i]);r.a.useEffect((function(){m&&f.current.focus()}),[m]);var g=r.a.useCallback((function(){p(!0)}),[]),v=r.a.useCallback((function(e){"more"===e.target.value?(g(),o({target:{value:t,name:c}})):(o(e),m||document.activeElement&&document.activeElement.blur&&document.activeElement.blur())}),[g,m,o,t,c]);return m||b?r.a.createElement(Be,Object.assign({ref:f,inputProps:{className:h.input},onChange:v,name:c,value:i},l,{type:"number",min:1})):r.a.createElement(Ve,Object.assign({name:c,options:[].concat(Object(Te.a)(Object(Te.a)(Array(t).keys()).map((function(e){return{value:e+1,label:e+1}}))),[{value:"more",label:a}]),onChange:v,value:i},l))};Xe.defaultProps={maxItems:10,moreLabel:"More"};var Ge=Xe,Je=a(276),Ze=a(277),$e=a(278),Ke=a(279),et=a(158),tt=a(159),at=a(61),nt=a(275),rt=a(298),ct=a(132),ot=a(133),it={en:a(135),fr:a(136)},lt=tt.a.createInstance(),ut=navigator.language.includes("fr")?"fr":"en";lt.use(at.e).use(ot.a).use(ct.a).init({lng:ut,fallbackLng:"en",interpolation:{escapeValue:!1},backend:{request:function(e,t,a,n){var r=function(e){return Object(et.a)(/\/locales\/([0-9A-Z_a-z]+)\/translation.json/gm,{lang:1}).exec(e).groups.lang||"en"}(t),c=it[r]||it.en;te.fetchTranslations({keys:Object.keys(c),lang:r}).then((function(e){var t=JSON.stringify(Object.assign({},c,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,a){var n=e[a];return n&&(t[a]=n),t}),{})}(e)));n(null,{status:!0,data:t})}))}},keySeparator:!1});var st=function(e){var t=e.children;return r.a.createElement(nt.a,{i18n:lt},t)},dt=rt.a;function mt(e){var t=dt().t,a=e.open,n=e.onClose,c=e.onConfirm,o=e.onCancel,i=e.children,l=e.title;return r.a.createElement(Je.a,{open:a,onClose:n},r.a.createElement(Ze.a,null,l),r.a.createElement($e.a,null,i),r.a.createElement(Ke.a,null,r.a.createElement(ye.a,{variant:"outlined",onClick:o||n},t("Cancel")),r.a.createElement(ye.a,{onClick:c},t("Confirm"))))}mt.defaultProps={title:"Confirmation Dialog",open:!1,onClose:function(){},onConfirm:function(){}};var pt=mt;function ft(e){var t=e.ButtonProps,a=e.DialogProps,n=e.onConfirm,c=r.a.useState(!1),o=Object(d.a)(c,2),i=o[0],l=o[1],u=r.a.useCallback((function(){l(!0)}),[]),s=r.a.useCallback((function(){l(!1)}),[]),m=r.a.useCallback((function(){s(),n&&n()}),[n,s]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ye.a,{className:t.className,variant:t.variant,onClick:u,disabled:t.disabled},t.label),r.a.createElement(pt,{open:i,onClose:s,onConfirm:m,title:a.title,children:a.children}))}ft.defaultProps={ButtonProps:{},DialogProps:{}};var ht=ft;function bt(e){var t=e.disabled,a=e.onClick,n=dt().t;return r.a.createElement(ht,{ButtonProps:{disabled:t,label:n("Request quotation")},DialogProps:{title:n("Request quotation"),children:n("Confirm quotation request")},onConfirm:a})}function gt(e){var t=e.disabled,a=e.onClick,n=dt().t;return r.a.createElement(ht,{ButtonProps:{disabled:t,label:n("Confirm order")},DialogProps:{title:n("Confirm order"),children:n("Confirm order content")},onConfirm:a})}bt.defaultProps={disabled:!1,onClick:function(){}},gt.defaultProps={disabled:!1,onClick:function(){}};var vt=Object(f.a)({button:{width:150}});function yt(e){var t=e.disabled,a=e.onClick,n=dt().t,c=vt();return r.a.createElement(ye.a,{className:c.button,disabled:t,onClick:a,variant:"outlined"},n("Paybox"))}function Ct(e){var t=e.disabled,a=e.onClick,n=dt().t;return r.a.createElement(ht,{ButtonProps:{disabled:t,label:n("Pay using card")},DialogProps:{title:n("Pay using card"),children:n("Confirm order content")},onConfirm:a})}yt.defaultProps={disabled:!1,onClick:function(){}},Ct.defaultProps={showButton:!1,disabled:!1,onClick:function(){}};var Et=Object(f.a)((function(e){return{paper:{padding:e.spacing(2)},actionContainer:{display:"flex",justifyContent:"center",alignItems:"center"},spaceBetween:{justifyContent:"space-between"},termWrapper:{display:"flex",alignItems:"flex-start",flexDirection:"column",marginTop:e.spacing(2)},term:{display:"flex",alignItems:"center",justifyContent:"flex-start"},termLink:{textDecoration:"none",color:e.palette.secondary.main},actionWrapper:{display:"flex",alignItems:"center",flexDirection:"column",marginTop:e.spacing(2)},actionTitle:{marginBottom:e.spacing()},action:{marginBottom:e.spacing()}}}));function Ot(e){var t=e.total,a=e.totalTax,n=e.totalDiscount,c=e.totalWithoutTax,o=e.message,i=e.PaypalButtonProps,l=e.PayboxButtonProps,u=e.RequestQuotationButtonProps,s=e.PaymentCardButtonProps,d=e.ConfirmOrderButtonProps,p=e.Terms,f=void 0===p?[]:p,h=dt().t,b=Et(),g=f.some((function(e){return e.show}));return r.a.createElement(Se,{className:b.paper},r.a.createElement(fe.a,{variant:"h5"},h("Order summary")),r.a.createElement(ge,{total:t,totalTax:a,totalDiscount:n,totalWithoutTax:c,totalLabel:h("Total"),totalTaxLabel:h("Total tax"),totalWithoutTaxLabel:h("Total without tax"),totalDiscountLabel:h("Total discount")}),r.a.createElement("div",{className:Pe()(b.actionContainer,Object(m.a)({},b.spaceBetween,g))},g&&r.a.createElement("div",{className:b.termWrapper},f.filter((function(e){return e.required&&e.show})).map((function(e,t){return r.a.createElement("div",{className:b.term,key:t},r.a.createElement(Oe.a,{checked:e.checked,onChange:function(t){return e.setChecked(t.target.checked)}}),r.a.createElement("a",{color:"secondary",href:e.fileURL,target:"_blank",rel:"noopener noreferrer",className:b.termLink},h(e.label)))}))),r.a.createElement("div",{className:b.actionWrapper},u.showButton&&r.a.createElement("div",{className:b.action},r.a.createElement(bt,u)),d.showButton&&r.a.createElement("div",{className:b.action},r.a.createElement(gt,d)),s.showButton&&r.a.createElement("div",{className:b.action},r.a.createElement(Ct,s)),l.showButton&&r.a.createElement("div",{className:b.action},r.a.createElement(yt,l)),i.showButton&&r.a.createElement("div",{className:b.action},r.a.createElement(je.PayPalButton,Object.assign({style:{color:"blue",shape:"pill",height:36}},i))),o&&r.a.createElement("div",{className:b.action},r.a.createElement(fe.a,null,o)))))}Ot.defaultProps={message:"",PaypalButtonProps:{},PayboxButtonProps:{},RequestQuotationButtonProps:{},PaymentCardButtonProps:{},ConfirmOrderButtonProps:{}};var jt=Object(f.a)((function(e){return{container:{marginBottom:e.spacing(4)},header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing()},headerAction:{fontSize:"0.7rem"},select:{marginBottom:e.spacing()}}}));function kt(e){var t=e.deliveryAddresses,a=e.invoicingAddresses,n=e.invoicingAddress,c=e.deliveryAddress,o=e.onNewAddress,i=e.onDeliveryAddressChange,l=e.onInvoicingAddressChange,u=dt().t,s=jt();return r.a.createElement("div",{className:s.container},r.a.createElement("div",{className:s.header},r.a.createElement(fe.a,{variant:"h5"},u("Addresses")),r.a.createElement(ye.a,{className:s.headerAction,onClick:o},u("New address"))),r.a.createElement(pe,null),r.a.createElement(ve.a,{container:!0,spacing:4},r.a.createElement(ve.a,{item:!0,xs:12,md:6},r.a.createElement(Ve,{label:u("Invoicing address"),name:"invoicingAddress",value:n.id||"",options:a,className:s.select,onChange:l,required:!0}),r.a.createElement(fe.a,{variant:"body2"},n.displayAddress)),r.a.createElement(ve.a,{item:!0,xs:12,md:6},r.a.createElement(Ve,{label:u("Delivery address"),name:"deliveryAddress",value:c.id||"",options:t,className:s.select,onChange:i,required:!0}),r.a.createElement(fe.a,{variant:"body2"},c.displayAddress))))}function Pt(e){var t=e.value,a=e.onChange,n=e.line,c=Object(se.a)(e,["value","onChange","line"]),o=r.a.useState(Number(t)),i=Object(d.a)(o,2),l=i[0],u=i[1];r.a.useEffect((function(){if(n.overrideInput)u(Number(t));else if(l){var e=Number(l);e>0&&e!==Number(t)&&a(n.productId,Number(l))}}),[l,t,n,a]);var s=r.a.useCallback((function(e){var t=e.target.value;u(t)}),[]),m=r.a.useCallback((function(e){var t=e.target.value;a(n.productId,Number(t))}),[n,a]);return r.a.createElement(Ge,Object.assign({},c,{value:l,onBlur:m,onChange:s}))}kt.defaultProps={deliveryAddress:{},deliveryAddresses:[],invoicingAddress:{},invoicingAddresses:[],onNewAddress:function(){},onDeliveryAddressChange:function(){},onInvoicingAddressChange:function(){}};var xt=Object(f.a)((function(e){return{container:{marginBottom:e.spacing(3)},header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing()},headerAction:{fontSize:"0.7rem"},price:{color:e.palette.secondary.main}}}));function wt(e){var t=e.lines,a=e.onNewProduct,n=e.onProductQuantityChange,c=e.onProductDelete,o=dt().t,i=xt();return r.a.createElement("div",{className:i.container},r.a.createElement("div",{className:i.header},r.a.createElement(fe.a,{variant:"h5"},"".concat(o("Products")," (").concat(t?t.length:0,")")),r.a.createElement(ye.a,{className:i.headerAction,onClick:a},o("Add a product"))),r.a.createElement(pe,null),r.a.createElement(ve.a,{container:!0,spacing:2},t.map((function(e,t){return r.a.createElement(ve.a,{item:!0,xs:12,key:e.productId},r.a.createElement(ve.a,{container:!0,alignItems:"center",spacing:2},r.a.createElement(ve.a,{item:!0,xs:3},r.a.createElement(Pt,{label:o("Quantity"),moreLabel:o("More"),name:"qty",min:1,value:Number(e.qty),line:e,onChange:n})),r.a.createElement(ve.a,{item:!0,xs:5,zeroMinWidth:!0},r.a.createElement(fe.a,{noWrap:!0},e.name)),r.a.createElement(ve.a,{item:!0,xs:2,zeroMinWidth:!0,align:"right"},r.a.createElement(fe.a,{className:i.price,noWrap:!0},e.total)),r.a.createElement(ve.a,{item:!0,xs:2,align:"right"},r.a.createElement(Ce.a,{onClick:function(t){return c(t,e)}},r.a.createElement(we.a,null)))))})),r.a.createElement(ve.a,{item:!0,xs:12,md:6})))}wt.defaultProps={lines:[],onNewProduct:function(){},onProductDelete:function(){},onProductQuantityChange:function(){}};var Nt=Object(f.a)((function(e){return{container:Object(m.a)({padding:e.spacing(4)},e.breakpoints.down("sm"),{padding:e.spacing()}),backdrop:{zIndex:e.zIndex.appBar+1}}}));function At(e){var t=e.total,a=e.totalTax,n=e.totalDiscount,c=e.totalWithoutTax,o=e.productLines,i=e.deliveryAddress,l=e.deliveryAddresses,u=e.invoicingAddress,s=e.invoicingAddresses,m=e.checkingOut,p=e.summaryMessage,f=e.PaypalButtonProps,h=e.PayboxButtonProps,b=e.RequestQuotationButtonProps,g=e.PaymentCardButtonProps,v=e.ConfirmOrderButtonProps,C=e.Terms,E=e.onNewAddress,O=e.onNewProduct,j=e.onProductDelete,k=e.onProductQuantityChange,P=e.onDeliveryAddressChange,x=e.onInvoicingAddressChange,w=dt().t,N=Nt(),A=r.a.useState({open:!1,line:null}),S=Object(d.a)(A,2),T=S[0],I=S[1],D=T.open,R=T.line,q=r.a.useCallback((function(){I({open:!1,line:null})}),[]),B=r.a.useCallback((function(e,t){I({open:!0,line:t})}),[]),L=r.a.useCallback((function(e){j(R.productId),q()}),[j,q,R]);return r.a.createElement("div",{className:N.container},r.a.createElement(ve.a,{container:!0,spacing:4},r.a.createElement(ve.a,{item:!0,xs:12,md:6},r.a.createElement(kt,{deliveryAddress:i,deliveryAddresses:l,invoicingAddress:u,invoicingAddresses:s,onNewAddress:E,onDeliveryAddressChange:P,onInvoicingAddressChange:x}),r.a.createElement(wt,{lines:o,onNewProduct:O,onProductQuantityChange:k,onProductDelete:B})),r.a.createElement(ve.a,{item:!0,xs:12,md:6},r.a.createElement(Ot,{total:t,totalTax:a,totalDiscount:n,totalWithoutTax:c,message:p,PaypalButtonProps:f,PayboxButtonProps:h,RequestQuotationButtonProps:b,PaymentCardButtonProps:g,ConfirmOrderButtonProps:v,Terms:C})),r.a.createElement(pt,{open:D,title:w("Confirm deletion"),onClose:q,onConfirm:L},r.a.createElement(fe.a,null,R&&R.name))),r.a.createElement(Ee.a,{className:N.backdrop,open:m},r.a.createElement(y,null)))}At.defaultProps={productLines:[],deliveryAddress:{},deliveryAddresses:[],invoicingAddress:{},invoicingAddresses:[],summaryMessage:"",PaypalButtonProps:{},PayboxButtonProps:{},RequestQuotationButtonProps:{},PaymentCardButtonProps:{},ConfirmOrderButtonProps:{},onNewAddress:function(){},onNewProduct:function(){},onProductDelete:function(){},onProductQuantityChange:function(){},onDeliveryAddressChange:function(){},onInvoicingAddressChange:function(){}};var St=At,Tt="success",It="failure",Dt=Object(f.a)((function(e){return{paper:{padding:e.spacing(),minHeight:e.spacing(30),display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},button:{marginTop:e.spacing(2)},success:{color:e.palette.success.main},failure:{color:e.palette.error.main}}}));function Rt(e){var t=e.match,a=e.onSuccessRedirect,c=e.onFailureRedirect,o=e.onSuccessMount,i=t.params.messageType,l=void 0===i?Tt:i,u=dt().t,s=Dt(),d=e.successMessage,m=void 0===d?u("Your payment has been successfully completed"):d,p=e.successButtonLabel,f=void 0===p?u("Continue shopping"):p,h=e.failureMessage,b=void 0===h?u("Your payment could not be completed"):h,g=e.failureButtonLabel,v=void 0===g?u("Continue checkout"):g,y=null;switch(l){case Tt:y=r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,{variant:"h5",className:s.success},m),r.a.createElement(ye.a,{onClick:a,className:s.button},f));break;case It:y=r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,{variant:"h5",className:s.failure},b),r.a.createElement(ye.a,{onClick:c,className:s.button},v));break;default:y=null}return Object(n.useEffect)((function(){l===Tt&&o&&o()}),[l,o]),r.a.createElement(Se,{className:s.paper},y)}Rt.defaultProps={onFailureRedirect:function(){},onSuccessRedirect:function(){}};var qt=Rt;function Bt(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),o=Object(d.a)(c,2),i=o[0],l=o[1],u=Object(n.useState)(!1),s=Object(d.a)(u,2),m=s[0],p=s[1];return[{checked:a,file:i,required:m},Object(n.useMemo)((function(){return{setChecked:r,setFile:l,setRequired:p}}),[])]}var Lt=function(e){var t=e.match,a=e.history,c=e.onRedirectToOrder,o=e.onRedirectToQuotation,i=e.onRedirectToCheckoutMessage,l=t.url,u=dt().t,m=Object(h.b)().enqueueSnackbar,p=le(),f=p.cart,b=p.setItem,g=p.clearItem,v=p.clearCart,C=p.setCart,E=p.checkoutAddresses,O=p.setInvoicingAddress,j=p.setDeliveryAddress,k=Object(n.useState)(!0),P=Object(d.a)(k,2),x=P[0],w=P[1],N=Object(n.useState)(!1),A=Object(d.a)(N,2),S=A[0],T=A[1],I=Object(n.useState)({}),D=Object(d.a)(I,2),R=D[0],q=D[1],B=Object(n.useState)([]),L=Object(d.a)(B,2),F=L[0],M=L[1],z=Object(n.useState)([]),W=Object(d.a)(z,2),_=W[0],U=W[1],Q=Object(n.useState)({}),H=Object(d.a)(Q,2),V=H[0],Y=H[1],X=Object(n.useState)({}),G=Object(d.a)(X,2),J=G[0],Z=G[1],$=Object(n.useState)(),K=Object(d.a)($,2),ee=K[0],ae=K[1],ne=Object(n.useState)(!1),re=Object(d.a)(ne,2),ce=re[0],oe=re[1],ie=Object(n.useState)(!1),ue=Object(d.a)(ie,2),se=ue[0],de=ue[1],me=Bt(),pe=Object(d.a)(me,2),fe=pe[0],he=pe[1],be=Bt(),ge=Object(d.a)(be,2),ve=ge[0],ye=ge[1],Ce=Bt(),Ee=Object(d.a)(Ce,2),Oe=Ee[0],je=Ee[1],ke=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.find((function(t){return t.id.toString()===e.toString()}))}),[]),Pe=Object(n.useCallback)((function(){te.checkCart(f).then((function(e){var t=e.itemsChanged,a=e.lines,n=(void 0===a?[]:a).find((function(e){return"service"!==e.productTypeSelect&&0===Number(e.qty)}));if(t||n){var r=e.lines.reduce((function(e,t){return Number(t.qty)&&(e[t.productId]=Number(t.qty)),e}),{});C(r),e.lines=e.lines.map((function(e){var t=e.productId,a=e.qty,n=f[t];return Number(a)<Number(n)&&(e.overrideInput=!0),e})),m(u("One or multiple items have changed in your cart"),{variant:"error"})}q(e)})),w(!1)}),[f,C,u,m]),xe=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=t.find((function(t){return t.id===e}));n&&a(n)}),[]),we=Object(n.useCallback)((function(e){var t=e.target.value;xe(t,F,(function(e){Y(e),j(t)}))}),[F,xe,j]),Ne=Object(n.useCallback)((function(e){var t=e.target.value;xe(t,_,(function(e){Z(e),O(t)}))}),[_,xe,O]),Ae=Object(n.useCallback)((function(){a.replace("/eshop")}),[a]),Se=Object(n.useCallback)((function(){Ae()}),[Ae]),Te=Object(n.useCallback)((function(){a.push({pathname:"/eshop/address/new",state:{fromUrl:l}})}),[a,l]),Ie=Object(n.useCallback)((function(e,t){b(e,t)}),[b]),De=Object(n.useCallback)((function(e){g(e)}),[g]),Re=Object(n.useCallback)((function(e,t){v(),m(u("Thank you for shopping"),{variant:"success"}),t&&c&&e&&e.id?o(e):c&&e&&e.id?c(e):Ae()}),[v,c,o,Ae,u,m]),qe=Object(n.useCallback)((function(e){T(!0),te.checkoutPaypal({paypalPaymentData:e,orderData:{deliveryAddress:V,invoicingAddress:J,cart:f}}).then((function(e){T(!1),Re(e)})).catch((function(){T(!1),m(u("Error"),{variant:"error"})}))}),[V,J,f,Re,u,m]),Be=Object(n.useCallback)((function(){T(!0),te.checkoutPaymentCard({cardId:"",orderData:{deliveryAddress:V,invoicingAddress:J,cart:f}}).then((function(e){T(!1),i(Tt)})).catch((function(e){var t=e.message,a=void 0===t?u("Your payment could not be completed"):t;T(!1),m(a,{variant:"error"})}))}),[u,V,J,f,m,i]),Le=Object(n.useCallback)((function(){T(!0),te.checkoutPaybox({orderData:{deliveryAddress:V,invoicingAddress:J,cart:f}}).then((function(e){if(!e||!e.url)throw new Error("Checkout Error.");var t=document.createElement("a");t.href=e.url,t.click()})).catch((function(e){var t=e.message,a=void 0===t?u("Your payment could not be completed"):t;T(!1),m(a,{variant:"error"})}))}),[u,V,J,f,m]),Fe=Object(n.useCallback)((function(){T(!0),te.checkoutQuotation({orderData:{deliveryAddress:V,invoicingAddress:J,cart:f}}).then((function(e){T(!1),Re(e,!0)})).catch((function(e){var t=e.message,a=void 0===t?u("Error requesting quotation. Please try again"):t;T(!1),m(a,{variant:"error"})}))}),[u,V,J,f,m,Re]),Me=Object(n.useCallback)((function(){de(!0)}),[]);Object(n.useEffect)((function(){te.fetchAddresses().then((function(e){if(e.data&&e.data.length){var t=e.data.map((function(e){return Object.assign(e,{value:e.id,label:"".concat(e.address||""," ").concat(e.addressComplement||"")})}));M(t),U(t)}}))}),[]),Object(n.useEffect)((function(){var e=function(e,t,a){e.length&&a(t&&ke(t,e)||e[0])};e(F,E.delivery,Y),e(_,E.invoicing,Z)}),[F,_,E,j,O,ke]),Object(n.useEffect)((function(){te.fetchPaypalMerchantId().then((function(e){ae(e.merchantId)}))}),[]),Object(n.useEffect)((function(){te.fetchConfiguration().then((function(e){e.isQuotationRequestActive&&oe(!0);var t=e.isDataPolicyRequired,a=e.dataPolicyMetaFile,n=e.isReturnPolicyRequired,r=e.returnPolicyMetaFile,c=e.isTermRequired,o=e.termMetaFile;t&&(he.setRequired(!0),he.setFile(a)),n&&(ye.setRequired(!0),ye.setFile(r)),c&&(je.setRequired(!0),je.setFile(o))}))}),[he,ye,je]),Object(n.useEffect)((function(){Pe()}),[Pe]);var ze=!(R&&R.lines&&R.lines.length),We=R.paymentModes,_e=void 0===We?[]:We,Ue=!_e.includes("paypal"),Qe=!_e.includes("paybox"),He=!_e.includes("stripe"),Ve=R.original,Ye=(Ve=void 0===Ve?{}:Ve).total,Xe=void 0===Ye?"0.00":Ye,Ge=R.currency,Je=(Ge=void 0===Ge?{}:Ge).code,Ze=void 0===Je?"EUR":Je,$e="ASy1XUfHggv3ks14uZrSWfIvqzj-L10aqlEANsGXhW1dBeHWCFYSCuw-yFIeUhik8GrUHpzQSq-Lr7lM",Ke=Object(n.useMemo)((function(){return{showButton:ee&&!ze&&!Ue&&se,amount:Xe,onSuccess:qe,options:{clientId:$e,merchantId:ee,currency:Ze,disableFunding:"card"}}}),[qe,Xe,$e,ee,ze,Ze,Ue,se]),et=Boolean(_e&&_e.length),tt=et?"":u("Eshop not processing checkout"),at=Object(n.useMemo)((function(){return{showButton:!He&&se,disabled:ze,onClick:Be}}),[ze,Be,He,se]),nt=Object(n.useMemo)((function(){return{showButton:!Qe&&se,disabled:ze,onClick:Le}}),[ze,Le,Qe,se]),rt=Object(n.useMemo)((function(){return[fe,ve,Oe].reduce((function(e,t){return!!e&&(t.required&&!t.checked&&(e=!1),e)}),!0)}),[fe,ve,Oe]),ct=Object(n.useMemo)((function(){return{showButton:!se,disabled:!rt||ze||!et,onClick:Me}}),[rt,se,Me,ze,et]),ot=Object(n.useMemo)((function(){return{showButton:ce&&!se,disabled:!rt||ze,onClick:Fe}}),[rt,ce,ze,Fe,se]),it=Object(n.useMemo)((function(){return Object(s.a)({},fe,{},he,{show:!se,fileURL:te.getMetafileURL(fe.file),label:u("Data Term")})}),[fe,he,se,u]),lt=Object(n.useMemo)((function(){return Object(s.a)({},ve,{},ye,{show:!se,fileURL:te.getMetafileURL(ve.file),label:u("Return Policy Term")})}),[ve,ye,se,u]),ut=Object(n.useMemo)((function(){return Object(s.a)({},Oe,{},je,{show:!se,fileURL:te.getMetafileURL(Oe.file),label:u("Term")})}),[Oe,je,se,u]),st=Object(n.useMemo)((function(){return[it,lt,ut]}),[it,lt,ut]);return x?r.a.createElement(y,null):r.a.createElement(St,{total:R.total,totalTax:R.totalTax,totalDiscount:R.totalDiscount,totalWithoutTax:R.totalWithoutTax,productLines:R.lines,deliveryAddress:V,deliveryAddresses:F,invoicingAddress:J,invoicingAddresses:_,checkingOut:S,summaryMessage:tt,PaypalButtonProps:Ke,PayboxButtonProps:nt,PaymentCardButtonProps:at,ConfirmOrderButtonProps:ct,RequestQuotationButtonProps:ot,Terms:st,onNewAddress:Te,onNewProduct:Se,onProductDelete:De,onProductQuantityChange:Ie,onDeliveryAddressChange:we,onInvoicingAddressChange:Ne})},Ft=a(284),Mt=a(283),zt=a(141),Wt=a.n(zt),_t=a(140),Ut=(a(215),Object(f.a)((function(e){return{carousel:{"& li.slide":{backgroundColor:"transparent"}},indicator:{background:"transparent",width:10,height:10,borderRadius:"50%",display:"inline-block",border:"1px solid",borderColor:e.palette.secondary.main,margin:"0 8px",cursor:"pointer"},selected:{backgroundColor:e.palette.secondary.main},image:{height:350,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain"}}})));var Qt=function(e){var t=e.images,a=Ut(),n=r.a.useCallback((function(e,t,n,c){return t?r.a.createElement("li",{className:Object(de.a)(a.indicator,a.selected),"aria-label":"Selected: ".concat(c," ").concat(n+1),title:"Selected: ".concat(c," ").concat(n+1)}):r.a.createElement("li",{className:a.indicator,onClick:e,onKeyDown:e,value:n,key:n,role:"button",tabIndex:0,title:"".concat(c," ").concat(n+1),"aria-label":"".concat(c," ").concat(n+1)})}),[a]);return t&&t.length?r.a.createElement(_t.Carousel,{showStatus:!1,showArrows:!1,showThumbs:!1,swipeable:!0,emulateTouch:!0,renderIndicator:n,className:a.carousel},t.map((function(e,t){return r.a.createElement("div",{key:t,style:{backgroundImage:"url(".concat(e,")")},className:a.image})}))):null},Ht=Object(f.a)((function(e){return{tag:{height:60,borderRadius:4,display:"flex",alignItems:"center",padding:e.spacing(2),backgroundColor:e.palette.secondary.main,marginBottom:e.spacing(2)},tagLabel:{color:"#FFFFFF",fontWeight:"bold"},paper:{padding:e.spacing(2)},productTitle:{fontWeight:"bold"},chip:{backgroundColor:e.palette.secondary.light,borderRadius:4,color:e.palette.secondary.main,padding:e.spacing(),marginRight:e.spacing()},productOriginalPrice:{textDecoration:"line-through",color:"#000000"},productPrice:{color:e.palette.secondary.main}}}));function Vt(e){var t=e.product,a=e.quantity,n=e.complementaryProducts,c=e.allowOutOfStock,o=e.onQuantityChange,i=e.onAddProduct,l=e.onComplementaryProductChange,u=dt().t,s=Ht(),d=!c&&t.unavailable,p=t._displayDiscountPercentage,f=t._displayDiscountPrice,h=d?u("Unavailable"):p?"".concat(p," ").concat(u("Discount")):"",b=t._categories&&t._categories.length?t._categories.map((function(e){return r.a.createElement("span",{className:s.chip,key:e.id},e.name)})):null,g=r.a.createElement(fe.a,{variant:"h6",className:s.productPrice},r.a.createElement("span",{className:Object(de.a)(Object(m.a)({},s.productOriginalPrice,f))},t._displayPrice),"\xa0",f);return r.a.createElement(r.a.Fragment,null,h&&r.a.createElement("div",{className:s.tag},r.a.createElement(fe.a,{className:s.tagLabel,variant:"h5"},h)),r.a.createElement(Se,{className:s.paper},r.a.createElement(ve.a,{container:!0,spacing:3},r.a.createElement(ve.a,{item:!0,xs:12},r.a.createElement(fe.a,{className:s.productTitle,variant:"h4",noWrap:!0},t.name)),r.a.createElement(ve.a,{item:!0,xs:12},r.a.createElement(fe.a,{dangerouslySetInnerHTML:{__html:t.description}})),r.a.createElement(ve.a,{item:!0,xs:12},b),n&&Boolean(n.length)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ve.a,{item:!0,xs:12},r.a.createElement(fe.a,{gutterBottom:!0,variant:"h6"},u("Complementary Products")),r.a.createElement(Mt.a,null),n.map((function(e){return r.a.createElement(Ft.a,{key:e.id,control:r.a.createElement(Oe.a,{onChange:function(t){var a=t.target.checked;l(t,e,{checked:a})},checked:e.checked,disabled:!e.optional}),label:e.name})})),r.a.createElement(Mt.a,null))),r.a.createElement(ve.a,{item:!0,xs:12},g),r.a.createElement(ve.a,{item:!0,xs:12},r.a.createElement(ve.a,{container:!0,spacing:1,alignItems:"center"},r.a.createElement(ve.a,{item:!0,xs:12,md:6},r.a.createElement(Ge,{name:"quantity",label:u("Quantity"),value:a,disabled:d,moreLabel:u("More"),onChange:o})),r.a.createElement(ve.a,{item:!0,xs:12,md:6,align:"center"},r.a.createElement(ye.a,{disabled:d,onClick:i,startIcon:r.a.createElement(Wt.a,null)},u("Add to cart"))))))))}Vt.defaultProps={product:{},quantity:1,onQuantityChange:function(){},onAddProduct:function(){}};var Yt=function(e){var t=e.match,a=void 0===t?{}:t,c=e.history,o=a.params,i=(void 0===o?{}:o).productId,l=le(),u=l.cart,m=l.setItem,p=l.config,f=Object(n.useState)(1),h=Object(d.a)(f,2),b=h[0],g=h[1],v=Object(n.useState)(null),y=Object(d.a)(v,2),C=y[0],E=y[1],O=Object(n.useState)([]),j=Object(d.a)(O,2),k=j[0],P=j[1],x=Object(n.useCallback)((function(){var e=(u[C.id]||0)+Number(b);m(C.id,e),k.forEach((function(e){e.checked&&m(e.id,e.qty+(u[e.id]||0))}))}),[b,C,u,m,k]),w=Object(n.useCallback)((function(e){return g(Number(e.target.value))}),[]),N=Object(n.useCallback)((function(e,t,a){P((function(e){return e.map((function(e){return e.id===t.id?Object(s.a)({},e,{},a):e}))}))}),[]);return Object(n.useEffect)((function(){te.fetchProduct(i).then((function(e){e&&e.id?(E(e),P(e.complementaryProducts.map((function(e){return Object(s.a)({},e,{checked:!e.optional})})))):c.replace("/eshop")}))}),[c,i]),C?r.a.createElement(ve.a,{container:!0,spacing:1},r.a.createElement(ve.a,{item:!0,xs:12,md:3},r.a.createElement(Qt,{images:C.images})),r.a.createElement(ve.a,{item:!0,xs:12,md:9},r.a.createElement(Vt,{allowOutOfStock:p.isAllowOutOfStock,product:C,complementaryProducts:k,quantity:b,onAddProduct:x,onQuantityChange:w,onComplementaryProductChange:N}))):null},Xt=a(31),Gt=a.n(Xt),Jt=a(47),Zt=a(143),$t=a.n(Zt),Kt=a(142),ea=a.n(Kt),ta=Object(f.a)((function(e){return{paper:{padding:e.spacing(.5),display:"flex",width:"fit-content",alignItems:"center"}}}));var aa=function(e){var t=e.onNext,a=e.onPrevious,n=e.label,c=e.disableNext,o=e.disablePrevious,i=ta();return r.a.createElement("div",{className:i.paper},r.a.createElement(fe.a,null,n),"\xa0\xa0",r.a.createElement(Ce.a,{size:"small",onClick:a,disabled:o},r.a.createElement(ea.a,null)),"\xa0\xa0",r.a.createElement(Ce.a,{size:"small",onClick:t,disabled:c},r.a.createElement($t.a,null)),"\xa0\xa0")},na=a(299),ra=Object(f.a)((function(e){return{chip:{color:"#616161"},icon:{backgroundColor:"".concat(e.palette.secondary.main,"09")},iconSelected:{color:e.palette.secondary.main},chipSelected:{color:e.palette.secondary.main,backgroundColor:e.palette.secondary.light},chipClickable:{"&:focus, &:hover":{backgroundColor:e.palette.secondary.light}}}}));function ca(e){var t=e.icon,a=e.label,n=e.isSelected,c=e.onClick,o=e.className,i=ra();return r.a.createElement(na.a,{label:a,icon:t&&r.a.createElement(t,{fontSize:"small",classes:{root:Object(de.a)(i.icon,Object(m.a)({},i.iconSelected,n))}}),classes:{root:Object(de.a)(i.chip,Object(m.a)({},i.chipSelected,n),o),clickable:i.chipClickable},onClick:c})}ca.defaultProps={Icon:function(){return null},onClick:function(){}};var oa=ca,ia=Object(f.a)((function(e){return{chipContainer:{display:"flex",flexWrap:"wrap",marginBottom:e.spacing(2)},chip:{margin:e.spacing(.3)}}})),la=function(e){var t=e.categories,a=e.selectedCategoryId,n=e.onCategoryClick,c=ia();return r.a.createElement("div",{className:c.chipContainer},t.map((function(e){return r.a.createElement(oa,{className:c.chip,key:e.id,label:e.name,isSelected:a===e.id,onClick:function(){return t=e.id,void(n&&n(t));var t}})})))},ua=a(144),sa=a.n(ua),da=Object(f.a)((function(){return{root:{"& svg":{color:"#616161"},"& label.Mui-focused":{color:"#616161"},"& .MuiInput-underline:after, & .MuiInput-underline:before,& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottomColor:"#616161"}}}}));var ma=function(e){var t=da();return r.a.createElement(Ie.a,Object.assign({},e,{color:"default",classes:t,variant:"standard",InputProps:{disableUnderline:!1,endAdornment:r.a.createElement(sa.a,null)}}))};var pa=function(e){var t=e.value,a=e.onChange,n=dt().t,c=r.a.useState(t),o=Object(d.a)(c,2),i=o[0],l=o[1],u=function(e,t){var a=r.a.useRef(null),n=function(){return a.current&&clearTimeout(a.current)},c=function(e){return a.current=setTimeout(e,t)};return r.a.useEffect((function(){return function(){return n()}}),[]),function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];n(),c((function(){return e.apply(void 0,a)}))}}(a,300);return r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},r.a.createElement(ma,{name:"search",placeholder:n("Search"),onChange:function(e){var t=e.target.value;l(t),u(t)},value:i}))};var fa=function(e){var t=e.values,a=e.ValueUniqueKey,n=void 0===a?"id":a,c=e.ItemContainerProps,o=void 0===c?{}:c,i=e.noRecordLabel,l=void 0===i?"No record found":i,u=e.renderItem,d=void 0===u?function(){return null}:u;return r.a.createElement(ve.a,{container:!0,spacing:3},t&&t.length?t.map((function(e,t){return r.a.createElement(ve.a,function(e,t){return Object(s.a)({item:!0,xs:12,sm:4,md:3,key:e[n]||t},o)}(e,t),d(e))})):r.a.createElement(ve.a,{item:!0,xs:12},r.a.createElement(fe.a,null,l)))},ha=Object(f.a)((function(e){return{tag:{position:"absolute",padding:e.spacing(.5),backgroundColor:e.palette.secondary.main,color:"#FFFFFF",right:0,bottom:function(t){return e.spacing(2)}}}}));function ba(e){var t=e.product,a=e.allowOutOfStock,n=ha(),c=dt().t;return!a&&t.unavailable?r.a.createElement(Le.a,{boxShadow:3,className:n.tag},c("Unavailable")):t._displayDiscountPercentage?r.a.createElement(Le.a,{boxShadow:3,className:n.tag},t._displayDiscountPercentage):null}var ga=Object(f.a)((function(e){return{container:{padding:e.spacing(2),overflow:"hidden",display:"flex",flexDirection:"column",flexGrow:1,justifyContent:"space-between",minHeight:e.spacing(6)},productName:{fontWeight:"bold"},productDescription:{display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":2,overflow:"hidden","& > *:first-child":{margin:0}},productPrice:{color:e.palette.secondary.main,marginTop:e.spacing()},productDiscountedDisplayPrice:{textDecoration:"line-through",color:"black"}}}));function va(e){var t=e.product,a=void 0===t?{}:t,c=a&&a.images&&a.images[0],o=ga({hasImage:c}),i=a._displayDiscountPrice?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:o.productDiscountedDisplayPrice},a._displayPrice),"\xa0\xa0",a._displayDiscountPrice):a._displayPrice,l=Object(n.useMemo)((function(){var e=document.createElement("p");return e.innerHTML=a.description,e.innerText}),[a.description]);return r.a.createElement("div",{className:o.container},r.a.createElement(Le.a,{pb:1},r.a.createElement(fe.a,{variant:"h5",className:o.productName,noWrap:!0},a.name)),r.a.createElement(Le.a,{className:o.productDescription},r.a.createElement(fe.a,null,l)),r.a.createElement(fe.a,{variant:"body2",className:o.productPrice},i))}var ya=Object(f.a)((function(e){return{productImage:function(e){var t=e.image;return{position:"relative",display:"flex",justifyContent:"center",width:138,overflow:"hidden",flexShrink:0,backgroundPosition:"center",backgroundImage:"url(".concat(t,")"),backgroundRepeat:"no-repeat",backgroundSize:"contain"}}}}));function Ca(e){var t=e.product,a=t&&t.images&&t.images[0],n=ya({image:a});return a?r.a.createElement("div",{className:n.productImage}):null}var Ea=Object(f.a)((function(e){return{paper:{display:"flex",cursor:"pointer",height:e.spacing(18.25)}}}));var Oa=function(e){var t=e.product,a=void 0===t?{}:t,n=e.allowOutOfStock,c=e.onClick,o=Ea(),i=r.a.useCallback((function(e){c&&c(e,a.id)}),[c,a]);return r.a.createElement(Se,{className:o.paper,onClick:i},r.a.createElement(va,{product:a}),r.a.createElement(Ca,{product:a}),r.a.createElement(ba,{product:a,allowOutOfStock:n}))},ja=Object(f.a)((function(e){return{badge:{color:"white",width:"fit-content",minWidth:18,height:18,fontSize:"0.675rem",borderRadius:20,display:"inline-flex",alignItems:"center",justifyContent:"center",paddingLeft:2,paddingRight:2,boxSizing:"border-box",backgroundColor:e.palette.secondary.main}}}));function ka(e){var t=e.value,a=e.className,n=ja();return r.a.createElement("div",{className:Object(de.a)(n.badge,a)},t)}var Pa=Object(f.a)((function(e){return{container:{position:"relative",width:"100%"},badge:{position:"absolute",top:e.spacing(),right:e.spacing(),zIndex:1}}})),xa=function(e){var t=e.count,a=void 0===t?0:t,n=Object(se.a)(e,["count"]),c=Pa();return r.a.createElement("div",{className:c.container},a?r.a.createElement(ka,{value:a,className:c.badge}):null,r.a.createElement(Oa,n))};function wa(e){var t=e.loading,a=e.products,n=e.allowOutOfStock,c=e.onClick,o=dt().t;return t?r.a.createElement(y,null):r.a.createElement(fa,{values:a,ItemContainerProps:{md:4},renderItem:function(e){return r.a.createElement(xa,{allowOutOfStock:n,product:e,count:e.count,onClick:c})},noRecordLabel:o("No record found")})}wa.defaultProps={products:[],loading:!1,onClick:function(){}};var Na=wa;var Aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:0,limit:25},t=r.a.useState(e),a=Object(d.a)(t,2),n=a[0],c=a[1],o=r.a.useCallback((function(e){return c((function(t){return Object(s.a)({},t,{page:e})}))}),[]),i=r.a.useCallback((function(){return c((function(e){return Object(s.a)({},e,{page:e.page+1})}))}),[]),l=r.a.useCallback((function(){return c((function(e){return Object(s.a)({},e,{page:e.page-1})}))}),[]),u=r.a.useMemo((function(){return{changePage:o,nextPage:i,previousPage:l}}),[i,l,o]);return[n,u]},Sa=Object(f.a)({header:{display:"flex",flexDirection:"column"},filters:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"}}),Ta={id:-1,name:"All"};var Ia=function(e){var t=e.match,a=e.history,c=e.location,o=t.url,i=Sa(),l=dt().t,u=Aa({limit:25,page:(c.state||{}).page||0}),m=Object(d.a)(u,2),p=m[0],f=m[1],h=p.limit,b=p.page,g=le(),v=g.cart,C=void 0===v?{}:v,E=g.config,O=void 0===E?{}:E,j=Object(n.useState)({products:[],totalProducts:0,loadingProducts:!0}),k=Object(d.a)(j,2),P=k[0],x=P.loadingProducts,w=P.products,N=P.totalProducts,A=k[1],S=Number(c&&c.search&&new URLSearchParams(c.search).get("categoryid")),T=Object(n.useState)({categories:[Ta],selectedCategoryId:S||-1,loadingCategories:!0}),I=Object(d.a)(T,2),D=I[0],R=D.loadingCategories,q=D.categories,B=D.selectedCategoryId,L=I[1],F=Object(n.useState)(void 0),M=Object(d.a)(F,2),z=M[0],W=M[1],_=Object(n.useCallback)((function(e){f.changePage(e),a.replace({pathname:o,state:{page:e},search:c.search})}),[o,a,c,f]);Object(n.useEffect)((function(){function e(){return(e=Object(Jt.a)(Gt.a.mark((function e(){return Gt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L((function(e){return Object(s.a)({},e,{loadingCategories:!0})})),te.fetchCategories().then((function(e){L((function(t){return Object(s.a)({},t,{categories:[Ta].concat(e),loadingCategories:!1})}))})).catch((function(){L((function(e){return Object(s.a)({},e,{loadingCategories:!1})}))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(Jt.a)(Gt.a.mark((function e(){var t,a;return Gt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A((function(e){return Object(s.a)({},e,{loadingProducts:!0})})),t={limit:h,page:b+1,searchInput:z},a=function(e){var t=e.data,a=e.total;a<e.offset?_(0):A({products:t.map((function(e){return Object(s.a)({},e,{count:C[e.id]})})),totalProducts:a,loadingProducts:!1})},(-1===B?te.fetchProducts(t):te.fetchCategoryProducts(B,t)).then(a).catch((function(){A((function(e){return Object(s.a)({},e,{loadingProducts:!1})}))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[B,h,b,z,C,_]);var U=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;a.replace({pathname:o,search:"?categoryid=".concat(Number(e))}),f.changePage(0),L((function(t){return Object(s.a)({},t,{selectedCategoryId:Number(e)})}))}),[a,o,f]),Q=Object(n.useCallback)((function(e,t){a.push({pathname:"".concat(o,"/product/").concat(t),state:{page:b},search:c.search})}),[a,o,b,c]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:i.header},r.a.createElement("div",{className:i.filters},R?r.a.createElement(y,null):r.a.createElement(la,{categories:q,selectedCategoryId:B,onCategoryClick:U}),r.a.createElement(pa,{value:z,onChange:W})),r.a.createElement(aa,{label:"".concat(l("Products")," : ").concat(N?b*h+1:0," to ").concat(Math.min(b*h+h,N)||0," of ").concat(N),onNext:f.nextPage,onPrevious:f.previousPage,disablePrevious:0===b,disableNext:(b+1)*h>=N})),r.a.createElement("div",null,r.a.createElement(fe.a,{gutterBottom:!0},r.a.createElement("i",null,"".concat(O.isAti?l("All prices include taxes"):l("All prices are tax free"))))),r.a.createElement(Na,{allowOutOfStock:O.isAllowOutOfStock,loading:x,onClick:Q,products:w}))};var Da=function(e){var t=e.match,a=e.history,c=t.path,o=t.url,i=le().clearCart,l=Object(n.useCallback)((function(){a.replace("".concat(o,"/checkout"))}),[a,o]),s=Object(n.useCallback)((function(){a.replace(o)}),[a,o]),d=Object(n.useCallback)((function(e){a.replace("".concat(o,"/checkout/").concat(e))}),[a,o]);return r.a.createElement(u.g,null,r.a.createElement(u.d,{path:"".concat(c,"/checkout/:messageType"),render:function(e){return r.a.createElement(qt,Object.assign({},e,{onSuccessMount:i,onSuccessRedirect:s,onFailureRedirect:l}))}}),r.a.createElement(u.d,{path:"".concat(c,"/checkout"),render:function(e){return r.a.createElement(Lt,Object.assign({},e,{onRedirectToCheckoutMessage:d}))}}),r.a.createElement(u.d,{path:"".concat(c,"/product/:productId"),component:Yt}),r.a.createElement(u.d,{path:c,component:Ia}),r.a.createElement(u.c,{to:c}))};var Ra=function(e){var t=e.match.path;return r.a.createElement(u.g,null,r.a.createElement(u.d,{path:t,component:Da}),r.a.createElement(u.c,{to:t}))},qa=a(84),Ba=a.n(qa),La=Object(f.a)((function(e){return{paper:{height:138,padding:e.spacing()},action:{display:"flex",justifyContent:"flex-end"}}}));function Fa(e){var t=e.address,a=e.onDelete,n=e.onEdit,c=La();return r.a.createElement(Se,{className:c.paper},r.a.createElement(ve.a,{container:!0,justify:"center",spacing:2},r.a.createElement(ve.a,{item:!0,xs:12},r.a.createElement("div",{className:c.action},r.a.createElement(Ce.a,{size:"small",onClick:function(e){return n(e,t)}},r.a.createElement(Ba.a,null)),r.a.createElement(Ce.a,{size:"small",onClick:function(e){return a(e,t)}},r.a.createElement(we.a,null)))),r.a.createElement(ve.a,{item:!0,xs:12},r.a.createElement(fe.a,null,t.displayAddress))))}Fa.defaultProps={onDelete:function(){},onEdit:function(){}};var Ma=Fa;function za(e){var t=e.addresses,a=e.onDelete,n=e.onEdit,c=dt().t;return r.a.createElement(fa,{values:t,noRecordLabel:c("No record found"),renderItem:function(e){return r.a.createElement(Ma,{address:e,onDelete:a,onEdit:n})}})}za.defaultProps={addresses:[],onDelete:function(){}};var Wa=za,_a=Object(f.a)((function(e){return{header:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(2)},headerAction:{fontSize:"0.7rem"}}}));function Ua(e){var t=e.onNew,a=e.onEdit,c=_a(),o=dt().t,i=Object(h.b)().enqueueSnackbar,l=Object(n.useState)({addresses:[],address:null,loading:!0,dialogOpen:!1}),u=Object(d.a)(l,2),m=u[0],p=m.loading,f=m.addresses,b=m.address,g=m.dialogOpen,v=u[1];function C(){v((function(e){return Object(s.a)({},e,{address:null,dialogOpen:!1})}))}return Object(n.useEffect)((function(){te.fetchAddresses().then((function(e){var t=e.data;v((function(e){return Object(s.a)({},e,{addresses:t,loading:!1})}))})).catch((function(){v((function(e){return Object(s.a)({},e,{loading:!1})}))}))}),[]),p?r.a.createElement(y,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c.header},r.a.createElement(fe.a,{variant:"h5"},o("Addresses")),r.a.createElement(ye.a,{className:c.headerAction,onClick:t},o("New address"))),r.a.createElement(Wa,{addresses:f,onDelete:function(e,t){v((function(e){return Object(s.a)({},e,{address:t,dialogOpen:!0})}))},onEdit:a}),r.a.createElement(pt,{onConfirm:function(){var e=b.id;te.deleteAddress(e).then((function(){return function(e){v((function(t){return Object(s.a)({},t,{addresses:f.filter((function(t){return t.id!==e}))})}))}(e)})).catch((function(){i(o("Error"),{variant:"error"})})).finally(C)},onClose:C,title:o("Confirm deletion"),open:g},r.a.createElement("p",null,b&&b.address)))}Ua.defaultProps={onNew:function(){},onEdit:function(){}};var Qa=Ua,Ha=a(87),Va=a(147),Ya=a.n(Va),Xa=Object(f.a)((function(e){return{paper:{padding:e.spacing(),overflow:"visible"}}}));function Ga(e){var t=e.errors,a=e.values,n=e.cities,c=e.countries,o=e.disabled,i=e.layout,l=e.fetchingCities,u=e.onChange,s=e.onSubmit,d=e.onClear,m=e.onLoadMoreCities,p=Xa(),f=dt().t,h={address:r.a.createElement(Be,{name:"address",label:f("Address"),value:a.address,error:t.address,onChange:u,disabled:o,required:!0}),addressComplement:r.a.createElement(Be,{name:"addressComplement",label:f("Complement"),value:a.addressComplement,onChange:u,disabled:o}),country:r.a.createElement(Ve,{name:"country",label:f("Country"),value:a.country,options:c,error:t.country,onChange:u,disabled:o,required:!0}),city:r.a.createElement(Le.a,{display:"flex",alignItems:"center"},r.a.createElement(Ve,{name:"city",label:f("City"),value:a.city,options:n,error:t.city,onChange:u,disabled:o,onLoadMore:m,showLoadingOption:l}),(null===a||void 0===a?void 0:a.city)&&r.a.createElement(Le.a,{mt:1,mb:.5,ml:.5},r.a.createElement(Ce.a,{size:"small",onClick:function(){return d("city")}},r.a.createElement(Ya.a,{fontSize:"small"})))),zipCode:r.a.createElement(Be,{name:"zipCode",label:f("Zip code"),value:a.zipCode,error:t.zipCode,onChange:u,disabled:o})};return r.a.createElement(Se,{className:p.paper},r.a.createElement("form",{onSubmit:s,noValidate:!0},r.a.createElement(ve.a,{container:!0,spacing:2,justify:"center"},i.map((function(e){var t=e.span,a=e.component;return r.a.createElement(ve.a,{item:!0,xs:t,key:a},h[a])})),r.a.createElement(ve.a,{item:!0,xs:12,align:"right"},r.a.createElement(ye.a,{type:"submit",disabled:o},f("Save"))))))}Ga.defaultProps={errors:{},values:{},cities:[],layout:[],onChange:function(){},onSubmit:function(){}};var Ja=Ga;function Za(e){var t=Object(n.useCallback)((function(e){return e.map((function(e){return{label:e.name,value:e.id,zipCode:e.zip,country:e.country&&e.country.id}}))}),[]),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,a=void 0===t?10:t,r=e.fetchAPI,c=e.transform,o=void 0===c?function(e){return e}:c,i=Object(n.useState)([]),l=Object(d.a)(i,2),u=l[0],s=l[1],m=Object(n.useState)(0),p=Object(d.a)(m,2),f=p[0],h=p[1],b=Object(n.useState)(!1),g=Object(d.a)(b,2),v=g[0],y=g[1],C=Object(n.useRef)(1),E=Object(n.useMemo)((function(){return u.length<f}),[u,f]),O=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.append,c=t.reset;return c&&(s([]),h(0),C.current=1),y(!0),r(e,{page:C.current,limit:a}).then((function(e){var t=e.data,a=void 0===t?[]:t,r=e.total;s((function(e){return n?[].concat(Object(Te.a)(e),Object(Te.a)(o(a))):o(a)})),h(r)})).finally((function(){y(!1)}))}),[a,r,o]),j=Object(n.useCallback)((function(e){if(E&&!v)return C.current+=1,O(e,{append:!0})}),[E,v,O]);return Object(n.useMemo)((function(){return{data:u,total:f,page:C.current,fetching:v,fetchData:O,loadMore:j}}),[u,f,v,O,j])}(Object(s.a)({fetchAPI:te.fetchCities,transform:t},e)),r=a.data,c=a.total,o=a.page,i=a.fetching,l=a.fetchData,u=a.loadMore;return Object(n.useMemo)((function(){return{cities:r,totalCities:c,page:o,fetchingCities:i,fetchCities:l,loadMoreCities:u}}),[r,c,o,i,l,u])}var $a=function(e){var t=e.redirectToAddressList,a=e.match,c=e.history,o=e.location,i=le(),l=i.config,u=i.setInvoicingAddress,m=i.setDeliveryAddress,p=a.params.addressId,f=Object(h.b)().enqueueSnackbar,b=Object(n.useState)(!0),g=Object(d.a)(b,2),v=g[0],C=g[1],E=Object(n.useState)(!1),O=Object(d.a)(E,2),j=O[0],k=O[1],P=Object(n.useState)([]),x=Object(d.a)(P,2),w=x[0],N=x[1],A=Object(n.useState)(!1),S=Object(d.a)(A,2),T=S[0],I=S[1],D=Object(n.useState)({name:"",personName:"",addressComplement:"",address:"",city:"",zipCode:"",country:"",id:void 0}),R=Object(d.a)(D,2),q=R[0],B=R[1],L=Za(),F=L.cities,M=L.fetchingCities,z=L.fetchCities,W=L.loadMoreCities,_=Object(n.useCallback)((function(){var e=o&&o.state&&o.state.fromUrl;e?c.replace(e):t()}),[o,c,t]);function U(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(Jt.a)(Gt.a.mark((function e(t){return Gt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!0),(t.id?te.updateAddress(t.id,t):te.addAddress(t)).then((function(e){e.id&&(u(e.id),m(e.id))})).then((function(){k(!1),_()})).catch((function(){f($("Error"),{variant:"error"}),k(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){p?te.fetchAddress(p).then((function(e){B(e),C(!1)})).catch(t):C(!1)}),[p,t]);var H=Object(Ha.a)({validateOnChange:T,initialValues:{name:q.name,personName:q.personName,addressComplement:q.addressComplement,address:q.address,city:q.city,zipCode:q.zipCode,country:q.country,id:q.id},validate:function(e){var t={};return e.address||(t.address="".concat($("Address")," ").concat($("Required"))),e.country||(t.country="".concat($("Country")," ").concat($("Required"))),t},onSubmit:function(){var e=Object(Jt.a)(Gt.a.mark((function e(t){return Gt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),enableReinitialize:!0}),V=H.values,Y=H.errors,X=H.handleChange,G=H.handleSubmit,J=H.setValues,Z=H.setFieldValue,$=dt().t,K=Object(n.useCallback)((function(e){e.preventDefault(),I(!0),G()}),[G]),ee=Object(n.useCallback)((function(e){Z(e,"")}),[Z]),ae=Object(n.useCallback)((function(e){var t=e.target,a=t.name,n=t.value;if("city"===a){var r=F.find((function(e){return e.value===n}));r&&J(Object(s.a)({},V,{city:n,zipCode:r.zipCode||"",country:r.country}))}else"country"===a?J(Object(s.a)({},V,{country:n,city:"",zipCode:""})):X(e)}),[F,X,V,J]),ne=Object(n.useCallback)((function(){V.country&&W(V.country)}),[V.country,W]);Object(n.useEffect)((function(){V.country&&z(V.country,{reset:!0})}),[V.country,z]),Object(n.useEffect)((function(){te.fetchCountries().then((function(e){N(e.map((function(e){return{label:e.name,value:e.id}})))}))}),[]);var re={span:4,component:"zipCode"},ce={span:8,component:"city"},oe=[{span:12,component:"addresss"},{span:12,component:"addressComplement"},{span:12,component:"country"}].concat(Object(Te.a)(l.isZipOnLeftOnEshop?[re,ce]:[ce,re]));return v?r.a.createElement(y,null):r.a.createElement(ve.a,{container:!0},r.a.createElement(ve.a,{item:!0,xs:12,md:3}),r.a.createElement(ve.a,{item:!0,xs:12,md:6},r.a.createElement(Ja,{cities:F,countries:w,values:V,errors:Y,disabled:j,layout:oe,fetchingCities:M,onSubmit:K,onChange:ae,onClear:ee,onLoadMoreCities:ne})),r.a.createElement(ve.a,{item:!0,xs:12,md:3}))};var Ka=function(e){var t=e.match,a=e.history,n=t.path,c=t.url,o=n+"/new",i=n+"/:addressId",l=n,s=r.a.useCallback((function(e,t){(t?a.replace:a.push)(e)}),[a]),d=r.a.useCallback((function(){s("".concat(c,"/new"))}),[c,s]),m=r.a.useCallback((function(e,t){s("".concat(c,"/").concat(t.id))}),[c,s]),p=r.a.useCallback((function(){s(c,!0)}),[c,s]),f=r.a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){return r.a.createElement(e,Object.assign({},a,t))}}),[]);return r.a.createElement(u.g,null,r.a.createElement(u.d,{path:o,render:f($a,{redirectToAddressList:p})}),r.a.createElement(u.d,{path:i,render:f($a,{redirectToAddressList:p})}),r.a.createElement(u.d,{path:l,render:f(Qa,{onNew:d,onEdit:m})}),r.a.createElement(u.c,{to:n}))},en=a(148),tn=Object(f.a)((function(e){return{paper:{padding:e.spacing(3)},error:{color:e.palette.error.main}}})),an=function(e){var t=e.onChange,a=e.inputRef,n=Object(se.a)(e,["onChange","inputRef"]);return r.a.createElement(en.a,Object.assign({},n,{getInputRef:a,onValueChange:function(a){t({target:{name:e.name,value:a.value}})},isNumericString:!0}))};function nn(e){var t=function(e,t){return 1===e.length&&e[0]>t[0]&&(e="0"+e),2===e.length&&(0===Number(e)?e="01":e>t&&(e=t)),e}(e.substring(0,2),"12"),a=e.substring(2,4);return t+(a.length?"/"+a:"")}function rn(e){var t=e.errors,a=e.values,n=e.disabled,c=e.onChange,o=e.onSubmit,i=tn(),l=dt().t;return r.a.createElement(Se,{className:i.paper},r.a.createElement("form",{onSubmit:o,noValidate:!0},r.a.createElement(ve.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(ve.a,{item:!0,xs:12},r.a.createElement(Be,{name:"name",label:l("Name"),disabled:n,value:a.name,error:t.name,onChange:c,required:!0})),r.a.createElement(ve.a,{item:!0,xs:12},r.a.createElement(Be,{name:"cardNumber",label:l("Card number"),disabled:n,value:a.cardNumber,error:t.cardNumber,onChange:c,required:!0,InputProps:{inputComponent:an,inputProps:{format:"#### #### #### ####",placeholder:"1234 1234 1234 1234"}}})),r.a.createElement(ve.a,{item:!0,xs:6},r.a.createElement(Be,{name:"expiry",label:l("Expiry"),disabled:n,value:a.expiry,error:t.expiry,onChange:c,required:!0,InputProps:{inputComponent:an,inputProps:{format:nn,placeholder:"MM/YY"}}})),r.a.createElement(ve.a,{item:!0,xs:6},r.a.createElement(Be,{name:"cvc",label:l("CVC"),disabled:n,value:a.cvc,error:t.cvc,onChange:c,required:!0,InputProps:{inputComponent:an,inputProps:{format:"####",placeholder:"CVC"}}})),r.a.createElement(ve.a,{item:!0,xs:12,align:"right"},r.a.createElement(ye.a,{raised:!0,type:"submit",disabled:n},l("Save"))))))}rn.defaultProps={errors:{},values:{},disabled:!1,onChange:function(){},onSubmit:function(){}};var cn=rn;var on=function(e){var t=e.redirectToCardList,a=e.match.params.cardId,c=dt().t,o=Object(h.b)().enqueueSnackbar,i=Object(n.useState)(!0),l=Object(d.a)(i,2),u=l[0],s=l[1],m=Object(n.useState)(!1),p=Object(d.a)(m,2),f=p[0],b=p[1],g=Object(n.useState)({name:"",cardNumber:"",expiry:"",cvc:""}),v=Object(d.a)(g,2),C=v[0],E=v[1],O=Object(n.useState)(!1),j=Object(d.a)(O,2),k=j[0],P=j[1];function x(e){return w.apply(this,arguments)}function w(){return(w=Object(Jt.a)(Gt.a.mark((function e(a){return Gt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!0),(C.id?te.updatePaymentCard(C.id,a):te.addPaymentCard(a)).then((function(){b(!1),t()})).catch((function(e){o(c("Error")+"".concat(e.message?" :  ".concat(e.message):""),{variant:"error"}),b(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=Object(Ha.a)({validateOnChange:k,initialValues:{name:C.name,cardNumber:C.cardNumber,expiry:C.expiry,cvc:C.cvc},validate:function(e){var t,a,n,r={};return e.name||(r.name="".concat(c("Name")," ").concat(c("Required"))),e.cardNumber?(t=String(e.cardNumber).length,a=14,n=16,t&&t>=a&&t<=n||(r.cardNumber="".concat(c("Invalid card number")))):r.cardNumber="".concat(c("Card number")," ").concat(c("Required")),e.expiry?String(e.expiry).length<4&&(r.expiry="".concat(c("Invalid expiry"))):r.expiry="".concat(c("Expiry")," ").concat(c("Required")),e.cvc?String(e.cvc).length<3&&(r.cvc="".concat(c("Invalid cvc"))):r.cvc="".concat(c("CVC")," ").concat(c("Required")),r},onSubmit:function(){var e=Object(Jt.a)(Gt.a.mark((function e(t){return Gt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),enableReinitialize:!0}),A=N.values,S=N.errors,T=N.handleSubmit,I=N.handleChange;Object(n.useEffect)((function(){a?te.fetchPaymentCard(a).then((function(e){E(e),s(!1)})).catch(t):s(!1)}),[a,t]);var D=Object(n.useCallback)((function(e){e.preventDefault(),P(!0),T()}),[T]);return u?r.a.createElement(y,null):r.a.createElement(ve.a,{container:!0},r.a.createElement(ve.a,{item:!0,xs:12,md:3}),r.a.createElement(ve.a,{item:!0,xs:12,md:6},r.a.createElement(cn,{values:A,errors:S,disabled:f,onChange:I,onSubmit:D})),r.a.createElement(ve.a,{item:!0,xs:12,md:3}))},ln=a(150),un=a.n(ln),sn=a(149),dn=a.n(sn),mn=["linear-gradient(to right top, #e186d8, #e575c7, #e763b4, #e9509f, #e83a89, #e72b78, #e51a67, #e10055, #dd0045, #d80035, #d20024, #ca0810)","linear-gradient(to right top, #3dda76, #00d3a0, #00c9c0, #00bcd2, #00aed5, #00a4d4, #089ad2, #228fce, #0f87cf, #027fcf, #0877cf, #1a6ecd)","linear-gradient(to right top, #f2a826, #f09a1d, #ed8b15, #ea7c10, #e76d0e, #e96218, #ea5621, #ea4a29, #ef4038, #f33546, #f52a55, #f62063)","linear-gradient(to right top, #cd26f2, #b320df, #9a19cc, #8211b9, #6b09a6, #5e069e, #510496, #43028e, #3b048f, #310690, #250991, #140b92)"],pn={visa:mn[0],mastercard:mn[1],"american express":mn[2],default:mn[3]},fn=Object(f.a)((function(e){return{paper:{height:180,display:"flex",cursor:"pointer",flexDirection:"column",justifyContent:"space-between",padding:e.spacing(2),background:function(e){return t=e.brand,pn[t.toLowerCase()]||pn.default;var t},borderRadius:"".concat(e.spacing(3),"px !important")},text:{color:"white",fontWeight:"bold"},number:{letterSpacing:e.spacing(.5)},icon:{color:"#ffc107"}}}));function hn(e){var t=e.card,a=e.isDefault,n=e.onEdit,c=e.onDelete,o=e.onDefault,i=t.brand,l=void 0===i?"":i,u=t.expiryDisplay,s=void 0===u?"":u,d=t.last4,m=void 0===d?"":d,p=fn({brand:l}),f=r.a.useCallback((function(e){c(e,t)}),[c,t]),h=r.a.useCallback((function(e){n(e,t)}),[n,t]),b=r.a.useCallback((function(e){o(e,t)}),[o,t]);return r.a.createElement(Se,{className:p.paper},r.a.createElement("div",null,r.a.createElement(ve.a,{container:!0,justify:"space-between"},r.a.createElement(ve.a,{item:!0},r.a.createElement(fe.a,{variant:"h6",className:p.text,align:"right"},t.brand)),r.a.createElement(ve.a,{item:!0},r.a.createElement(Ce.a,{size:"small",className:p.text,onClick:b},a?r.a.createElement(dn.a,{className:p.icon}):r.a.createElement(un.a,{className:p.icon})),r.a.createElement(Ce.a,{size:"small",className:p.text,onClick:h},r.a.createElement(Ba.a,null)),r.a.createElement(Ce.a,{size:"small",className:p.text,onClick:f},r.a.createElement(we.a,null))))),r.a.createElement("div",null,r.a.createElement(fe.a,{className:Object(de.a)(p.text,p.number),align:"center"},r.a.createElement("b",null,"\u2022\u2022\u2022\u2022  \u2022\u2022\u2022\u2022  \u2022\u2022\u2022\u2022  ".concat(m||"\u2022\u2022\u2022\u2022")))),r.a.createElement("div",null,r.a.createElement(ve.a,{container:!0,justify:"space-between"},r.a.createElement(ve.a,{item:!0},r.a.createElement(fe.a,{className:p.text},t.name)),r.a.createElement(ve.a,{item:!0},r.a.createElement(fe.a,{className:p.text},s)))))}hn.defaultProps={card:{},onEdit:function(){},onDelete:function(){}};var bn=hn;function gn(e){var t=e.cards,a=e.defaultCardId,n=e.onDelete,c=e.onEdit,o=e.onDefault,i=dt().t;return r.a.createElement(fa,{values:t,renderItem:function(e){return r.a.createElement(bn,{card:e,onDefault:o,onDelete:n,onEdit:c,isDefault:e.id===a})},noRecordLabel:i("No record found")})}gn.defaultProps={cards:[],onDelete:function(){},onEdit:function(){}};var vn=gn,yn=Object(f.a)((function(e){return{header:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(2)},headerAction:{fontSize:"0.7rem"},loader:{position:"absolute",inset:0,justifyContent:"center",display:"flex",alignItems:"center",backgroundColor:"rgba(0,0,0,0.4)",zIndex:2}}}));var Cn=function(e){var t=e.onNew,a=e.onEdit,c=dt().t,o=yn(),i=Object(h.b)().enqueueSnackbar,l=Object(n.useState)([]),u=Object(d.a)(l,2),s=u[0],m=u[1],p=Object(n.useState)(),f=Object(d.a)(p,2),b=f[0],g=f[1],v=Object(n.useState)(),C=Object(d.a)(v,2),E=C[0],O=C[1],j=Object(n.useState)(!0),k=Object(d.a)(j,2),P=k[0],x=k[1],w=Object(n.useState)(!1),N=Object(d.a)(w,2),A=N[0],S=N[1],T=Object(n.useState)(!1),I=Object(d.a)(T,2),D=I[0],R=I[1];function q(){O(null),S(!1)}Object(n.useEffect)((function(){te.fetchPaymentCards().then((function(e){var t=e.data;te.fetchDefaultPaymentCard().then((function(e){e.id&&g(e.id),m(t),x(!1)})).catch((function(){m(t),x(!1)}))})).catch((function(){x(!1)}))}),[]);var B=Object(n.useCallback)((function(e,t){var a=t.id;return R(!0),te.updateDefaultPaymentCard(a).then((function(){g(a)})).catch((function(){i(c("Error"),{variant:"error"})})).finally((function(){R(!1)}))}),[i,c]);return P?r.a.createElement(y,null):r.a.createElement(r.a.Fragment,null,D&&r.a.createElement("div",{className:o.loader},r.a.createElement(y,null)),r.a.createElement("div",{className:o.header},r.a.createElement(fe.a,{variant:"h5"},c("Credit card")),r.a.createElement(ye.a,{className:o.headerAction,onClick:t},c("Add a credit card"))),r.a.createElement(vn,{cards:s,defaultCardId:b,onDelete:function(e,t){O(t),S(!0)},onDefault:B,onEdit:a}),r.a.createElement(pt,{onConfirm:function(){var e=E.id;te.deletePaymentCard(e).then((function(){return function(e){m((function(t){return t.filter((function(t){return t.id!==e}))}))}(e)})).catch((function(){i(c("Error"),{variant:"error"})})).finally(q)},onClose:q,title:c("Confirm deletion"),open:A},r.a.createElement("p",null,E&&"\u2022\u2022\u2022\u2022  \u2022\u2022\u2022\u2022  \u2022\u2022\u2022\u2022  ".concat(E.last4))))};var En=function(e){var t=e.match,a=e.history,n=t.path,c=t.url,o=n+"/new",i=n+"/:cardId",l=n,s=r.a.useCallback((function(e,t){(t?a.replace:a.push)(e)}),[a]),d=r.a.useCallback((function(){s("".concat(c,"/new"))}),[c,s]),m=r.a.useCallback((function(e,t){s("".concat(c,"/").concat(t.id))}),[c,s]),p=r.a.useCallback((function(){s(c,!0)}),[c,s]),f=r.a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){return r.a.createElement(e,Object.assign({},a,t))}}),[]);return r.a.createElement(u.g,null,r.a.createElement(u.d,{exact:!0,path:o,render:f(on,{redirectToCardList:p})}),r.a.createElement(u.d,{exact:!0,path:i,render:f(on,{redirectToCardList:p})}),r.a.createElement(u.d,{exact:!0,path:l,render:f(Cn,{onNew:d,onEdit:m})}))},On=a(290),jn=a(291),kn=a(296),Pn=a(289),xn=a(285),wn=a(272),Nn=a(224),An=a(288),Sn=a(286),Tn=a(287),In=a(152),Dn=a.n(In),Rn=a(153),qn=a.n(Rn),Bn=a(154),Ln=a.n(Bn),Fn=a(155),Mn=a.n(Fn),zn=a(156),Wn=a.n(zn),_n=a(151),Un=a.n(_n),Qn=Object(f.a)((function(e){return{root:{color:e.palette.secondary.main}}}));function Hn(e){var t=e.onClick,a=e.size,n=e.className,c=Qn();return r.a.createElement(Ce.a,{size:a,onClick:t,className:Object(de.a)(c.root,n)},r.a.createElement(Un.a,null))}Hn.defaultProps={onClick:function(){},size:"medium"};var Vn=Hn,Yn=Object(f.a)({root:{width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-start"}});function Xn(e){var t=e.onBack,a=Yn();return r.a.createElement("div",{className:a.root},r.a.createElement(Vn,{onClick:t}))}Xn.defaultProps={onBack:function(){}};var Gn=Object(f.a)((function(e){return{badge:{color:"#FFFFFF",backgroundColor:e.palette.secondary.main}}}));function Jn(e){var t=e.onClick,a=(e.content,Gn()),n=le().cart,c=Object.values(n||{}).reduce((function(e,t){return Number(e)+Number(t)}),0);return r.a.createElement(Ce.a,{size:"small",onClick:t},r.a.createElement(xn.a,{badgeContent:c,classes:{badge:a.badge}},r.a.createElement(Dn.a,null)))}var Zn=Object(f.a)((function(e){return{root:{width:"100%",display:"flex",alignItems:"center"},grow:{flexGrow:1},eshopName:{color:e.palette.secondary.main,fontWeight:"bold"},sidebarPaper:{paddingTop:e.spacing(5)},listItem:{"&:hover":{color:e.palette.secondary.main,backgroundColor:e.palette.secondary.light,"& .list-icon":{color:e.palette.secondary.main}}}}}));function $n(e){var t=e.showMenuButton,a=e.showBackButton,c=e.onBack,o=e.onCheckout,i=e.onLinkClick,l=dt().t,u=Zn(),s=Object(n.useState)(!1),m=Object(d.a)(s,2),p=m[0],f=m[1],h=Object(n.useCallback)((function(e){f(!1),setTimeout((function(){i(e)}),200)}),[i]),b=[{label:l("Eshop"),Icon:qn.a,onClick:function(){return h("eshop")}},{label:l("Addresses"),Icon:Ln.a,onClick:function(){return h("address")}},{label:l("Payment Cards"),Icon:Mn.a,onClick:function(){return h("payment-card")}}];return r.a.createElement("div",{className:u.root},t&&r.a.createElement(Ce.a,{onClick:function(){f((function(e){return!e}))}},r.a.createElement(Wn.a,null)),a&&r.a.createElement(Vn,{onClick:c}),"\xa0",r.a.createElement("div",{className:u.grow}),r.a.createElement(Jn,{onClick:o}),r.a.createElement(Sn.a,{anchor:"left",open:p,onClose:function(){return f(!1)},ModalProps:{disablePortal:!0},PaperProps:{className:u.sidebarPaper}},r.a.createElement("div",null,r.a.createElement(pe,null)),r.a.createElement(wn.a,null,b.map((function(e){var t=e.label,a=e.Icon,n=e.onClick;return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(Nn.a,{button:!0,key:t,className:u.listItem,onClick:n},r.a.createElement(Tn.a,{className:"list-icon"},r.a.createElement(a,null)),r.a.createElement(An.a,{primary:t})))})))))}$n.defaultProps={showBackButton:!0,showMenuButton:!0,onBack:function(){},onCheckout:function(){},onLinkClick:function(){}};var Kn=Object(f.a)((function(e){return{container:{display:"flex",alignItems:"center"},tabsIndicator:{backgroundColor:e.palette.secondary.main},tabRoot:{"&:hover":{backgroundColor:e.palette.secondary.light,color:e.palette.secondary.main}},tabSelected:{backgroundColor:e.palette.secondary.light,color:e.palette.secondary.main},rippleChild:{backgroundColor:e.palette.secondary.main}}}));function er(e){var t=e.activeLink,a=e.onClick,n=e.onCheckout,c=e.isPaymentCardActivated,o=dt().t,i=Kn();return r.a.createElement("div",{className:i.container},r.a.createElement(kn.a,{value:t,classes:{indicator:i.tabsIndicator}},[{route:"eshop",label:o("Eshop")},{route:"address",label:o("Addresses")},{route:"payment-card",label:o("Payment Cards"),active:c}].map((function(e){var t=e.active,n=void 0===t||t,c=Object(se.a)(e,["active"]);return n&&r.a.createElement(Pn.a,{classes:{root:i.tabRoot,selected:i.tabSelected},key:c.route,label:c.label,value:c.route,onClick:function(){a&&a(c.route)},TouchRippleProps:{classes:{child:i.rippleChild}}})}))),"\xa0",r.a.createElement(Jn,{onClick:n}))}ar.defaultProps={activeLink:"shop",onClick:function(){}};var tr=Object(f.a)((function(e){return{appbar:{zIndex:1e3,backgroundColor:"#FFFFFF"},toolbar:{width:"100%",height:"100%",margin:"auto",justifyContent:"flex-end",maxWidth:1400+e.spacing(2)}}}));function ar(e){var t=e.location,a=e.history,c=e.match,o=e.isPaymentCardActivated,i=c.url,l=c.path,s=t.pathname,d=tr(),m=Object(n.useCallback)((function(){return s.includes("eshop/address")?"address":s.includes("eshop/payment-card")?"payment-card":"eshop"}),[s]),p=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eshop";"address"===e?a.push("".concat(l,"/address")):"payment-card"===e?a.push("".concat(l,"/payment-card")):a.push(l)}),[a,l]),f=Object(n.useCallback)((function(){a.push("".concat(i,"/checkout"))}),[a,i]),h=Object(n.useCallback)((function(){a.replace("".concat(i,"/address"))}),[a,i]),b=Object(n.useCallback)((function(){a.replace("".concat(i,"/payment-card"))}),[a,i]),g=Object(n.useCallback)((function(){a.replace({pathname:i,state:t.state,search:t.search})}),[a,i,t]),v=Object(n.useCallback)((function(){var e=t&&t.state&&t.state.fromUrl;e?a.replace(e):h()}),[a,t,h]),y={activeLink:m(),onClick:p,onCheckout:f,isPaymentCardActivated:o};return r.a.createElement(On.a,{className:d.appbar,position:"relative",color:"default"},r.a.createElement(jn.a,{className:d.toolbar,variant:"dense"},r.a.createElement(u.g,null,r.a.createElement(u.d,{exact:!0,path:l,render:function(e){return r.a.createElement(er,Object.assign({},e,y))}}),r.a.createElement(u.d,{exact:!0,path:"".concat(l,"/address"),render:function(e){return r.a.createElement(er,Object.assign({},e,y))}}),r.a.createElement(u.d,{path:"".concat(l,"/address/:addressId"),render:function(e){return r.a.createElement(Xn,Object.assign({},e,{onBack:v}))}}),r.a.createElement(u.d,{exact:!0,path:"".concat(l,"/payment-card"),render:function(e){return r.a.createElement(er,Object.assign({},e,y))}}),r.a.createElement(u.d,{path:"".concat(l,"/payment-card/:paymentCardId"),render:function(e){return r.a.createElement(Xn,Object.assign({},e,{onBack:b}))}}),r.a.createElement(u.d,{path:"".concat(l,"/checkout/:message"),render:function(e){return null}}),r.a.createElement(u.d,{path:"".concat(l,"/checkout"),render:function(e){return r.a.createElement($n,Object.assign({},e,{onBack:g,onCheckout:f,onLinkClick:p,showMenuButton:!1}))}}),r.a.createElement(u.d,{path:"".concat(l,"/product/:productId"),render:function(e){return r.a.createElement($n,Object.assign({},e,{onBack:g,onCheckout:f,onLinkClick:p,showMenuButton:!1}))}}))))}ar.defaultProps={activeLink:"shop",onClick:function(){},onCheckout:function(){}};var nr=Object(u.o)(ar),rr=Object(f.a)((function(e){return{container:Object(m.a)({position:"relative",overflow:"auto",height:function(e){return"calc(100% - ".concat(6*e.theme.spacingUnit,"px)")},padding:function(e){return 3*e.theme.spacingUnit},maxWidth:1400,marginRight:"auto",marginLeft:"auto"},e.breakpoints.down("sm"),{padding:function(e){return 2*e.theme.spacingUnit}})}}));var cr=function(e){var t=r.a.useState(!0),a=Object(d.a)(t,2),n=a[0],c=a[1],o=ne().user,i=o&&o.language,l=r.a.useState({isPaymentCardActivated:!1}),m=Object(d.a)(l,2),f=m[0],h=m[1],b=e.match.path,g=Object(p.useTheme)(),v=rr({theme:g}),C=dt().i18n,E=b+"/address",O=b+"/payment-card",j=b;return r.a.useEffect((function(){te.fetchPaymentCardConfiguration().then((function(e){h(Object(s.a)({},e))})).finally((function(){c(!1)}))}),[]),r.a.useEffect((function(){i&&(c(!0),C.changeLanguage(i).finally((function(){c(!1)})))}),[i,C]),n?r.a.createElement(y,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(nr,{isPaymentCardActivated:f.isPaymentCardActivated}),r.a.createElement("div",{className:v.container},r.a.createElement(u.g,null,r.a.createElement(u.d,{path:E,component:Ka}),f.isPaymentCardActivated&&r.a.createElement(u.d,{path:O,component:En}),r.a.createElement(u.d,{path:j,component:Ra}),r.a.createElement(u.c,{to:{pathname:b}}))))},or=a(157),ir=a(292),lr={darkBlue:"#293847",grey:"#9E9E9E",green:"#3ECF8E",lightGreen:"rgba(62, 207, 142, 0.1)"},ur=Object(or.a)({palette:{primary:{main:lr.darkBlue},secondary:{light:lr.lightGreen,main:lr.green,contrastText:"#FFFFFF"}},overrides:{MuiTypography:{colorTextPrimary:{color:lr.darkBlue}},MuiButton:{root:{borderRadius:20}}},props:{MuiInput:{disableUnderline:!0},MuiTextField:{variant:"outlined",margin:"dense",fullWidth:!0},MuiButton:{variant:"contained",color:"secondary"}},custom:{COLORS:lr}});f.a;var sr=function(e){var t=e.children;return r.a.createElement(ir.a,{theme:ur},r.a.createElement(i.a,null),t)};var dr=function(e){var t=e.children,a=r.a.useMemo((function(){return{vertical:"bottom",horizontal:"left"}}),[]);return r.a.createElement(h.a,{autoHideDuration:3e3,maxSnack:3,anchorOrigin:a},t)};var mr=function(){return r.a.createElement(r.a.Suspense,{fallback:""},r.a.createElement(l.HashRouter,null,r.a.createElement(i.a,null),r.a.createElement(sr,null,r.a.createElement(st,null,r.a.createElement(re,null,r.a.createElement(ue,null,r.a.createElement(dr,null,r.a.createElement(u.g,null,r.a.createElement(u.d,{path:"/eshop",component:cr}),r.a.createElement(u.c,{to:"/eshop"})))))))))};a(218),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(mr,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[178,1,2]]]);
//# sourceMappingURL=main.29136a02.chunk.js.map