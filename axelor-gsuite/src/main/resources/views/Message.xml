<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_5.3.xsd">

    <!--Lead Form Email dashlet -->
    <action-view id="gsuite-action-lead-view-emails" name="action-lead-view-emails" title="Emails" model="com.axelor.apps.message.db.Message">
		<view type="grid" name="message-grid"/>
		<view type="form" name="message-form"/>
		<domain>self.mediaTypeSelect = 2 AND (
			(self.id IN (SELECT message.id FROM MultiRelated as related WHERE related.relatedToSelect = 'com.axelor.apps.crm.db.Lead' AND related.relatedToSelectId = :id)) 
			OR (self.fromEmailAddress.id = :idEmail)
			OR (self.relatedList.relatedToSelect = 'com.axelor.apps.crm.db.Lead' AND self.relatedList.relatedToSelectId = :id))</domain>
		<context name="id" expr="eval: id"/>
		<context name="idEmail" expr="eval: emailAddress?.id"/>
	</action-view>

</object-views>
